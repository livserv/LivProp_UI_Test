"use strict";(self.webpackChunklib_prop_ui=self.webpackChunklib_prop_ui||[]).push([[151],{88983:(e,t,n)=>{n.d(t,{Z:()=>a});var r=n(93701),i=n(46417);function a(e){let{children:t,type:n}=e;return(0,i.jsx)(r.E.div,{whileHover:{scale:1},whileTap:{scale:.9},children:t})}a.defaultProps={type:"scale"}},97316:(e,t,n)=>{n.d(t,{Z:()=>h});var r=n(47313),i=n(19860),a=n(73428),s=n(54641),o=n(61113),l=n(93405),c=n(46417);const d={p:2.5,"& .MuiCardHeader-action":{m:"0px auto",alignSelf:"center"}},h=(0,r.forwardRef)(((e,t)=>{let{border:n=!0,boxShadow:r,children:h,content:x=!0,contentSX:p={},darkTitle:u,elevation:m,secondary:g,shadow:Z,sx:j={},title:v,...f}=e;const b=(0,i.Z)();return r="dark"===b.palette.mode?r||!0:r,(0,c.jsxs)(a.Z,{elevation:m||0,ref:t,...f,sx:{border:n?"1px solid":"none",borderRadius:2,borderColor:"dark"===b.palette.mode?b.palette.divider:b.palette.grey.A800,boxShadow:!r||n&&"dark"!==b.palette.mode?"inherit":Z||b.customShadows.z1,":hover":{boxShadow:r?Z||b.customShadows.z1:"inherit"},"& pre":{m:0,p:"16px !important",fontFamily:b.typography.fontFamily,fontSize:"0.75rem"},...j},children:[!u&&v&&(0,c.jsx)(s.Z,{sx:d,titleTypographyProps:{variant:"subtitle1"},title:v,action:g}),u&&v&&(0,c.jsx)(s.Z,{sx:d,title:(0,c.jsx)(o.Z,{variant:"h3",children:v}),action:g}),x&&(0,c.jsx)(l.Z,{sx:p,children:h}),!x&&h]})}))},66578:(e,t,n)=>{n.d(t,{Z:()=>s});n(47313);var r=n(31095),i=n(85281),a=n(46417);const s=e=>{let{isLoading:t,children:n,...s}=e;return(0,a.jsx)(r.Z,{...s,children:t?(0,a.jsx)(i.Z,{size:25,color:"primary"}):n})}},72907:(e,t,n)=>{n.r(t),n.d(t,{default:()=>N});n(47313);var r=n(9019),i=n(61113),a=n(41806),s=n(19536),o=n(42832),l=n(23306),c=n(15480),d=n(97316),h=n(23509),x=n(969),p=n(37843),u=n(31095),m=n(93405),g=n(56104),Z=n(61689),j=n(47131),v=n(51997),f=n(10237),b=n(88983),y=n(19259),w=n(3463),S=n(24977),P=n(69753);var k=n(66578),_=n(46417);const C=e=>{window.open(e)},z={margin:{xs:2.5,md:3},"& > *":{flexGrow:1,flexBasis:"50%"}};const N=function(){var e;const t=(0,h.tN)((e=>e.botsList)),[n]=(0,x.g)(),s=null===(e=t.find((e=>e._id===n)))||void 0===e?void 0:e.trainingMedia,o=(0,h.tN)((e=>e.organizationId));return(0,_.jsxs)(_.Fragment,{children:[(0,_.jsx)(r.ZP,{item:!0,xs:12,sx:{mb:2.25},children:(0,_.jsx)(i.Z,{variant:"h5",children:"Training Documents"})}),(0,_.jsx)(d.Z,{sx:z,content:!1,border:!1,boxShadow:!0,children:(0,_.jsx)(a.Z,{sx:{p:{xs:2,sm:3,md:4,xl:5}},children:(0,_.jsx)(r.ZP,{container:!0,spacing:3,children:(0,_.jsx)(D,{botId:n,organizationId:o})})})}),(0,_.jsx)(a.Z,{children:(0,_.jsx)(r.ZP,{container:!0,spacing:3,children:(0,_.jsx)(U,{trainingMedia:s})})})]})};function D(e){let{botId:t,organizationId:n}=e;return(0,_.jsxs)(_.Fragment,{children:[(0,_.jsx)(r.ZP,{item:!0,xs:12,children:(0,_.jsx)(s.Z,{children:(0,_.jsx)(i.Z,{variant:"caption",children:"Upload Training Documents"})})}),(0,_.jsx)(r.ZP,{item:!0,xs:12,children:(0,_.jsx)(S.J9,{initialValues:{webpageUrl:""},validationSchema:w.Ry().shape({webpageUrl:w.Z_().matches(/((https?):\/\/)?(www.)?[a-z0-9]+(\.[a-z]{2,}){1,3}(#?\/?[a-za-z0-9#]+)*\/?(\?[a-za-z0-9-_]+=[a-za-z0-9-%]+&?)?$/,"Enter valid url!").required("please enter webpage url")}),onSubmit:async(e,r)=>{let{setErrors:i,setStatus:a,setSubmitting:s}=r;try{const r={url:e.webpageUrl};console.log(r),await async function(e,t,n){const r=await P.v("/bot/add-training-media",e,{headers:{botId:t,Organizationid:n}}),{trainingMedia:i}=r;((e,t)=>{h.tN.setState((n=>{const r=n.botsList.map((n=>n._id===e?{...n,trainingMedia:t}:n));return{...n,botsList:r}}))})(t,i)}(r,t,n),a({success:!1}),s(!1)}catch(o){console.log(o),a({success:!1}),i({submit:o.message}),s(!1)}},children:e=>{let{errors:t,handleBlur:a,handleChange:s,handleSubmit:d,isSubmitting:h,touched:x,values:u}=e;return(0,_.jsx)("form",{noValidate:!0,onSubmit:d,children:(0,_.jsxs)(r.ZP,{container:!0,spacing:1,children:[(0,_.jsx)(r.ZP,{item:!0,xs:12,md:4,children:(0,_.jsxs)(o.Z,{spacing:1,children:[(0,_.jsx)(l.Z,{htmlFor:"webpage-url",children:"Webpage Url"}),(0,_.jsx)(p.Z,{id:"webpage-url",type:"webpageUrl",defaultValue:u.webpageUrl,name:"webpageUrl",onBlur:a,onChange:s,fullWidth:!0,placeholder:"http://www.abc.com/index.html",error:Boolean(x.webpageUrl&&t.webpageUrl)}),x.webpageUrl&&t.webpageUrl&&(0,_.jsx)(c.Z,{error:!0,id:"helper-text-webpage-url",children:t.webpageUrl})]})}),(0,_.jsx)(r.ZP,{item:!0,xs:12,md:2,children:(0,_.jsxs)(o.Z,{spacing:1,children:[(0,_.jsx)(l.Z,{children:"\xa0"}),(0,_.jsx)(b.Z,{children:(0,_.jsx)(k.Z,{isLoading:h,disabled:h,color:"primary",size:"large",type:"submit",variant:"contained",id:"webpageUrlSubmit",children:"Update"})})]})}),(0,_.jsx)(r.ZP,{item:!0,xs:12,md:1,children:(0,_.jsx)(i.Z,{variant:"caption",children:"OR"})}),(0,_.jsx)(r.ZP,{item:!0,xs:12,md:5,children:(0,_.jsxs)(o.Z,{spacing:1,children:[(0,_.jsx)(l.Z,{children:"File Upload (.pdf,.doc,.docx,.txt)"}),(0,_.jsx)(T,{organizationId:n})]})})]})})}})})]})}function T(e){let{organizationId:t}=e;return(0,_.jsx)(S.J9,{initialValues:{file:""},validationSchema:w.Ry({files:w.nK().required("please enter webpage url")}),onSubmit:async(e,n)=>{let{setErrors:r,setStatus:i,setSubmitting:a}=n;try{const n={organizationId:t,data:e};console.log(n),i({success:!1}),a(!1)}catch(s){i({success:!1}),r({submit:s.message}),a(!1)}},children:(0,_.jsx)(S.gN,{type:"file",name:"file",as:e=>{let{field:t}=e;return(0,_.jsx)(b.Z,{children:(0,_.jsxs)(u.Z,{variant:"contained",component:"label",htmlFor:"file-input",size:"large",children:["Upload File",(0,_.jsx)("input",{...t,type:"file",id:"file-input",style:{display:"none"},onChange:e=>handleFileChange(e,setFieldValue),accept:".pdf,.doc,.docx,.txt,text/plain"})]})})}})})}function U(e){let{trainingMedia:t}=e;return(0,_.jsxs)(_.Fragment,{children:[(0,_.jsx)(r.ZP,{item:!0,xs:12,children:(0,_.jsx)(s.Z,{children:t&&0!==t.length?(0,_.jsx)(i.Z,{variant:"caption",children:"Uploaded Training Documents"}):(0,_.jsx)(i.Z,{variant:"caption",color:"#FF0000",children:(0,_.jsxs)(r.ZP,{container:!0,spacing:1,justify:"center",children:[(0,_.jsx)(r.ZP,{item:!0,xs:12,children:(0,_.jsx)(y.Z,{style:{fontSize:40}})}),(0,_.jsx)(r.ZP,{item:!0,xs:12,children:"Training Documents are not uploaded!"})]})})})}),t&&t.map(((e,t)=>(0,_.jsx)(r.ZP,{item:!0,xs:12,sm:6,children:(0,_.jsx)(E,{media:e})},t)))]})}function E(e){let{media:t}=e;const{name:n,url:a,type:s,originalName:o}=t;return(0,_.jsxs)(d.Z,{contentSX:{p:2.25},children:[(0,_.jsxs)(m.Z,{style:{padding:0,minHeight:"100px",maxHeight:"100px"},children:[o&&(0,_.jsxs)(i.Z,{variant:"h6",children:[(0,_.jsx)("strong",{children:"File Name :"})," ",o]}),"single_page"===s&&(0,_.jsxs)(i.Z,{variant:"h6",style:{overflow:"hidden",textOverflow:"ellipsis"},children:[(0,_.jsx)("strong",{children:"URL :"})," ",a]}),(0,_.jsxs)(i.Z,{variant:"h6",children:[(0,_.jsx)("strong",{children:"Type :"})," ","text/plain"===s?"Document":"Web Page"]}),(0,_.jsxs)(i.Z,{variant:"h6",children:[(0,_.jsx)("strong",{children:"Document Name :"})," ",n===a?"NA":n]})]}),(0,_.jsx)(g.Z,{style:{justifyContent:"flex-end",padding:"5px"},children:(0,_.jsxs)(r.ZP,{container:!0,children:[(0,_.jsx)(r.ZP,{item:!0,xs:10,md:10,children:n===a&&(0,_.jsxs)(r.ZP,{container:!0,spacing:1,children:[(0,_.jsx)(r.ZP,{item:!0,xs:9,md:9,children:(0,_.jsx)(p.Z,{id:"trainingMediaName",type:"trainingMediaName",name:"trainingMediaName",placeholder:"Document Name",fullWidth:!0})}),(0,_.jsx)(r.ZP,{item:!0,xs:3,md:3,children:(0,_.jsx)(b.Z,{children:(0,_.jsx)(u.Z,{disableElevation:!0,size:"large",type:"submit",variant:"contained",color:"primary",children:"Add"})})})]})}),(0,_.jsx)(r.ZP,{item:!0,xs:1,md:1,children:(0,_.jsx)(Z.Z,{title:"text/plain"===s?"View Document":"View Web Page",children:(0,_.jsx)(j.Z,{variant:"text",onClick:()=>C(a),children:(0,_.jsx)(f.Z,{style:{color:"#5ad74e"}})})})}),(0,_.jsx)(r.ZP,{item:!0,xs:1,md:1,children:(0,_.jsx)(Z.Z,{title:"Delete",children:(0,_.jsx)(j.Z,{variant:"text",onClick:()=>onClickDeleteFile(item),children:(0,_.jsx)(v.Z,{style:{color:"#ff0000"},fontSize:"small"})})})})]})})]})}},69753:(e,t,n)=>{function r(e){return e.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")}n.d(t,{U:()=>a,v:()=>s});var i=n(32203);async function a(e,t){return o("GET",e,t,arguments.length>2&&void 0!==arguments[2]?arguments[2]:{})}async function s(e,t){return o("POST",e,t,arguments.length>2&&void 0!==arguments[2]?arguments[2]:{})}async function o(e,t,n){let{headers:r,noAuth:i,...a}=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};const s="POST"===e||"PUT"===e;if(t=function(e){if(!e)return e;if(e.startsWith("https://"))return e;return"".concat(l).concat(e)}(t),n=n&&"object"===typeof n&&s?JSON.stringify(n):void 0,r||(r={}),r["Content-Type"]="application/json",r.Accept="application/json",!1!==i){const e=sessionStorage.getItem("token");e&&(r.Authorization="Bearer ".concat(e))}const o=await fetch(t,{...a,headers:r,body:n,method:e}),c=await o.json();if(o.ok){const{data:e,...t}=c;return delete t.status,e&&!Object.keys(t).length?e:c}throw c.message?new Error(c.message):c}const l=(c=i.H,d="/",c.replace(new RegExp("".concat(r(d),"+$")),""));var c,d},969:(e,t,n)=>{n.d(t,{g:()=>i});var r=n(23509);function i(e){const t=(0,r.tN)((e=>e.selectedBotId)),n=(0,r.tN)((n=>n.botsMap[e||t]));return[e||t,n]}},32203:(e,t,n)=>{n.d(t,{H:()=>r,l:()=>i});const r="https://devbackend.livhousing.com",i={NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0,REACT_APP_NGROK_BACKEND_URL:"https://60f1-203-192-224-75.ngrok-free.app",REACT_APP_VERSION:"1",REACT_APP_BACKEND_URL:"https://devbackend.livhousing.com"}.REACT_APP_IP_DATA_API_KEY},85281:(e,t,n)=>{n.d(t,{Z:()=>T});var r=n(30168),i=n(63366),a=n(87462),s=n(47313),o=n(94146),l=n(21921),c=n(30686),d=n(91615),h=n(77342),x=n(17592),p=n(77430),u=n(32298);function m(e){return(0,u.Z)("MuiCircularProgress",e)}(0,p.Z)("MuiCircularProgress",["root","determinate","indeterminate","colorPrimary","colorSecondary","svg","circle","circleDeterminate","circleIndeterminate","circleDisableShrink"]);var g,Z,j,v,f=n(46417);const b=["className","color","disableShrink","size","style","thickness","value","variant"];let y,w,S,P;const k=44,_=(0,c.F4)(y||(y=g||(g=(0,r.Z)(["\n  0% {\n    transform: rotate(0deg);\n  }\n\n  100% {\n    transform: rotate(360deg);\n  }\n"])))),C=(0,c.F4)(w||(w=Z||(Z=(0,r.Z)(["\n  0% {\n    stroke-dasharray: 1px, 200px;\n    stroke-dashoffset: 0;\n  }\n\n  50% {\n    stroke-dasharray: 100px, 200px;\n    stroke-dashoffset: -15px;\n  }\n\n  100% {\n    stroke-dasharray: 100px, 200px;\n    stroke-dashoffset: -125px;\n  }\n"])))),z=(0,x.ZP)("span",{name:"MuiCircularProgress",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.root,t[n.variant],t["color".concat((0,d.Z)(n.color))]]}})((e=>{let{ownerState:t,theme:n}=e;return(0,a.Z)({display:"inline-block"},"determinate"===t.variant&&{transition:n.transitions.create("transform")},"inherit"!==t.color&&{color:(n.vars||n).palette[t.color].main})}),(e=>{let{ownerState:t}=e;return"indeterminate"===t.variant&&(0,c.iv)(S||(S=j||(j=(0,r.Z)(["\n      animation: "," 1.4s linear infinite;\n    "]))),_)})),N=(0,x.ZP)("svg",{name:"MuiCircularProgress",slot:"Svg",overridesResolver:(e,t)=>t.svg})({display:"block"}),D=(0,x.ZP)("circle",{name:"MuiCircularProgress",slot:"Circle",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.circle,t["circle".concat((0,d.Z)(n.variant))],n.disableShrink&&t.circleDisableShrink]}})((e=>{let{ownerState:t,theme:n}=e;return(0,a.Z)({stroke:"currentColor"},"determinate"===t.variant&&{transition:n.transitions.create("stroke-dashoffset")},"indeterminate"===t.variant&&{strokeDasharray:"80px, 200px",strokeDashoffset:0})}),(e=>{let{ownerState:t}=e;return"indeterminate"===t.variant&&!t.disableShrink&&(0,c.iv)(P||(P=v||(v=(0,r.Z)(["\n      animation: "," 1.4s ease-in-out infinite;\n    "]))),C)})),T=s.forwardRef((function(e,t){const n=(0,h.Z)({props:e,name:"MuiCircularProgress"}),{className:r,color:s="primary",disableShrink:c=!1,size:x=40,style:p,thickness:u=3.6,value:g=0,variant:Z="indeterminate"}=n,j=(0,i.Z)(n,b),v=(0,a.Z)({},n,{color:s,disableShrink:c,size:x,thickness:u,value:g,variant:Z}),y=(e=>{const{classes:t,variant:n,color:r,disableShrink:i}=e,a={root:["root",n,"color".concat((0,d.Z)(r))],svg:["svg"],circle:["circle","circle".concat((0,d.Z)(n)),i&&"circleDisableShrink"]};return(0,l.Z)(a,m,t)})(v),w={},S={},P={};if("determinate"===Z){const e=2*Math.PI*((k-u)/2);w.strokeDasharray=e.toFixed(3),P["aria-valuenow"]=Math.round(g),w.strokeDashoffset="".concat(((100-g)/100*e).toFixed(3),"px"),S.transform="rotate(-90deg)"}return(0,f.jsx)(z,(0,a.Z)({className:(0,o.Z)(y.root,r),style:(0,a.Z)({width:x,height:x},S,p),ownerState:v,ref:t,role:"progressbar"},P,j,{children:(0,f.jsx)(N,{className:y.svg,ownerState:v,viewBox:"".concat(22," ").concat(22," ").concat(k," ").concat(k),children:(0,f.jsx)(D,{className:y.circle,style:w,ownerState:v,cx:k,cy:k,r:(k-u)/2,fill:"none",strokeWidth:u})})}))}))},27816:(e,t,n)=>{n.d(t,{Z:()=>i});var r=n(47313);const i=function(e,t){var n,i;return r.isValidElement(e)&&-1!==t.indexOf(null!=(n=e.type.muiName)?n:null==(i=e.type)||null==(i=i._payload)||null==(i=i.value)?void 0:i.muiName)}}}]);