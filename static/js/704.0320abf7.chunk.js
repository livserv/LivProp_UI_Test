"use strict";(self.webpackChunklib_prop_ui=self.webpackChunklib_prop_ui||[]).push([[704],{1816:(e,t,a)=>{a.d(t,{c:()=>u});var n=a(99584),r=a(60392),o=a(65936),i=a(78640),s=a(43664),c=a(36744),l=a(97884);const d={p:2.5,"& .MuiCardHeader-action":{m:"0px auto",alignSelf:"center"}},u=(0,n.forwardRef)(((e,t)=>{let{border:a=!0,boxShadow:n,children:u,content:h=!0,contentSX:p={},darkTitle:m,elevation:x,secondary:f,shadow:g,sx:v={},title:y,...j}=e;const S=(0,r.c)();return n="dark"===S.palette.mode?n||!0:n,(0,l.jsxs)(o.c,{elevation:x||0,ref:t,...j,sx:{border:a?"1px solid":"none",borderRadius:2,borderColor:"dark"===S.palette.mode?S.palette.divider:S.palette.grey.A800,boxShadow:!n||a&&"dark"!==S.palette.mode?"inherit":g||S.customShadows.z1,":hover":{boxShadow:n?g||S.customShadows.z1:"inherit"},"& pre":{m:0,p:"16px !important",fontFamily:S.typography.fontFamily,fontSize:"0.75rem"},...v},children:[!m&&y&&(0,l.jsx)(i.c,{sx:d,titleTypographyProps:{variant:"subtitle1"},title:y,action:f}),m&&y&&(0,l.jsx)(i.c,{sx:d,title:(0,l.jsx)(s.c,{variant:"h3",children:y}),action:f}),h&&(0,l.jsx)(c.c,{sx:p,children:u}),!h&&u]})}))},69e3:(e,t,a)=>{a.r(t),a.d(t,{default:()=>xe});var n=a(99584),r=a(83072),o=a.n(r),i=a(86344),s=a(43664),c=a(46096),l=(a(52928),a(97884));const d=["This month","One month","Prev month","This week","Last 7 days","Prev week","Prev 2 weeks","Last 14 days"];function u(){return{"This month":[o()().startOf("month").toDate(),o()().endOf("month").toDate()],"One month":[o()().subtract(1,"months").toDate(),o()().toDate()],"Prev month":[o()().subtract(1,"months").startOf("month").toDate(),o()().subtract(1,"months").endOf("month").toDate()],"This week":[o()().startOf("week").toDate(),o()().endOf("week").toDate()],"Last 7 days":[o()().subtract(6,"days").toDate(),o()().toDate()],"Prev week":[o()().subtract(1,"weeks").startOf("week").toDate(),o()().subtract(1,"weeks").endOf("week").toDate()]}}function h(e){const t=n.useMemo(u,[]),{timePicker24Hour:a,displayFormat:r}=function(e){let t=h.defaultTimeFormat||" hh:mm tt";const a=-1===t.indexOf("tt");t=t.replace("tt","A").replace(".ss","").replace(":ss","");const n=e.dateFormat||"DD-MMM-YYYY".concat(e.showTime?t:"");return{timePicker24Hour:a,displayFormat:n}}(e),{value:i,range:s}=e,[p,g]=n.useState((()=>m(i,s,r))),v=n.useCallback((e=>g((t=>({...t,...e})))),[g]),y=n.useRef(),j=n.useRef({props:e,state:p,displayFormat:r});j.current.state=p,j.current.props=e,j.current.displayFormat=r;const S=n.useCallback((()=>v(m(i,s,j.current.displayFormat))),[i,s,v]);n.useEffect((()=>{S()}),[S]);const b=n.useCallback(((e,t)=>{var a,n;const{props:r,displayFormat:o}=j.current;j.current.manuallyEdited=!1;const{range:i,field:s,args:c}=r;let l=t.startDate,u=null===(a=l)||void 0===a?void 0:a.toDate(),h="";if(i){const{chosenLabel:e,startDate:a,endDate:n}=t;if(a&&n){u={fromDate:a.toDate(),toDate:n.toDate()};const t=d.indexOf(e);t>=0&&(u.quickDate=t),h="".concat(a.format(o)," - ").concat(n.format(o)),l=[u.fromDate,u.toDate]}}else null!==(n=l)&&void 0!==n&&n.isValid()&&(h=l.format(o));v({value:l,displayDate:h}),r.onChange(u,s,c)}),[v]),D=n.useCallback((e=>{const{manuallyEdited:t,props:a,state:n,displayFormat:r}=j.current;if(t){let{target:{value:t}}=e;if(t=t.trim(),!t&&!0===a.allowClear)return void b(null,{startDate:null});let i=o()(t,r);i.isValid()||(i=o()(t)),i.isValid()&&i.format(r)===t||(i=n.value),y.setStartDate(i),y.setEndDate(i),b(null,{fromDate:i})}else null!==e&&void 0!==e&&e.currentTarget&&a.onBlur&&a.onBlur(e)}),[b]),w=n.useCallback((e=>{const{props:t}=j.current,{keyCode:a}=e;13===a?D(e):t.onKeyDown&&(27===a&&(S(t),j.current.manuallyEdited=!1),t.onKeyDown(e))}),[D,S]),k=n.useCallback((()=>j.current.manuallyEdited=!0),[]),{disabled:C,style:_,className:O,autoFocus:P}=e,{displayDate:E}=p;return(0,l.jsx)("div",{className:"react-bootstrap-daterangepicker-container "+(O||""),children:(0,l.jsx)(c.c,{ref:y,style:_,className:O,disabled:C,initialSettings:f({timePicker24Hour:a,dateRange:t,props:e,state:p}),onApply:b,children:(0,l.jsx)("span",{children:(0,l.jsx)("input",{type:"text",className:"date-range-ctl",value:E,readOnly:s,placeholder:x(e),autoFocus:P,onChange:s?void 0:k,onBlur:s?void 0:D,onKeyDown:w})})})})}const p=h;function m(e,t,a){const n={displayDate:""};return e?t?"object"===typeof e&&(e=e.quickDate>=0?function(e,t){if(0===e||e>0){const a=u(),n=d[e],r=n&&a[n]||[];return t?r.map((e=>o()(e))):r}}(e.quickDate,!0):"object"===typeof e&&e.fromDate?[o()(e.fromDate),o()(e.toDate)||null]:[],n.value=e,e[0]&&e[1]&&(n.displayDate="".concat(e[0].format(a)," - ").concat(e[1].format(a)))):(n.value=o()(e),n.displayDate=n.value.format(a)):t&&(n.value=[]),n}function x(e){const{range:t}=e;let{placeholder:a}=e;return!0===t&&(a=a||"Select a date range"),a||"Select a date"}function f(e){let{dateRange:t,timePicker24Hour:a,props:{showTime:n,range:r,minDate:o,maxDate:i,maxSpan:s=6},state:{value:c}}=e;const l={showDropdowns:!0,timePicker:n||!1,alwaysShowCalendars:!1,maxSpan:s,autoApply:!0,linkedCalendars:!1,autoUpdateInput:!1,minDate:o,maxDate:i};let d=null;return d=r?{...l,fromDate:c[0],toDate:c[1],ranges:t,singleDatePicker:!1,showCustomRangeLabel:!0}:{...l,singleDatePicker:!0,fromDate:c,toDate:c,timePicker24Hour:a},d}var g=a(2496),v=a(58632),y=a(90760),j=a(1816),S=a(31251),b=a(31928);const D=function(e){let{title:t,count:a,percentage:n,extra:r,period:o="month",color:c=(r<0?"warning":"success")}=e;const d=r<0;return r=Math.abs(r||0),(0,l.jsxs)(j.c,{contentSX:{p:2.25},children:[(0,l.jsxs)(g.c,{spacing:.5,children:[(0,l.jsx)(s.c,{variant:"h6",color:"textSecondary",children:t}),(0,l.jsxs)(i.cp,{container:!0,alignItems:"center",children:[(0,l.jsx)(i.cp,{item:!0,children:(0,l.jsx)(s.c,{variant:"h4",color:"inherit",children:a})}),!!n&&(0,l.jsx)(i.cp,{item:!0,children:(0,l.jsx)(v.c,{variant:"combined",color:c,icon:(0,l.jsxs)(l.Fragment,{children:[!d&&(0,l.jsx)(S.c,{style:{fontSize:"0.75rem",color:"inherit"}}),d&&(0,l.jsx)(b.c,{style:{fontSize:"0.75rem",color:"inherit"}})]}),label:"".concat(n,"%"),sx:{ml:1.25,pl:1},size:"small"})})]})]}),d&&(0,l.jsx)(y.c,{sx:{pt:2.25},children:(0,l.jsxs)(s.c,{variant:"caption",color:"textSecondary",children:["You're down by "," ",(0,l.jsx)(s.c,{component:"span",variant:"caption",sx:{color:"".concat(c||"primary",".main")},children:r})," ","this ",o]})}),!d&&(0,l.jsx)(y.c,{sx:{pt:2.25},children:(0,l.jsxs)(s.c,{variant:"caption",color:"textSecondary",children:["You made an extra"," ",(0,l.jsx)(s.c,{component:"span",variant:"caption",sx:{color:"".concat(c||"primary",".main")},children:r})," ","this ",o]})})]})};var w=a(76312);const k=function(){const e=(0,w.OS)((e=>e.overview)),{current:t={},difference:a={},diffPercentage:n={}}=e||{};return(0,l.jsxs)(l.Fragment,{children:[t.totalVisitors>0&&(0,l.jsx)(i.cp,{item:!0,xs:12,sm:6,md:4,lg:3,children:(0,l.jsx)(D,{title:"Total Visitors",count:t.totalVisitors,percentage:n.totalVisitors,extra:a.totalVisitors})}),(0,l.jsx)(i.cp,{item:!0,xs:12,sm:6,md:4,lg:3,children:(0,l.jsx)(D,{title:"Interactive Visitors",count:t.interactiveVisitors,percentage:n.interactiveVisitors,extra:a.interactiveVisitors})}),(0,l.jsx)(i.cp,{item:!0,xs:12,sm:6,md:4,lg:3,children:(0,l.jsx)(D,{title:"Presales",count:t.preSale,percentage:n.preSale,extra:a.preSale})}),(0,l.jsx)(i.cp,{item:!0,xs:12,sm:6,md:4,lg:3,children:(0,l.jsx)(D,{title:"General",count:t.general,percentage:n.general,extra:a.general})}),!t.revisit&&(0,l.jsx)(i.cp,{item:!0,xs:12,sm:6,md:4,lg:3,children:(0,l.jsx)(D,{title:"Others",count:t.others,percentage:n.others,extra:a.others})}),!!t.revisit&&(0,l.jsx)(i.cp,{item:!0,xs:12,sm:6,md:4,lg:3,children:(0,l.jsx)(D,{title:"Revisit Count",count:t.revisit,percentage:n.revisit,extra:a.revisit})}),(0,l.jsx)(i.cp,{item:!0,md:8,sx:{display:{sm:"none",md:"block",lg:"none"}}})]})};var C=a(35240);async function _(){const{organizationId:e,selectedBotId:t}=w.mW.getState(),a=w.OS.getState(),{organizationId:n,botId:r}=a;let{fromDate:i,toDate:s}=a;i=o()(i).startOf("day").toDate(),s=o()(s).endOf("day").toDate();e===n&&t===r||w.OS.setState((0,w.s$)(e,t),!0);const c=await C._M("/analytics/".concat(e,"/").concat(t,"/dashboard/overview"),{fromDate:i,toDate:s}),l=function(e,t){e=o()(e),t=o()(t);const a=t.diff(e,"days"),n=e.clone().subtract(1,"days");return{start:n.clone().subtract(a,"days").startOf("day").toDate(),end:n.endOf("day").toDate()}}(i,s);i=l.start,s=l.end;const d=await C._M("/analytics/".concat(e,"/").concat(t,"/dashboard/overview"),{fromDate:i,toDate:s}),u={interactiveVisitors:(c.interactiveVisitors||0)-(d.interactiveVisitors||0),preSale:(c.preSale||0)-(d.preSale||0),general:(c.general||0)-(d.general||0),others:(c.others||0)-(d.others||0),revisit:(c.revisit||0)-(d.revisit||0)},h={current:c,previous:d,difference:u,diffPercentage:{interactiveVisitors:E(d.interactiveVisitors,u.interactiveVisitors),preSale:E(d.preSale,u.preSale),general:E(d.general,u.general),others:E(d.others,u.others),revisit:E(d.revisit,u.revisit)}};w.OS.setState({overview:h})}async function O(e){const{organizationId:t,selectedBotId:a}=w.mW.getState(),n=w.OS.getState();let{visitorProps:r}=n;r={page:1,count:10,...r,...e},w.OS.setState({visitorProps:r,visitorList:null,visitorsListTotal:0});const{total:o,visitorList:i}=await C._M("/analytics/".concat(t,"/").concat(a,"/dashboard/visitors-list"),r);w.OS.setState({visitorsListTotal:o,visitorList:i})}function P(e){let{fromDate:t,toDate:a}=e;return w.OS.setState({fromDate:o()(t).startOf("day").toDate(),toDate:o()(a).endOf("day").toDate()}),_()}function E(e,t){return t&&e?parseFloat((100*t/e).toFixed(2)):0}var T=a(43924);const A=function(e){let{showToday:t=!1,value:a=(t?"day":"week"),onChange:r}=e;const[s,c]=n.useState(a),d=n.useRef({onChange:r,slot:s}),u=n.useCallback((e=>{c(e);const{onChange:t}=d.current;if(t){t({fromDate:o()().add(-1,e).startOf("day").toDate(),toDate:o()().endOf("day").toDate()})}}),[]);return d.current.handleChange=u,n.useEffect((()=>{d.current.handleChange(d.current.slot)}),[]),(0,l.jsx)(i.cp,{item:!0,children:(0,l.jsxs)(g.c,{direction:"row",alignItems:"center",spacing:0,children:[(0,l.jsx)(T.c,{size:"small",onClick:()=>u("month"),color:"month"===s?"primary":"secondary",variant:"month"===s?"outlined":"text",children:"Month"}),(0,l.jsx)(T.c,{size:"small",onClick:()=>u("week"),color:"week"===s?"primary":"secondary",variant:"week"===s?"outlined":"text",children:"Week"}),t&&(0,l.jsx)(T.c,{size:"small",onClick:()=>u("day"),color:"day"===s?"primary":"secondary",variant:"day"===s?"outlined":"text",children:"Today"})]})})};var R=a(97784),I=a(77652),N=a(30740),L=a(29560),M=a(4328),V=a(62547),F=a(92988),B=a(27664),K=a(60392);const U=e=>{let{color:t,size:a}=e;const n=(0,K.c)();let r;switch(t){case"secondary":r=n.palette.secondary.main;break;case"error":r=n.palette.error.main;break;case"warning":r=n.palette.warning.main;break;case"info":r=n.palette.info.main;break;case"success":r=n.palette.success.main;break;default:r=n.palette.primary.main}return(0,l.jsx)(y.c,{sx:{width:a||8,height:a||8,borderRadius:"50%",bgcolor:r}})};const z=function(e){let{value:t,dateOnly:a}=e;return o()(t).format(a?"DD-MMM-YYYY":"DD-MMM-YYYY HH:mm:ss")};function H(e,t,a){return t[a]<e[a]?-1:t[a]>e[a]?1:0}function W(e,t){return"desc"===e?(e,a)=>H(e,a,t):(e,a)=>-H(e,a,t)}function Y(e,t){const a=e.map(((e,t)=>[e,t]));return a.sort(((e,a)=>{const n=t(e[0],a[0]);return 0!==n?n:e[1]-a[1]})),a.map((e=>e[0]))}const G=[{id:"name",label:"Name"},{id:"email",disablePadding:!0,label:"Email Id"},{id:"phoneNumber",label:"Phone Number"},{id:"country",label:"Country"},{id:"city",label:"City"},{id:"startTime",label:"Visit Time"},{id:"category",label:"Category"},{id:"transcriptUrl",align:"right",label:"Transcript"}];function X(e){let{order:t,orderBy:a}=e;return(0,l.jsx)(R.c,{children:(0,l.jsx)(I.c,{children:G.map((e=>(0,l.jsx)(N.c,{align:e.align||"left",padding:e.disablePadding?"none":"normal",sortDirection:a===e.id&&t,children:e.label},e.id)))})})}function $(e){let{page:t=0,rowsCount:a,rowsPerPage:n=10}=e;return(0,l.jsx)(L.c,{children:(0,l.jsx)(I.c,{children:(0,l.jsx)(N.c,{colSpan:G.length,children:(0,l.jsx)(M.c,{component:"div",count:a,page:t,rowsPerPage:n,onPageChange:(e,t)=>O({page:t+1}),onRowsPerPageChange:(e,t)=>{let{props:{value:a}}=t;return O({count:a})}})})})})}const J=e=>{let t,{value:a}=e;switch(a){case"Pre-Sale":t="success";break;case"General":t="primary";break;case"Others":t="warning";break;default:t="error"}return(0,l.jsxs)(g.c,{direction:"row",spacing:1,alignItems:"center",children:[(0,l.jsx)(U,{color:t}),(0,l.jsx)(s.c,{children:a})]})};function q(e){let{data:t,rowsCount:a,page:r,rowsPerPage:o}=e;const[i]=(0,n.useState)("asc"),[s]=(0,n.useState)("_id"),[c]=(0,n.useState)([]);return(0,l.jsx)(y.c,{children:(0,l.jsx)(V.c,{sx:{width:"100%",overflowX:"auto",position:"relative",display:"block",maxWidth:"100%","& td, & th":{whiteSpace:"nowrap"}},children:(0,l.jsxs)(F.c,{"aria-labelledby":"VisitorList",sx:{"& .MuiTableCell-root:first-of-type":{pl:2},"& .MuiTableCell-root:last-of-type":{pr:3}},children:[(0,l.jsx)(X,{order:i,orderBy:s}),(0,l.jsxs)(B.c,{children:[!(null!==t&&void 0!==t&&t.length)&&(0,l.jsx)(I.c,{sx:{"&:last-child td, &:last-child th":{border:0}},children:(0,l.jsx)(N.c,{colSpan:7,children:"No visitors exists for the selected duration"})}),(null===t||void 0===t?void 0:t.length)>0&&Y(t,W(i,s)).map(((e,t)=>{return(0,l.jsx)(Z,{row:e,index:t,isSelected:(a=e._id,-1!==c.indexOf(a))},e._id);var a}))]}),(0,l.jsx)($,{rowsCount:a,page:r,rowsPerPage:o,order:i,orderBy:s})]})})})}function Z(e){let{row:t,index:a,isSelected:n}=e;const r="enhanced-table-checkbox-".concat(a);return(0,l.jsxs)(I.c,{hover:!0,role:"checkbox",sx:{"&:last-child td, &:last-child th":{border:0}},"aria-checked":n,tabIndex:-1,selected:n,children:[(0,l.jsx)(N.c,{component:"th",id:r,scope:"row",align:"left",children:t.name}),(0,l.jsx)(N.c,{align:"left",children:t.email}),(0,l.jsx)(N.c,{align:"left",children:t.phoneNumber}),(0,l.jsx)(N.c,{align:"left",children:t.country}),(0,l.jsx)(N.c,{align:"left",children:t.city}),(0,l.jsx)(N.c,{align:"left",children:(0,l.jsx)(z,{value:t.visitTime})}),(0,l.jsx)(N.c,{align:"left",children:(0,l.jsx)(J,{value:t.category})}),(0,l.jsx)(N.c,{align:"right",children:(0,l.jsx)("a",{href:t.transcriptUrl,target:"_blank",rel:"noreferrer",children:(0,l.jsx)(s.c,{children:"View"})})})]},t._id)}const Q=function(){const[e,t]=n.useState(),{visitorList:a,visitorProps:r,visitorsListTotal:o}=(0,w.OS)();return n.useEffect((()=>{e&&O(e).catch((e=>console.log("Error loading visitor list:-",e)))}),[e]),(0,l.jsxs)(i.cp,{item:!0,xs:12,children:[(0,l.jsxs)(i.cp,{container:!0,alignItems:"center",justifyContent:"space-between",children:[(0,l.jsx)(i.cp,{item:!0,children:(0,l.jsx)(s.c,{variant:"h5",children:"Visitors List"})}),(0,l.jsx)(A,{showToday:!0,onChange:t})]}),(0,l.jsx)(j.c,{sx:{mt:2},content:!1,children:(0,l.jsx)(q,{data:a,rowsCount:o||0,rowsPerPage:(null===r||void 0===r?void 0:r.count)||10,page:((null===r||void 0===r?void 0:r.page)||1)-1})})]})},ee=[{value:"country",text:"Country"},{value:"city",text:"City"},{value:"os",text:"OS Name"},{value:"browser",text:"Browser"},{value:"date",text:"Date"},{value:"landing_page",text:"Landing Page"}],te=ee.reduce(((e,t)=>(e[t.value]=t.text,e)),{});const ae=function(e){let{value:t,onChange:a}=e;return(0,l.jsx)(ne,{list:ee,value:t,onChange:a})};function ne(e){let{list:t,value:a,onChange:n}=e;return(0,l.jsx)(i.cp,{item:!0,children:(0,l.jsx)(g.c,{direction:"row",alignItems:"center",spacing:0,children:t.map((e=>(0,l.jsx)(T.c,{size:"small",onClick:()=>n(e.value),color:a===e.value?"primary":"secondary",variant:a===e.value?"outlined":"text",children:e.text},e.value)))})})}function re(e,t,a){return t[a]<e[a]?-1:t[a]>e[a]?1:0}function oe(e,t){return"desc"===e?(e,a)=>re(e,a,t):(e,a)=>-re(e,a,t)}function ie(e,t){const a=e.map(((e,t)=>[e,t]));return a.sort(((e,a)=>{const n=t(e[0],a[0]);return 0!==n?n:e[1]-a[1]})),a.map((e=>e[0]))}const se=[{id:"group",label:"Group"},{id:"totalInteractions",disablePadding:!0,label:"Interactions"},{id:"preSale",label:"Pre-Sale"},{id:"general",label:"General"},{id:"others",label:"Others"}];function ce(e){let{order:t,orderBy:a}=e;return(0,l.jsx)(R.c,{children:(0,l.jsx)(I.c,{children:se.map((e=>(0,l.jsx)(N.c,{align:e.align||"left",padding:e.disablePadding?"none":"normal",sortDirection:a===e.id&&t,children:e.label},e.id)))})})}function le(e){let{data:t}=e;const[a]=(0,n.useState)("asc"),[r]=(0,n.useState)("_id"),[o]=(0,n.useState)([]);return(0,l.jsx)(y.c,{children:(0,l.jsx)(V.c,{sx:{width:"100%",overflowX:"auto",position:"relative",display:"block",maxWidth:"100%","& td, & th":{whiteSpace:"nowrap"}},children:(0,l.jsxs)(F.c,{"aria-labelledby":"VisitorList",sx:{"& .MuiTableCell-root:first-of-type":{pl:2},"& .MuiTableCell-root:last-of-type":{pr:3}},children:[(0,l.jsx)(ce,{order:a,orderBy:r}),(0,l.jsxs)(B.c,{children:[!(null!==t&&void 0!==t&&t.length)&&(0,l.jsx)(I.c,{sx:{"&:last-child td, &:last-child th":{border:0}},children:(0,l.jsx)(N.c,{colSpan:7,children:"No visitors exists for the selected duration"})}),(null===t||void 0===t?void 0:t.length)>0&&ie(t,oe(a,r)).map(((e,t)=>{return(0,l.jsx)(de,{row:e,index:t,isSelected:(a=e._id,-1!==o.indexOf(a))},e.group);var a}))]})]})})})}function de(e){let{row:t,index:a,isSelected:n}=e;const r="enhanced-table-checkbox-".concat(a);return(0,l.jsxs)(I.c,{hover:!0,role:"checkbox",sx:{"&:last-child td, &:last-child th":{border:0}},"aria-checked":n,tabIndex:-1,selected:n,children:[(0,l.jsx)(N.c,{component:"th",id:r,scope:"row",align:"left",children:t.group}),(0,l.jsx)(N.c,{align:"left",children:t.totalInteractions}),(0,l.jsx)(N.c,{align:"left",children:t.preSale||"-"}),(0,l.jsx)(N.c,{align:"left",children:t.general||"-"}),(0,l.jsx)(N.c,{align:"left",children:t.others||"-"})]})}const ue=function(){const[e,t]=n.useState("country"),a=(0,w.OS)((e=>e.visitorGroupedList)),{fromDate:r,toDate:o}=w.OS.getState();return n.useEffect((()=>{e&&async function(e){const{organizationId:t,selectedBotId:a}=w.mW.getState(),{fromDate:n,toDate:r}=w.OS.getState();w.OS.setState({visitorGroupedList:null});const o=await C._M("/analytics/".concat(t,"/").concat(a,"/dashboard/grouped/").concat(e),{fromDate:n,toDate:r});w.OS.setState({visitorGroupedList:o})}(e).catch((e=>console.log("Error loading visitor grouped list:-",e)))}),[e]),(0,l.jsxs)(i.cp,{item:!0,xs:12,children:[(0,l.jsxs)(i.cp,{container:!0,alignItems:"center",justifyContent:"space-between",children:[(0,l.jsx)(i.cp,{item:!0,children:(0,l.jsxs)(s.c,{variant:"h5",children:["Analytics - [",te[e]," Wise] (",(0,l.jsx)(z,{value:r,dateOnly:!0})," - ",(0,l.jsx)(z,{value:o,dateOnly:!0}),")"]})}),(0,l.jsx)(ae,{value:e,onChange:t})]}),(0,l.jsx)(j.c,{sx:{mt:2},content:!1,children:(0,l.jsx)(le,{data:a})})]})},he=new Date("2023-10-01"),pe=o()().endOf("day").toDate(),me={month:3};const xe=function(){const{fromDate:e,toDate:t}=(0,w.OS)(),a=n.useMemo((()=>({fromDate:e,toDate:t})),[e,t]);return n.useEffect((()=>{_().catch((e=>console.error("Unable to load analytics data",e)))}),[]),(0,l.jsxs)(i.cp,{container:!0,rowSpacing:4.5,columnSpacing:2.75,children:[(0,l.jsxs)(i.cp,{item:!0,xs:12,children:[(0,l.jsx)(s.c,{variant:"h5",style:{display:"inline-block",marginRight:"18px"},children:"Dashboard"}),(0,l.jsx)(p,{range:!0,value:a,onChange:P,minDate:he,maxDate:pe,maxSpan:me})]}),(0,l.jsx)(i.cp,{item:!0,md:8,sx:{display:{sm:"none",md:"block",lg:"none"}}}),(0,l.jsx)(k,{}),(0,l.jsx)(ue,{}),(0,l.jsx)(Q,{})]})}},35240:(e,t,a)=>{a.d(t,{Aj:()=>s,_M:()=>o,aE:()=>c,s$:()=>i,wz:()=>u});var n=a(52216),r=a(79028);async function o(e,t){return l("GET",e,t,arguments.length>2&&void 0!==arguments[2]?arguments[2]:{})}async function i(e,t){return l("POST",e,t,arguments.length>2&&void 0!==arguments[2]?arguments[2]:{})}async function s(e,t){return l("PUT",e,t,arguments.length>2&&void 0!==arguments[2]?arguments[2]:{})}async function c(e,t){return l("DELETE",e,t,arguments.length>2&&void 0!==arguments[2]?arguments[2]:{})}async function l(e,t,a){let{headers:n,noAuth:r,...o}=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};const i="POST"===e||"PUT"===e||"DELETE"===e;t=u(t,i?void 0:a);const s=a instanceof FormData;if(s||(a=a&&"object"===typeof a&&i?JSON.stringify(a):void 0),n||(n={}),s||(n["Content-Type"]="application/json"),n.Accept="application/json",!1!==r){const e=sessionStorage.getItem("token");e&&(n.Authorization="Bearer ".concat(e))}try{const r=await fetch(t,{...o,headers:n,body:a,method:e}),i=await r.json();if(r.ok){const{data:e,...t}=i;return delete t.status,e&&!Object.keys(t).length?e:i}throw i.message?new Error(i.message):i}catch(l){var c;throw console.error("Error calling API: ",l),null!==(c=l.message)&&void 0!==c&&c.includes("fetch")?new Error("Unable to reach server. Please check your network connectivity and try again."):new Error(l.message)}}const d=(0,n.Sm)(r.UX,"/");function u(e,t){if(!e)return e;const a=t&&Object.keys(t);if(null!==a&&void 0!==a&&a.length){const n=a.reduce(((e,a)=>{let n=t[a];return null===n||void 0===n?e:(n="".concat(a,"=").concat(encodeURIComponent(n)),e?"".concat(e,"&").concat(n):n)}),"");n&&(e="".concat(e).concat(e.includes("?")?"&":"?").concat(n))}return e.startsWith("https://")?e:"".concat(d).concat(e)}},52216:(e,t,a)=>{function n(e,t){return e.replace(new RegExp("".concat(r(t),"+$")),"")}function r(e){return e.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")}function o(e){const t=new Date(e),a=t.getDate(),n=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"][t.getMonth()],r=t.getFullYear();return"".concat(n," ").concat(a,", ").concat(r)}function i(e,t,a){if(!t&&!e)return a;e=e||{};const n=Array.isArray(e)?[...e]:{...e};if(t.includes(".")){const r=t.indexOf("."),o=t.substring(0,r),s=t.substring(r+1);n[o]=i(e[o],s,a)}else n[t]=a;return n}a.d(t,{Sm:()=>n,_m:()=>o,eQ:()=>i})},79028:(e,t,a)=>{a.d(t,{AZ:()=>r,So:()=>s,UX:()=>n,cX:()=>o,vc:()=>i});const n="https://devbackend.livhousing.com",r={NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0,REACT_APP_NGROK_BACKEND_URL:"https://60f1-203-192-224-75.ngrok-free.app",REACT_APP_VERSION:"1",REACT_APP_BACKEND_URL:"https://devbackend.livhousing.com"}.REACT_APP_IP_DATA_API_KEY||"d5f26b13e02d0e43f0870c726797b2c2f726b739a4c91bf9e4bb59c2",o={NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0,REACT_APP_NGROK_BACKEND_URL:"https://60f1-203-192-224-75.ngrok-free.app",REACT_APP_VERSION:"1",REACT_APP_BACKEND_URL:"https://devbackend.livhousing.com"}.TRAINING_MEDIA_MAXSIZE,i={NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0,REACT_APP_NGROK_BACKEND_URL:"https://60f1-203-192-224-75.ngrok-free.app",REACT_APP_VERSION:"1",REACT_APP_BACKEND_URL:"https://devbackend.livhousing.com"}.CONVERSATION_MEDIA_MAXSIZE,s="https://60f1-203-192-224-75.ngrok-free.app"}}]);