"use strict";(self.webpackChunklib_prop_ui=self.webpackChunklib_prop_ui||[]).push([[45],{88983:(e,t,i)=>{i.d(t,{Z:()=>o});var n=i(93701),s=i(46417);function o(e){let{children:t,type:i}=e;return(0,s.jsx)(n.E.div,{whileHover:{scale:1},whileTap:{scale:.9},children:t})}o.defaultProps={type:"scale"}},61489:(e,t,i)=>{i.d(t,{Z:()=>r});var n=i(47313),s=i(50301),o=i(46417);const r=n.forwardRef((function(e,t){return(0,o.jsx)(s.Z,{direction:"up",ref:t,...e})}))},97316:(e,t,i)=>{i.d(t,{Z:()=>p});var n=i(47313),s=i(19860),o=i(73428),r=i(54641),a=i(61113),l=i(93405),d=i(46417);const c={p:2.5,"& .MuiCardHeader-action":{m:"0px auto",alignSelf:"center"}},p=(0,n.forwardRef)(((e,t)=>{let{border:i=!0,boxShadow:n,children:p,content:x=!0,contentSX:h={},darkTitle:u,elevation:j,secondary:m,shadow:f,sx:g={},title:y,...v}=e;const Z=(0,s.Z)();return n="dark"===Z.palette.mode?n||!0:n,(0,d.jsxs)(o.Z,{elevation:j||0,ref:t,...v,sx:{border:i?"1px solid":"none",borderRadius:2,borderColor:"dark"===Z.palette.mode?Z.palette.divider:Z.palette.grey.A800,boxShadow:!n||i&&"dark"!==Z.palette.mode?"inherit":f||Z.customShadows.z1,":hover":{boxShadow:n?f||Z.customShadows.z1:"inherit"},"& pre":{m:0,p:"16px !important",fontFamily:Z.typography.fontFamily,fontSize:"0.75rem"},...g},children:[!u&&y&&(0,d.jsx)(r.Z,{sx:c,titleTypographyProps:{variant:"subtitle1"},title:y,action:m}),u&&y&&(0,d.jsx)(r.Z,{sx:c,title:(0,d.jsx)(a.Z,{variant:"h3",children:y}),action:m}),x&&(0,d.jsx)(l.Z,{sx:h,children:p}),!x&&p]})}))},46538:(e,t,i)=>{i.d(t,{Z:()=>h});i(47313);var n=i(61489),s=i(66149),o=i(33604),r=i(96467),a=i(11198),l=i(17592),d=i(19860),c=i(47131),p=i(46417);const x=(0,l.ZP)(s.Z)((e=>{let{theme:t}=e;return{"& .MuiDialogContent-root":{padding:t.spacing(2)},"& .MuiDialogActions-root":{padding:t.spacing(1)}}}));function h(e){const t=(0,d.Z)(),{breakpoints:i}=t,{openPopUpDialog:s,setPopUpDialog:l,title:h}=e;return(0,p.jsxs)(x,{TransitionComponent:n.Z,"aria-labelledby":"customized-dialog-title",open:s,PaperProps:{sx:{width:"40%",[i.down("sm")]:{width:"90%"}}},children:[(0,p.jsx)(o.Z,{sx:{m:0,p:2},id:"customized-dialog-title",children:h}),(0,p.jsx)(c.Z,{"aria-label":"close",onClick:()=>{l(!1)},sx:{position:"absolute",right:8,top:8},children:(0,p.jsx)(a.Z,{})}),(0,p.jsx)(r.Z,{dividers:!0,children:e.children})]})}},8590:(e,t,i)=>{i.r(t),i.d(t,{default:()=>A});var n=i(47313),s=i(9019),o=i(61113),r=i(41806),a=i(42832),l=i(61689),d=i(93405),c=i(31095),p=i(56104),x=i(37843),h=i(47131),u=i(5211),j=i(51997),m=i(10237),f=i(19259),g=i(97316),y=i(88983),v=i(86043),Z=i(3463),b=i(24977),P=i(23509),w=i(969);const C=i.p+"static/media/media-image.16ef5ffabad85fb7ba76.png";var S=i(66212),_=i(42420),k=i(46538),T=i(69753);async function I(e,t){const i=await T.v("/bot/delete-conversation-media",e),{conversationMedia:n}=i;((e,t)=>{P.tN.setState((i=>{const n=i.botsList.map((i=>i._id===e?{...i,conversationMedia:t}:i));return{...i,botsList:n}}))})(t,n)}var z=i(46417);const A=function(){var e;const t=(0,P.tN)((e=>e.botsList)),[i]=(0,w.g)(),n=null===(e=t.find((e=>e._id===i)))||void 0===e?void 0:e.conversationMedia,s=(0,P.tN)((e=>e.organizationId));return(0,z.jsxs)(z.Fragment,{children:[(0,z.jsx)(E,{organizationId:s}),(0,z.jsx)(R,{botId:i,organizationId:s,conversationMediaList:n})]})};function E(e){let{organizationId:t}=e;const[i,p]=n.useState(!1);return(0,z.jsxs)(z.Fragment,{children:[(0,z.jsxs)(s.ZP,{container:!0,spacing:3,children:[(0,z.jsx)(s.ZP,{item:!0,xs:10,children:(0,z.jsx)(o.Z,{variant:"h5",children:"Conversation Media"})}),(0,z.jsx)(s.ZP,{item:!0,xs:2,sx:{position:"relative"},style:{paddingTop:25,display:"flex",justifyContent:"right"},children:(0,z.jsx)(l.Z,{title:"Upload Conversation Media",children:(0,z.jsx)(_.Z,{color:"primary","aria-label":"add",size:"small",style:{position:"fixed"},onClick:()=>{p(!0)},children:(0,z.jsx)(u.Z,{})})})})]}),(0,z.jsx)(k.Z,{openPopUpDialog:i,setPopUpDialog:p,title:"Upload Conversation Media",children:(0,z.jsx)(r.Z,{sx:{p:{xs:2,sm:3,md:4,xl:5}},children:(0,z.jsxs)(s.ZP,{container:!0,spacing:3,justify:"center",children:[(0,z.jsx)(s.ZP,{item:!0,xs:12,style:{padding:0,display:"flex",alignItems:"baseline",justifyContent:"center"},children:"Upload Media (*.png,*.jpeg,*.jpg,*.mpeg,*.mp4,*.pdf)"}),(0,z.jsx)(s.ZP,{item:!0,xs:12,justify:"center",children:(0,z.jsx)(d.Z,{style:{padding:0,display:"flex",alignItems:"flex-start",justifyContent:"center"},children:(0,z.jsx)(a.Z,{spacing:1,children:(0,z.jsx)(b.J9,{initialValues:{file:""},validationSchema:Z.Ry({files:Z.nK().required("please enter website url")}),onSubmit:async(e,i)=>{let{setErrors:n,setStatus:s,setSubmitting:o}=i;try{const i={organizationId:t,data:e};console.log(i),s({success:!1}),o(!1)}catch(r){s({success:!1}),n({submit:r.message}),o(!1)}},children:(0,z.jsx)("form",{children:(0,z.jsx)(b.gN,{type:"file",name:"file",as:e=>{let{field:t}=e;return(0,z.jsx)(y.Z,{children:(0,z.jsxs)(c.Z,{variant:"contained",component:"label",htmlFor:"file-input",size:"large",children:["Upload File",(0,z.jsx)("input",{...t,type:"file",id:"file-input",style:{display:"none"},onChange:e=>handleFileChange(e,setFieldValue),accept:".png,.jpeg,.jpg,.mpeg,.mp4,.pdf"})]})})}})})})})})})]})})})]})}function R(e){let{conversationMediaList:t,botId:i,organizationId:n}=e;return(0,z.jsx)(r.Z,{children:(0,z.jsxs)(s.ZP,{container:!0,spacing:3,justify:"center",children:[(0,z.jsx)(s.ZP,{item:!0,xs:12,children:t&&0===t.length&&(0,z.jsx)(o.Z,{variant:"caption",color:"#FF0000",children:(0,z.jsxs)(s.ZP,{container:!0,spacing:1,children:[(0,z.jsx)(s.ZP,{item:!0,xs:12,md:12,style:{display:"flex",justifyContent:"center"},children:(0,z.jsx)(f.Z,{style:{fontSize:40}})}),(0,z.jsx)(s.ZP,{item:!0,xs:12,md:12,style:{display:"flex",justifyContent:"center"},children:"Conversation Media and Keywords are not uploaded!"})]})})}),t&&t.map(((e,t)=>(0,z.jsx)(s.ZP,{item:!0,xs:12,sm:6,justify:"center",children:(0,z.jsx)(D,{media:e,botId:i,organizationId:n})},t)))]})})}function D(e){let{media:t,botId:i,organizationId:n}=e;const o=()=>{console.info("delete")};return(0,z.jsxs)(g.Z,{contentSX:{p:2.25},children:[(0,z.jsx)(d.Z,{style:{padding:0,minHeight:"120px",maxHeight:"120px",display:"flex",alignItems:"flex-start",justifyContent:"center"},children:(0,z.jsxs)(s.ZP,{container:!0,spacing:3,justify:"center",children:[(0,z.jsx)(s.ZP,{item:!0,xs:4,children:"image"===t.type.split("/")[0]?(0,z.jsx)("img",{src:t.url,alt:t.name,width:"100px"}):"application"===t.type.split("/")[0]?(0,z.jsxs)("a",{href:t.url,rel:"noreferrer",target:"_blank",children:[(0,z.jsx)("div",{className:"text-center",children:(0,z.jsx)("img",{src:C,alt:"LivProp",width:"100px"})}),(0,z.jsx)("div",{style:{fontSize:"12px",textDecoration:"none",color:"black"},children:t.name})]}):(0,z.jsxs)("video",{controls:!0,width:"50%",children:[(0,z.jsx)("source",{src:t.url,type:"video/mp4"}),(0,z.jsx)("track",{kind:"captions",src:"",srcLang:"en",label:"English"}),"Your browser does not support the video tag."]})}),(0,z.jsx)(s.ZP,{item:!0,xs:8,children:(0,z.jsx)(a.Z,{direction:"row",spacing:1,children:t.keywords.map(((e,t)=>(0,z.jsx)(S.Z,{label:e,onDelete:o},t)))})})]})}),(0,z.jsx)(p.Z,{style:{justifyContent:"flex-end",padding:"5px"},children:(0,z.jsxs)(s.ZP,{container:!0,children:[(0,z.jsx)(s.ZP,{item:!0,xs:10,md:10,children:(0,z.jsxs)(s.ZP,{container:!0,spacing:1,children:[(0,z.jsx)(s.ZP,{item:!0,xs:9,md:9,children:(0,z.jsx)(x.Z,{id:"mediaKeywords",type:"mediaKeywords",name:"mediaKeywords",placeholder:"Keywords",fullWidth:!0})}),(0,z.jsx)(s.ZP,{item:!0,xs:3,md:3,children:(0,z.jsx)(y.Z,{children:(0,z.jsx)(c.Z,{disableElevation:!0,size:"large",type:"submit",variant:"contained",color:"primary",children:"Add"})})})]})}),(0,z.jsx)(s.ZP,{item:!0,xs:1,md:1,children:(0,z.jsx)(l.Z,{title:"View",children:(0,z.jsx)(h.Z,{variant:"text",onClick:()=>{return e=t.url,void window.open(e);var e},children:(0,z.jsx)(m.Z,{style:{color:"#5ad74e"}})})})}),(0,z.jsx)(s.ZP,{item:!0,xs:1,md:1,children:(0,z.jsx)(l.Z,{title:"Delete",children:(0,z.jsx)(h.Z,{variant:"text",onClick:()=>(async(e,t,i,n)=>{console.info(e+"-"+t+"-"+i+"-"+n);try{const s={organizationId:n,botId:i,fileName:t,fileUrl:e};await I(s,i),(0,v.W)(!0,"The file deleted successfully!","success")}catch(s){(0,v.W)(!0,"Not able to delete the file. Try after sometime!","error")}})(t.url,t.name,i,n),children:(0,z.jsx)(j.Z,{style:{color:"#ff0000"},fontSize:"small"})})})})]})})]})}},69753:(e,t,i)=>{function n(e){return e.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")}i.d(t,{U:()=>o,v:()=>r});var s=i(32203);async function o(e,t){return a("GET",e,t,arguments.length>2&&void 0!==arguments[2]?arguments[2]:{})}async function r(e,t){return a("POST",e,t,arguments.length>2&&void 0!==arguments[2]?arguments[2]:{})}async function a(e,t,i){let{headers:n,noAuth:s,...o}=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};const r="POST"===e||"PUT"===e;if(t=function(e){if(!e)return e;if(e.startsWith("https://"))return e;return"".concat(l).concat(e)}(t),i=i&&"object"===typeof i&&r?JSON.stringify(i):void 0,n||(n={}),n["Content-Type"]="application/json",n.Accept="application/json",!1!==s){const e=sessionStorage.getItem("token");e&&(n.Authorization="Bearer ".concat(e))}const a=await fetch(t,{...o,headers:n,body:i,method:e}),d=await a.json();if(a.ok){const{data:e,...t}=d;return delete t.status,e&&!Object.keys(t).length?e:d}throw d.message?new Error(d.message):d}const l=(d=s.H,c="/",d.replace(new RegExp("".concat(n(c),"+$")),""));var d,c},969:(e,t,i)=>{i.d(t,{g:()=>s});var n=i(23509);function s(e){const t=(0,n.tN)((e=>e.selectedBotId)),i=(0,n.tN)((i=>i.botsMap[e||t]));return[e||t,i]}},32203:(e,t,i)=>{i.d(t,{H:()=>n,l:()=>s});const n="https://devbackend.livhousing.com",s={NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0,REACT_APP_NGROK_BACKEND_URL:"https://60f1-203-192-224-75.ngrok-free.app",REACT_APP_VERSION:"1",REACT_APP_BACKEND_URL:"https://devbackend.livhousing.com"}.REACT_APP_IP_DATA_API_KEY},5211:(e,t,i)=>{var n=i(64836);t.Z=void 0;var s=n(i(45045)),o=i(46417),r=(0,s.default)((0,o.jsx)("path",{d:"M19 13h-6v6h-2v-6H5v-2h6V5h2v6h6v2z"}),"Add");t.Z=r}}]);