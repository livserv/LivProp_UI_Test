"use strict";(self.webpackChunklib_prop_ui=self.webpackChunklib_prop_ui||[]).push([[764],{18678:(e,o,t)=>{t.d(o,{Z:()=>l});var r=t(93701),n=t(46417);function l(e){let{children:o,type:t}=e;return(0,n.jsx)(r.E.div,{whileHover:{scale:1},whileTap:{scale:.9},children:o})}l.defaultProps={type:"scale"}},6505:(e,o,t)=>{t.d(o,{Z:()=>h});var r=t(47313),n=t(19860),l=t(73428),i=t(54641),a=t(61113),s=t(93405),d=t(46417);const c={p:2.5,"& .MuiCardHeader-action":{m:"0px auto",alignSelf:"center"}},h=(0,r.forwardRef)(((e,o)=>{let{border:t=!0,boxShadow:r,children:h,content:u=!0,contentSX:x={},darkTitle:g,elevation:p,secondary:m,shadow:b,sx:j={},title:Z,...v}=e;const C=(0,n.Z)();return r="dark"===C.palette.mode?r||!0:r,(0,d.jsxs)(l.Z,{elevation:p||0,ref:o,...v,sx:{border:t?"1px solid":"none",borderRadius:2,borderColor:"dark"===C.palette.mode?C.palette.divider:C.palette.grey.A800,boxShadow:!r||t&&"dark"!==C.palette.mode?"inherit":b||C.customShadows.z1,":hover":{boxShadow:r?b||C.customShadows.z1:"inherit"},"& pre":{m:0,p:"16px !important",fontFamily:C.typography.fontFamily,fontSize:"0.75rem"},...j},children:[!g&&Z&&(0,d.jsx)(i.Z,{sx:c,titleTypographyProps:{variant:"subtitle1"},title:Z,action:m}),g&&Z&&(0,d.jsx)(i.Z,{sx:c,title:(0,d.jsx)(a.Z,{variant:"h3",children:Z}),action:m}),u&&(0,d.jsx)(s.Z,{sx:x,children:h}),!u&&h]})}))},94100:(e,o,t)=>{t.d(o,{Z:()=>a});var r=t(47313),n=t(31095),l=t(85281),i=t(46417);const a=function(e){let{onClick:o,disabled:t,isLoading:a,children:s,...d}=e;const[c,h]=r.useState(a);return(0,i.jsxs)(n.Z,{onClick:e=>{if(!o)return;const t=o(e);"function"===typeof(null===t||void 0===t?void 0:t.finally)&&(h(!0),t.finally((()=>h(!1))))},disabled:c||a||t,...d,children:[(c||a)&&(0,i.jsx)(l.Z,{size:16,color:"primary",style:{marginRight:"10px"}}),s]})}},83289:(e,o,t)=>{t.r(o),t.d(o,{default:()=>se});var r=t(47313),n=t(9019),l=t(61113),i=t(62943),a=t(91318),s=t(32203),d=t(80730);function c(){return sessionStorage.getItem("temporary-app-id")}function h(){return localStorage.getItem("permanent-app-id")}async function u(){var e,o,t;const r=s.lB||"d5f26b13e02d0e43f0870c726797b2c2f726b739a4c91bf9e4bb59c2";let n=await d.U2("https://api.ipdata.co?api-key=".concat(r));const l=(new a.UAParser).getResult()||{},{ip:i,is_eu:c,city:h,region:u,region_code:g,region_type:p,country_name:m,country_code:b,continent_name:j,continent_code:Z,latitude:v,longitude:C,postal:f,calling_code:B,time_zone:y,currency:P}=n,w={ipAddress:i,deviceType:null===(e=l.device)||void 0===e?void 0:e.type,browserName:null===(o=l.browser)||void 0===o?void 0:o.name,osName:null===(t=l.os)||void 0===t?void 0:t.name,...x()};return w.locationDetails={is_eu:c,city:h,region:u,region_code:g,region_type:p,country_name:m,country_code:b,continent_name:j,continent_code:Z,latitude:v,longitude:C,postal:f,calling_code:B,time_zone:y,currency:P},w}function x(){const e=new URLSearchParams(window.location.search),o=e.get("sourceUrl"),t=e.get("referrerUrl");return{utmParameters:Array.from(e.keys()).reduce(((o,t)=>{if(t.startsWith("utm_")){const r=e.get(t);r&&"null"!==r&&(o[t]=r)}return o}),{}),sourceUrl:o,referrerUrl:t}}var g=t(26863),p=t(46417);const m=function(e){var o;let{botDetails:t,botDesign:n,onReceiveChatResponse:l}=e;const[a,s]=r.useState(!1),[x,g]=r.useState(!1),[m,b]=r.useState(t),[C,f]=r.useState([]),[B,y]=r.useState(),P=r.useCallback((()=>{s((e=>!e)),g(!0),setTimeout((()=>g(!1)),1e3)}),[]);r.useEffect((()=>{u().then(y)}),[]);const w=r.useRef({});w.current.bot=m,w.current.onReceiveChatResponse=l;const F=r.useCallback((async e=>{const{updateContact:o,onReceiveChatResponse:t,bot:r}=w.current;return await async function(e,o,t,r){const n=h(),l=c(),i=u(),{_id:a,organizationId:s}=o,x={userQuery:e,recipientDetails:{recipientId:n,conversationId:l,...i}};t&&(x.testMode=!0);const g=await d.v_("/bot/".concat(s,"/").concat(a,"/chat"),x,{noAuth:!0});return null===t||void 0===t||t(g),function(e,o){const{chatRefId:t,recipientId:r,messages:n}=e;return function(e){sessionStorage.setItem("temporary-app-id",e)}(t),function(e){localStorage.setItem("permanent-app-id",e)}(r),Z(n,o)}(g,r)}(e,r,t,o)}),[]);if(w.current.updateContact=r.useCallback((async e=>{const o=await F(e);f((e=>e.filter((e=>"lead"!==e.type)).concat(...o)))}),[F]),r.useEffect((()=>{const{updateContact:e}=w.current;t?v(t,e).then(f):async function(){try{const e={authToken:token};return await d.U2("/bot/get-bot-details-by-auth-token",e,{noAuth:!0})}catch(e){console.log("Failed to init chat:-",e)}}().then((o=>{b(o),v(t,e).then(f)}))}),[t]),!m||!B)return null;let L="hide-chat";return a&&x?L="opening":a&&!x?L="show-chat":!a&&x&&(L="closing"),L+="bottomLeft"===(null===n||void 0===n||null===(o=n.window)||void 0===o?void 0:o.align)?" bottom-left ":" bottom-right ",(0,p.jsxs)("div",{className:"chat-handler "+L,children:[(0,p.jsx)(i.Z,{botDesign:n,messages:C,showTime:!0,onUserMessage:F,onHistoryChange:f,onClear:()=>{f([]),sessionStorage.removeItem("temporary-app-id")},onHide:P}),!a&&!x&&(0,p.jsx)(j,{design:n,onToggle:P})]})},b=(0,g.yj)("42px");function j(e){let{design:o,onToggle:t}=e;const{launcher:{useBar:r=!1,buttonLogoUrl:n,buttonOnMobile:l,barText:i}={},header:{bgColor:a,fontColor:s}={}}=o||{};return!r||l?(0,p.jsxs)("div",{className:"lp-launcher button",onClick:t,style:{borderColor:a},children:[n&&(0,p.jsx)("img",{src:n,alt:"Live Chat"}),!n&&b]}):(0,p.jsx)("div",{className:"lp-launcher bar",onClick:t,style:{backgroundColor:a,color:s},children:(0,p.jsxs)("span",{children:[g.E," ",i||"Live Chat"]})})}function Z(e,o){if(null===e||void 0===e||!e.length)return e;const t=e[e.length-1];return"form"===t.type&&e.push({role:"user",type:"lead",content:"",profile:t.media,updateContact:o}),e}async function v(e,o){const{_id:t,organizationId:r}=e,n=h(),l=c();if(!n||!l)return[];try{const e=await d.U2("/bot/".concat(r,"/").concat(t,"/chat/history/").concat(n,"/").concat(l),null,{noAuth:!0}),{messages:i}=e||{};return Z(i,o)}catch(i){console.log("Failed to fetch chat history:-",i)}}var C=t(969),f=t(49542),B=t(41806),y=t(19536),P=t(42832),w=t(23306),F=t(15480),L=t(37843),k=t(55685),S=t(83929),I=t(74268),W=t(24256),T=t(51405),_=t(21933),N=t(24977),M=t(6505),z=t(18678),V=t(4450);const R=function(e){let{value:o,onChange:t,...n}=e;const[l,i]=r.useState(!1),a=r.useRef(),s=r.useRef(),d=e=>{let{hex:o}=e;t(n.name,o)};return r.useEffect((()=>{const e=e=>{a.current&&!a.current.contains(e.target)&&i(!1)};return document.addEventListener("click",e),()=>{document.removeEventListener("click",e)}}),[]),(0,p.jsxs)("div",{ref:a,style:{position:"relative"},children:[(0,p.jsx)("div",{style:{backgroundColor:o,height:"35px",width:"35px",position:"absolute",top:"3px",left:"3px"}}),(0,p.jsx)(L.Z,{inputRef:s,value:o,onChange:e=>d({hex:e.currentTarget.value}),maxLength:9,...n,type:"text",onFocus:()=>i(!0),style:{paddingLeft:"32px"}}),l&&(0,p.jsx)("div",{style:{position:"absolute",zIndex:1,top:"45px"},children:(0,p.jsx)(V.AI,{color:o,onChange:d})})]})};var A=t(45960);const H=function(e){let{value:o,onChange:t,...n}=e;const l=r.useCallback((e=>t(n.name,"yes"===e.target.value)),[n.name,t]);return(0,p.jsxs)(W.Z,{...n,value:o?"yes":"no",defaultValue:o?"yes":"no",onChange:l,children:[(0,p.jsx)(T.Z,{value:"no",children:"No"}),(0,p.jsx)(T.Z,{value:"yes",children:"Yes"})]})};var U=t(75391);const D=[{value:"gpt-3.5-turbo-16k",label:"GPT 3.5 Latest Stable (default)",description:"Latest stable model of GPT 3.5. Cheapest and more performant. Random minor inconsistency observed sometimes."},{value:"gpt-3.5-turbo-1106",label:"GPT 3.5 Latest Preview",description:"Latest preview model of GPT 3.5. This is more accurate than latest stable, but some times non responsive while on peek loads."},{value:"gpt-4",label:"GPT 4 Latest Stable",description:"Latest stable model of GPT 4. More capable, but is 5 times costly then 3.5 models."},{value:"gpt-4-1106-preview",label:"GPT 4 Latest Preview (suggested)",description:"Latest preview model of GPT 4. Most capable model, but is 3 times costly then 3.5 models."}],E=D.reduce(((e,o)=>(e[o.value]=o,e)),{});const G=function(e){var o;let{value:t,...r}=e;return(0,p.jsxs)(p.Fragment,{children:[(0,p.jsx)(W.Z,{...r,value:t,defaultValue:D[0].value,children:D.map((e=>(0,p.jsx)(T.Z,{value:e.value,children:e.label},e.value)))}),(0,p.jsx)(F.Z,{id:"bot-model-description",children:t?null===(o=E[t])||void 0===o?void 0:o.description:D[0].description})]})};var O=t(94100);const $=()=>_.Z_().matches(/^#([A-Fa-f0-9]{6}|[A-Fa-f0-9]{8})$/,"Is not a valid color code").required("Background color is required"),q=e=>_.Z_().matches(/^(\d+px|\d+%) (\d+px|\d+%) (\d+px|\d+%) (\d+px|\d+%|\d+%)$/,"Invalid ".concat(e,"! Use the format: 1px 2px 3px 4px not a valid code")),J=_.Ry().shape({bgColor:$(),fontColor:$(),headerPadding:q("padding"),headerLogoMargin:q("margin"),visitorBubbleBorderCurve:q("border-radius"),botBubbleBorderCurve:q("border-radius")}),K={maxWidth:{xs:400,lg:475},margin:{xs:2.5,md:3},"& > *":{flexGrow:1,flexBasis:"50%"}};const Q=function(e){let{onChange:o}=e;const[t,r]=(0,C.g)(),{botName:l,botDesign:i={}}=r,a={bgColor:i.backgroundColor||"#484a49",botBorderColor:i.botBorderColor||"#484a49",botBackgroundColor:i.botBackgroundColor||"#9c27b0",botFontColor:i.botFontColor||"#000000",visitorBorderColor:i.visitorBorderColor||"#000000",visitorBackgroundColor:i.visitorBackgroundColor||"#ffffff",visitorFontColor:i.visitorFontColor||"#000000",fontType:i.fontType||"normal-font",windowAlign:i.windowAlign||"bottomRight",fontColor:i.textColor||"#484a49",titleText:l,placeholder:"Type your message...",launcherType:"bar",...i};return(0,p.jsx)(M.Z,{sx:K,content:!1,border:!1,boxShadow:!0,children:(0,p.jsx)(B.Z,{sx:{p:{xs:2,sm:3,md:4,xl:5}},children:(0,p.jsx)(N.J9,{initialValues:a,validationSchema:J,onSubmit:async(e,o)=>{let{setErrors:r,setStatus:n,setSubmitting:l}=o;try{await(0,A.Bc)(t,e),n({success:!1}),l(!1)}catch(i){console.error(i),n({success:!1}),r({submit:i.message}),l(!1)}},children:e=>(0,p.jsxs)("form",{noValidate:!0,onSubmit:e.handleSubmit,children:[(0,p.jsxs)(n.ZP,{container:!0,spacing:3,children:[(0,p.jsx)(X,{...e}),(0,p.jsx)(Y,{...e}),(0,p.jsx)(ee,{...e}),(0,p.jsx)(ie,{...e}),(0,p.jsx)(te,{...e}),(0,p.jsx)(re,{...e}),(0,p.jsx)(oe,{...e}),(0,p.jsx)(ne,{...e}),(0,p.jsx)(le,{...e})]}),(0,p.jsx)(ae,{onChange:o})]})})})})};function X(e){let{values:o,touched:t,errors:r,handleBlur:i,handleChange:a}=e;return(0,p.jsxs)(p.Fragment,{children:[(0,p.jsx)(n.ZP,{item:!0,xs:12,children:(0,p.jsx)(y.Z,{children:(0,p.jsx)(l.Z,{variant:"subtitle1",children:"General Settings"})})}),(0,p.jsx)(n.ZP,{item:!0,xs:12,children:(0,p.jsxs)(P.Z,{spacing:1,children:[(0,p.jsx)(w.Z,{htmlFor:"bg-color",children:"Underlying GPT Model *"}),(0,p.jsx)(G,{id:"botModelName",value:o.botModelName,name:"botModelName",onBlur:i,onChange:a,error:Boolean(t.botModelName&&r.botModelName)}),t.botModelName&&r.botModelName&&(0,p.jsx)(F.Z,{error:!0,id:"helper-text-bg-color",children:r.botModelName})]})})]})}function Y(e){let{values:o,touched:t,errors:r,handleBlur:i,handleChange:a,setFieldValue:s}=e;return(0,p.jsxs)(p.Fragment,{children:[(0,p.jsx)(n.ZP,{item:!0,xs:12,children:(0,p.jsx)(y.Z,{children:(0,p.jsx)(l.Z,{variant:"subtitle1",children:"Header Settings"})})}),(0,p.jsx)(n.ZP,{item:!0,xs:12,md:6,children:(0,p.jsxs)(P.Z,{spacing:1,children:[(0,p.jsx)(w.Z,{htmlFor:"bg-color",children:"Background Color *"}),(0,p.jsx)(R,{id:"bg-color",type:"color",value:o.bgColor,name:"bgColor",onBlur:i,onChange:s,placeholder:"",fullWidth:!0,error:Boolean(t.bgColor&&r.bgColor)}),t.bgColor&&r.bgColor&&(0,p.jsx)(F.Z,{error:!0,id:"helper-text-bg-color",children:r.bgColor})]})}),(0,p.jsx)(n.ZP,{item:!0,xs:12,md:6,children:(0,p.jsxs)(P.Z,{spacing:1,children:[(0,p.jsx)(w.Z,{htmlFor:"font-color",children:"Font Color *"}),(0,p.jsx)(R,{id:"font-color",type:"color",value:o.fontColor,name:"fontColor",onBlur:i,onChange:s,placeholder:"",fullWidth:!0,error:Boolean(t.fontColor&&r.fontColor)}),t.fontColor&&r.fontColor&&(0,p.jsx)(F.Z,{error:!0,id:"helper-text-font-color",children:r.fontColor})]})}),(0,p.jsx)(n.ZP,{item:!0,xs:12,children:(0,p.jsxs)(P.Z,{spacing:1,children:[(0,p.jsx)(w.Z,{htmlFor:"headerPadding",style:{paddingBottom:"6px"},children:"Chat Window Header Padding"}),(0,p.jsx)(L.Z,{id:"headerPadding",name:"headerPadding",value:o.headerPadding,onBlur:i,onChange:a,placeholder:"padding: 2px 5px 2px 5px"}),t.headerPadding&&r.headerPadding&&(0,p.jsx)(F.Z,{error:!0,id:"helper-text-bg-color",children:r.headerPadding})]})}),(0,p.jsx)(n.ZP,{item:!0,xs:12,children:(0,p.jsxs)(P.Z,{spacing:1,children:[(0,p.jsx)(w.Z,{htmlFor:"bot-title",children:"Chat Window Title *"}),(0,p.jsx)(L.Z,{fullWidth:!0,error:Boolean(t.titleText&&r.titleText),id:"bot-title",value:o.titleText,name:"titleText",onBlur:i,onChange:a,placeholder:"Provide your bot title text",inputProps:{maxLength:25}}),t.titleText&&r.titleText&&(0,p.jsx)(F.Z,{error:!0,id:"helper-text-bot-title",children:r.titleText})]})}),(0,p.jsx)(n.ZP,{item:!0,xs:12,md:6,children:(0,p.jsxs)(P.Z,{spacing:1,children:[(0,p.jsx)(w.Z,{htmlFor:"chatWindowWidth",children:"Chat Window Width"}),(0,p.jsx)(L.Z,{fullWidth:!0,type:"text",id:"chatWindowWidth",name:"chatWindowWidth",defaultValue:o.chatWindowWidth,onChange:a,placeholder:"300px"})]})}),(0,p.jsx)(n.ZP,{item:!0,xs:12,md:6,children:(0,p.jsxs)(P.Z,{spacing:1,children:[(0,p.jsx)(w.Z,{htmlFor:"chatWindowHeight",children:"Chat Window Height"}),(0,p.jsx)(L.Z,{fullWidth:!0,type:"text",id:"chatWindowHeight",name:"chatWindowHeight",defaultValue:o.chatWindowHeight,onChange:a,placeholder:"320px"})]})})]})}function ee(e){let{values:o,touched:t,errors:r,handleBlur:i,handleChange:a}=e;return(0,p.jsxs)(p.Fragment,{children:[(0,p.jsx)(n.ZP,{item:!0,xs:12,children:(0,p.jsx)(y.Z,{children:(0,p.jsx)(l.Z,{variant:"subtitle1",children:"Composer Settings"})})}),(0,p.jsx)(n.ZP,{item:!0,xs:12,children:(0,p.jsxs)(P.Z,{spacing:1,children:[(0,p.jsx)(w.Z,{htmlFor:"placeholder",children:"Placeholder Text *"}),(0,p.jsx)(L.Z,{fullWidth:!0,error:Boolean(t.placeholder&&r.placeholder),id:"placeholder",defaultValue:o.placeholder,name:"placeholder",onBlur:i,onChange:a,placeholder:"Type your message...",inputProps:{maxLength:30}}),t.placeholder&&r.placeholder&&(0,p.jsx)(F.Z,{error:!0,id:"helper-text-message-placeholder",children:r.placeholder})]})}),(0,p.jsx)(n.ZP,{item:!0,xs:12,children:(0,p.jsxs)(P.Z,{spacing:1,children:[(0,p.jsx)(w.Z,{htmlFor:"fontType",children:"Font Name / Google Font Link"}),(0,p.jsxs)(k.Z,{row:!0,id:"fontType",name:"fontType",defaultValue:o.fontType,onChange:a,children:[(0,p.jsx)(S.Z,{value:"normal-font",control:(0,p.jsx)(I.Z,{}),label:"Normal Font"}),(0,p.jsx)(S.Z,{value:"google-font",control:(0,p.jsx)(I.Z,{}),label:"Google Font"})]}),(0,p.jsx)(L.Z,{fullWidth:!0,id:"fontName",name:"fontName",defaultValue:o.fontName,onChange:a,placeholder:"Provide Font Name"}),"google-font"==o.fontType&&(0,p.jsx)(n.ZP,{item:!0,xs:12,children:(0,p.jsxs)(P.Z,{spacing:1,children:[(0,p.jsx)(w.Z,{htmlFor:"googleFontLink",children:"Paste Google Font Link"}),(0,p.jsx)(L.Z,{multiline:!0,id:"googleFontLink",name:"googleFontLink",defaultValue:o.googleFontLink,onChange:a,placeholder:"Ex: <link rel='preconnect' href='https://fonts.googleapis.com'>"})]})})]})})]})}function oe(e){let{values:o,handleChange:t}=e;return(0,p.jsxs)(p.Fragment,{children:[(0,p.jsx)(n.ZP,{item:!0,xs:12,children:(0,p.jsx)(y.Z,{children:(0,p.jsx)(l.Z,{variant:"subtitle1",children:"Allow / Block chat window"})})}),(0,p.jsx)(n.ZP,{item:!0,xs:12,children:(0,p.jsxs)(P.Z,{spacing:1,children:[(0,p.jsx)(w.Z,{htmlFor:"allowedIP",children:"Allowed IP"}),(0,p.jsx)(L.Z,{multiline:!0,id:"allowedIP",name:"allowedIP",value:o.allowedIP,onChange:t,"aria-label":"empty textarea",placeholder:"Ex: 192.167.22.340, 192.167.22.341"})]})}),(0,p.jsx)(n.ZP,{item:!0,xs:12,children:(0,p.jsxs)(P.Z,{spacing:1,children:[(0,p.jsx)(w.Z,{htmlFor:"deniedIP",children:"Denied IP"}),(0,p.jsx)(L.Z,{multiline:!0,id:"deniedIP",name:"deniedIP",defaultValue:o.deniedIP,onChange:t,"aria-label":"empty textarea",placeholder:"Ex: 192.167.22.340, 192.167.22.341"})]})}),(0,p.jsx)(n.ZP,{item:!0,xs:12,children:(0,p.jsxs)(P.Z,{spacing:1,children:[(0,p.jsx)(w.Z,{htmlFor:"allowedPages",children:"Allowed Pages"}),(0,p.jsx)(L.Z,{multiline:!0,id:"allowedPages",name:"allowedPages",defaultValue:o.allowedPages,onChange:t,"aria-label":"empty textarea",placeholder:"Ex: https://xyz.com, https://abc.com"})]})}),(0,p.jsx)(n.ZP,{item:!0,xs:12,children:(0,p.jsxs)(P.Z,{spacing:1,children:[(0,p.jsx)(w.Z,{htmlFor:"deniedPages",children:"Denied Pages"}),(0,p.jsx)(L.Z,{multiline:!0,id:"deniedPages",name:"deniedPages",defaultValue:o.deniedPages,onChange:t,"aria-label":"empty textarea",placeholder:"Ex: https://xyz.com, https://abc.com"})]})})]})}function te(e){let{values:o,handleChange:t}=e;return(0,p.jsxs)(p.Fragment,{children:[(0,p.jsx)(n.ZP,{item:!0,xs:12,children:(0,p.jsx)(y.Z,{children:(0,p.jsx)(l.Z,{variant:"subtitle1",children:"Chat Window Position"})})}),(0,p.jsx)(n.ZP,{item:!0,xs:12,md:6,children:(0,p.jsxs)(P.Z,{spacing:1,children:[(0,p.jsx)(w.Z,{id:"windowAlign",children:"Window Align"}),(0,p.jsxs)(W.Z,{labelId:"windowAlign",defaultValue:o.windowAlign,name:"windowAlign",onChange:t,children:[(0,p.jsx)(T.Z,{value:"bottomLeft",children:"Bottom Left"}),(0,p.jsx)(T.Z,{value:"bottomRight",children:"Bottom Right"})]})]})}),(0,p.jsx)(n.ZP,{item:!0,xs:12,md:6,children:(0,p.jsxs)(P.Z,{spacing:1,children:[(0,p.jsx)(w.Z,{id:"minimizeOnClick",children:"Window Minimized on Click"}),(0,p.jsx)(H,{value:o.minimizeOnClick,name:"minimizeOnClick",defaultValue:!1,onChange:t})]})}),(0,p.jsx)(n.ZP,{item:!0,xs:12,md:6,children:(0,p.jsxs)(P.Z,{spacing:1,children:[(0,p.jsx)(w.Z,{htmlFor:"paddingLeft",children:"Spacing on corner"}),(0,p.jsx)(L.Z,{fullWidth:!0,type:"text",id:"paddingLeft",name:"paddingLeft",defaultValue:o.paddingLeft,onChange:t,placeholder:"0px"})]})}),(0,p.jsx)(n.ZP,{item:!0,xs:12,md:6,children:(0,p.jsxs)(P.Z,{spacing:1,children:[(0,p.jsx)(w.Z,{htmlFor:"paddingBottom",children:"Spacing on Bottom"}),(0,p.jsx)(L.Z,{fullWidth:!0,type:"text",id:"paddingBottom",name:"paddingBottom",defaultValue:o.paddingBottom,onChange:t,placeholder:"0px"})]})})]})}function re(e){let{values:o,errors:t,handleBlur:r,touched:i,handleChange:a}=e;return(0,p.jsxs)(p.Fragment,{children:[(0,p.jsx)(n.ZP,{item:!0,xs:12,children:(0,p.jsx)(y.Z,{children:(0,p.jsx)(l.Z,{variant:"subtitle1",children:"Chat Window Header Logo Settings"})})}),(0,p.jsx)(n.ZP,{item:!0,xs:12,md:6,children:(0,p.jsxs)(P.Z,{spacing:1,children:[(0,p.jsx)(w.Z,{htmlFor:"logoWidth",children:"Width"}),(0,p.jsx)(L.Z,{fullWidth:!0,type:"text",id:"logoWidth",name:"logoWidth",defaultValue:o.logoWidth,onChange:a,placeholder:"64px"})]})}),(0,p.jsx)(n.ZP,{item:!0,xs:12,md:6,children:(0,p.jsxs)(P.Z,{spacing:1,children:[(0,p.jsx)(w.Z,{htmlFor:"logoHeight",children:"Height"}),(0,p.jsx)(L.Z,{fullWidth:!0,type:"text",id:"logoHeight",name:"logoHeight",defaultValue:o.logoHeight,onChange:a,placeholder:"64px"})]})}),(0,p.jsx)(n.ZP,{item:!0,xs:12,children:(0,p.jsxs)(P.Z,{spacing:1,children:[(0,p.jsx)(w.Z,{htmlFor:"headerLogoMargin",children:"Header Logo Margin"}),(0,p.jsx)(L.Z,{id:"headerLogoMargin",name:"headerLogoMargin",value:o.headerLogoMargin,onBlur:r,onChange:a,placeholder:"border : 1px 2px 3px 4px"}),i.headerLogoMargin&&t.headerLogoMargin&&(0,p.jsx)(F.Z,{error:!0,id:"helper-text-bg-color",children:t.headerLogoMargin})]})})]})}function ne(e){let{values:o,touched:t,errors:r,handleBlur:i,handleChange:a,setFieldValue:s}=e;return(0,p.jsxs)(p.Fragment,{children:[(0,p.jsx)(n.ZP,{item:!0,xs:12,children:(0,p.jsx)(y.Z,{children:(0,p.jsx)(l.Z,{variant:"subtitle1",children:"Message Bubble Settings"})})}),(0,p.jsx)(n.ZP,{item:!0,xs:12,children:(0,p.jsx)(l.Z,{variant:"overline",display:"block",style:{color:"#9C27B0"},children:"Visitor Bubble Settings"})}),(0,p.jsx)(n.ZP,{item:!0,xs:12,md:6,children:(0,p.jsxs)(P.Z,{spacing:1,children:[(0,p.jsx)(w.Z,{htmlFor:"visitorBorderColor",children:"Border Color"}),(0,p.jsx)(R,{id:"visitorBorderColor",type:"color",value:o.visitorBorderColor,name:"visitorBorderColor",onBlur:i,onChange:s,placeholder:"",fullWidth:!0,error:Boolean(t.visitorBorderColor&&r.visitorBorderColor)}),t.visitorBorderColor&&r.visitorBorderColor&&(0,p.jsx)(F.Z,{error:!0,id:"helper-text-bg-color",children:r.visitorBorderColor})]})}),(0,p.jsx)(n.ZP,{item:!0,xs:12,md:6,children:(0,p.jsxs)(P.Z,{spacing:1,children:[(0,p.jsx)(w.Z,{htmlFor:"visitorBackgroundColor",children:"Background Color"}),(0,p.jsx)(R,{id:"visitorBackgroundColor",type:"color",value:o.visitorBackgroundColor,name:"visitorBackgroundColor",onBlur:i,onChange:s,placeholder:"",fullWidth:!0,error:Boolean(t.visitorBackgroundColor&&r.visitorBackgroundColor)}),t.visitorBackgroundColor&&r.visitorBackgroundColor&&(0,p.jsx)(F.Z,{error:!0,id:"helper-text-bg-color",children:r.visitorBackgroundColor})]})}),(0,p.jsx)(n.ZP,{item:!0,xs:12,md:6,children:(0,p.jsxs)(P.Z,{spacing:1,children:[(0,p.jsx)(w.Z,{htmlFor:"visitorFontColor",children:"Font Color"}),(0,p.jsx)(R,{id:"visitorFontColor",type:"color",value:o.visitorFontColor,name:"visitorFontColor",onBlur:i,onChange:s,placeholder:"",fullWidth:!0,error:Boolean(t.visitorFontColor&&r.visitorFontColor)}),t.visitorFontColor&&r.visitorFontColor&&(0,p.jsx)(F.Z,{error:!0,id:"helper-text-bg-color",children:r.visitorFontColor})]})}),(0,p.jsx)(n.ZP,{item:!0,xs:12,md:6,children:(0,p.jsxs)(P.Z,{spacing:1,children:[(0,p.jsx)(w.Z,{htmlFor:"visitorLogo",children:"Visitor Logo"}),(0,p.jsx)(H,{name:"visitorLogo",value:o.visitorLogo,defaultValue:!1,onChange:s})]})}),"yes"==o.visitorLogo&&(0,p.jsx)(n.ZP,{item:!0,xs:12,children:(0,p.jsxs)(P.Z,{spacing:1,children:[(0,p.jsx)(w.Z,{htmlFor:"visitorLogoImage",children:"Upload Visitor Logo"}),(0,p.jsx)(L.Z,{fullWidth:!0,type:"file",id:"visitorLogoImage",name:"visitorLogoImage",onChange:a,placeholder:"0px"})]})}),(0,p.jsx)(n.ZP,{item:!0,xs:12,children:(0,p.jsxs)(P.Z,{spacing:1,children:[(0,p.jsx)(w.Z,{htmlFor:"visitorBubbleBorderCurve",style:{paddingBottom:"6px"},children:"Border Radius"}),(0,p.jsx)(L.Z,{id:"visitorBubbleBorderCurve",name:"visitorBubbleBorderCurve",value:o.visitorBubbleBorderCurve,onBlur:i,onChange:a,placeholder:"border : 1px 2px 3px 4px"}),t.visitorBubbleBorderCurve&&r.visitorBubbleBorderCurve&&(0,p.jsx)(F.Z,{error:!0,id:"helper-text-bg-color",children:r.visitorBubbleBorderCurve})]})}),(0,p.jsx)(n.ZP,{item:!0,xs:12,children:(0,p.jsx)(l.Z,{variant:"overline",display:"block",style:{color:"#9C27B0"},children:"Bot Bubble Settings"})}),(0,p.jsx)(n.ZP,{item:!0,xs:12,md:6,children:(0,p.jsxs)(P.Z,{spacing:1,children:[(0,p.jsx)(w.Z,{htmlFor:"botBorderColor",children:"Border Color"}),(0,p.jsx)(R,{id:"botBorderColor",type:"color",value:o.botBorderColor,name:"botBorderColor",onBlur:i,onChange:s,placeholder:"",fullWidth:!0,error:Boolean(t.botBorderColor&&r.botBorderColor)}),t.botBorderColor&&r.botBorderColor&&(0,p.jsx)(F.Z,{error:!0,id:"helper-text-bg-color",children:r.botBorderColor})]})}),(0,p.jsx)(n.ZP,{item:!0,xs:12,md:6,children:(0,p.jsxs)(P.Z,{spacing:1,children:[(0,p.jsx)(w.Z,{htmlFor:"botBackgroundColor",children:"Background Color"}),(0,p.jsx)(R,{id:"botBackgroundColor",type:"color",value:o.botBackgroundColor,name:"botBackgroundColor",onBlur:i,onChange:s,placeholder:"",fullWidth:!0,error:Boolean(t.botBackgroundColor&&r.botBackgroundColor)}),t.botBackgroundColor&&r.botBackgroundColor&&(0,p.jsx)(F.Z,{error:!0,id:"helper-text-bg-color",children:r.botBackgroundColor})]})}),(0,p.jsx)(n.ZP,{item:!0,xs:12,md:6,children:(0,p.jsxs)(P.Z,{spacing:1,children:[(0,p.jsx)(w.Z,{htmlFor:"botFontColor",children:"Font Color"}),(0,p.jsx)(R,{id:"botFontColor",type:"color",value:o.botFontColor,name:"botFontColor",onBlur:i,onChange:s,placeholder:"",fullWidth:!0,error:Boolean(t.botFontColor&&r.botFontColor)}),t.botFontColor&&r.botFontColor&&(0,p.jsx)(F.Z,{error:!0,id:"helper-text-bg-color",children:r.botFontColor})]})}),(0,p.jsx)(n.ZP,{item:!0,xs:12,md:6,children:(0,p.jsxs)(P.Z,{spacing:1,children:[(0,p.jsx)(w.Z,{htmlFor:"botLogo",children:"Bot Logo"}),(0,p.jsx)(H,{name:"botLogo",value:o.botLogo,onChange:s,defaultValue:!0})]})}),"yes"==o.botLogo&&(0,p.jsx)(n.ZP,{item:!0,xs:12,children:(0,p.jsxs)(P.Z,{spacing:1,children:[(0,p.jsx)(w.Z,{htmlFor:"botLogoImage",children:"Upload Bot Logo"}),(0,p.jsx)(L.Z,{fullWidth:!0,type:"file",id:"botLogoImage",name:"botLogoImage",onChange:a,placeholder:"upload image"})]})}),"yes"==o.botLogo&&(0,p.jsx)(n.ZP,{item:!0,xs:12,children:(0,p.jsxs)(P.Z,{spacing:1,children:[(0,p.jsx)(w.Z,{htmlFor:"botLogoImage",children:"Upload Bot Logo"}),(0,p.jsx)(L.Z,{fullWidth:!0,type:"file",id:"botLogoImage",name:"botLogoImage",onChange:a,placeholder:"upload image"})]})}),(0,p.jsxs)(n.ZP,{item:!0,xs:12,children:[(0,p.jsxs)(P.Z,{spacing:1,children:[(0,p.jsx)(w.Z,{htmlFor:"botBubbleBorderCurve",style:{paddingBottom:"6px"},children:"Border Radius"}),(0,p.jsx)(L.Z,{id:"botBubbleBorderCurve",name:"botBubbleBorderCurve",value:o.botBubbleBorderCurve,onBlur:i,onChange:a,placeholder:"border : 1px 2px 3px 4px"}),t.botBubbleBorderCurve&&r.botBubbleBorderCurve&&(0,p.jsx)(F.Z,{error:!0,id:"helper-text-bg-color",children:r.botBubbleBorderCurve})]}),(0,p.jsx)(l.Z,{variant:"caption",display:"block",gutterBottom:!0,children:"border: top-left top-right bottom-right bottom-left"})]})]})}function le(e){let{errors:o,isSubmitting:t}=e;return(0,p.jsx)(p.Fragment,{children:(0,p.jsxs)(n.ZP,{item:!0,xs:12,children:[(0,p.jsx)(F.Z,{error:!0,children:o.submit}),(0,p.jsx)(z.Z,{children:(0,p.jsx)(O.Z,{disableElevation:!0,disabled:Boolean(o.submit),isLoading:t,fullWidth:!0,size:"large",type:"submit",variant:"contained",color:"primary",children:"Save Settings"})})]})})}function ie(e){let{values:o,handleChange:t,setFieldValue:r}=e;return(0,p.jsxs)(p.Fragment,{children:[(0,p.jsx)(n.ZP,{item:!0,xs:12,children:(0,p.jsx)(y.Z,{children:(0,p.jsx)(l.Z,{variant:"subtitle1",children:"Chat Launcher Settings"})})}),(0,p.jsx)(n.ZP,{item:!0,xs:12,children:(0,p.jsxs)(P.Z,{spacing:1,children:[(0,p.jsx)(w.Z,{htmlFor:"message-placeholder",children:"Launcher Type *"}),(0,p.jsxs)(k.Z,{row:!0,name:"launcherType",defaultValue:o.launcherType,onChange:t,children:[(0,p.jsx)(S.Z,{value:"icon",control:(0,p.jsx)(I.Z,{}),label:"Chat Button"}),(0,p.jsx)(S.Z,{value:"bar",control:(0,p.jsx)(I.Z,{}),label:"Launch with Bar"})]})]})}),"bar"==o.launcherType&&(0,p.jsx)(n.ZP,{item:!0,xs:12,children:(0,p.jsxs)(P.Z,{spacing:1,children:[(0,p.jsx)(w.Z,{id:"buttonOnMobile",children:"Button on Mobile"}),(0,p.jsx)(H,{name:"buttonOnMobile",value:o.buttonOnMobile,defaultValue:!1,onChange:r})]})})]})}function ae(e){let{onChange:o}=e;const{values:t}=(0,N.u6)();return r.useEffect((()=>{t&&o((0,U.K)(t))}),[t,o]),null}const se=()=>{const[e,o]=r.useState({}),[,t]=(0,C.g)();return(0,p.jsxs)(n.ZP,{container:!0,rowSpacing:4.5,columnSpacing:2.75,children:[(0,p.jsx)(n.ZP,{item:!0,xs:12,sx:{mb:-2.25},children:(0,p.jsx)(l.Z,{variant:"h5",children:"Chat Window Design"})}),(0,p.jsx)(n.ZP,{item:!0,xs:12,sm:12,md:12,lg:6,children:(0,p.jsx)(Q,{onChange:o})}),(0,p.jsx)(n.ZP,{item:!0,xs:12,sm:12,md:12,lg:6,children:(0,p.jsx)(m,{botDetails:t,botDesign:e,onReceiveChatResponse:e=>(0,f.gy)(e.organization)})}),(0,p.jsx)(n.ZP,{item:!0,md:8,sx:{display:{sm:"none",md:"block",lg:"none"}}})]})}},45960:(e,o,t)=>{t.d(o,{Bc:()=>i,Iz:()=>a,lz:()=>l,pb:()=>s});var r=t(80730),n=t(23509);async function l(e){const{organization:{websiteUrl:o,_id:t}}=n.tN.getState(),l={organizationId:t,websiteUrl:o,botName:e,botDesign:{botLogo:{name:"",url:""},backgroundColor:"coral",textColor:"#fff",dimensions:{heightInPixel:"500px",heightInPercent:"70%",widthInPixel:"350px",widthInPercent:"25%"},botLogoDimensions:{heightInPixel:"30px",heightInPercent:"100%",widthInPixel:"30px",widthInPercent:"100%"}}},i=await r.v_("/bot/initialize-create-bot",l),a=i._id;let{botsMap:s,botsList:d}=n.tN.getState();s={...s,[a]:i},d=[...d],d.push(i._doc),n.tN.setState({selectedBotId:a,botsMap:s,botsList:d})}async function i(e,o){let{botDesign:t}=n.tN.getState();t={...t,...o};d(await r.v_("/bot/save-bot-design",{botDesign:t},{headers:{botId:e}}))}async function a(e,o){const t=await r.v_("/bot/edit-bot-details",o);let{botsMap:l,botsList:i}=n.tN.getState();l={...l,[e]:t},i=[...i];const a=i.findIndex((o=>o._id===e));a>=0&&(i[a]=t[a]),n.tN.setState({selectedBotId:e,botsMap:l,botsList:i})}async function s(e,o){let{botSettings:t={}}=n.tN.getState();t={...t,...o};d(await r.v_("/bot/save-bot-settings",{botSettings:t},{headers:{botId:e}}))}function d(e){const o=e._id;let{botsMap:t,botsList:r}=n.tN.getState();t={...t,[o]:e},r=[...r];const l=r.findIndex((e=>e._id===o));l>=0?r[l]=e:r.push(e),n.tN.setState({selectedBotId:o,botsMap:t,botsList:r})}},49542:(e,o,t)=>{t.d(o,{$9:()=>a,RF:()=>l,gy:()=>i,vv:()=>s});var r=t(80730),n=t(23509);async function l(e,o){const{organizationId:t}=n.tN.getState();return e?e!==t&&n.tN.setState({organizationId:e}):e=t,await async function(e,o){var t;const l=await r.v_("/bot/get-all-bots",{organizationId:e}),i=o||(null===(t=l[0])||void 0===t?void 0:t._id),a=l.reduce(((e,o)=>(e[o._id]=o,e)),{});n.tN.setState({organizationId:e,botsList:l,botsMap:a,selectedBotId:i})}(e,o),!0}function i(e){if(!e||"object"!==typeof e)return;let{organization:o}=n.tN.getState();o&&(o={...o,...e},n.tN.setState({organization:o}))}async function a(e){const o=await r.v_("/organization/get-organization-by-id",{organizationId:e});n.tN.setState({organization:o})}function s(e){n.tN.setState({selectedBotId:e})}},969:(e,o,t)=>{t.d(o,{g:()=>n});var r=t(23509);function n(e){const o=(0,r.tN)((e=>e.selectedBotId)),t=(0,r.tN)((t=>t.botsMap[e||o]));return[e||o,t]}}}]);