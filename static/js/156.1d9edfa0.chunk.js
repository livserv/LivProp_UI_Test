"use strict";(self.webpackChunklib_prop_ui=self.webpackChunklib_prop_ui||[]).push([[156],{25040:(e,t,n)=>{n.d(t,{c:()=>s});var i=n(74836),a=n(97884);function s(e){let{children:t,type:n}=e;return(0,a.jsx)(i.q.div,{whileHover:{scale:1},whileTap:{scale:.9},children:t})}s.defaultProps={type:"scale"}},96140:(e,t,n)=>{n.d(t,{c:()=>l});n(99584);var i=n(89668),a=n(91552),s=n(26488),o=n(55704),r=n(43924),c=n(97884);const l=e=>{const{title:t,children:n,open:l,setOpen:d,onConfirm:p}=e;return(0,c.jsxs)(i.c,{open:l,onClose:()=>d(!1),style:{zIndex:1e4},children:[(0,c.jsx)(a.c,{sx:{m:0,p:2},id:"confirm-dialog",children:t}),(0,c.jsx)(s.c,{dividers:!0,children:n}),(0,c.jsxs)(o.c,{children:[(0,c.jsx)(r.c,{size:"large",type:"submit",variant:"contained",color:"secondary",onClick:()=>d(!1),children:"No"}),(0,c.jsx)(r.c,{size:"large",type:"submit",variant:"contained",color:"success",onClick:()=>{d(!1),p()},children:"Yes"})]})]})}},58092:(e,t,n)=>{n.d(t,{c:()=>o});var i=n(99584),a=n(4568),s=n(97884);const o=i.forwardRef((function(e,t){return(0,s.jsx)(a.c,{direction:"up",ref:t,...e})}))},1816:(e,t,n)=>{n.d(t,{c:()=>p});var i=n(99584),a=n(60392),s=n(65936),o=n(78640),r=n(43664),c=n(36744),l=n(97884);const d={p:2.5,"& .MuiCardHeader-action":{m:"0px auto",alignSelf:"center"}},p=(0,i.forwardRef)(((e,t)=>{let{border:n=!0,boxShadow:i,children:p,content:u=!0,contentSX:h={},darkTitle:m,elevation:g,secondary:x,shadow:f,sx:b={},title:j,...y}=e;const v=(0,a.c)();return i="dark"===v.palette.mode?i||!0:i,(0,l.jsxs)(s.c,{elevation:g||0,ref:t,...y,sx:{border:n?"1px solid":"none",borderRadius:2,borderColor:"dark"===v.palette.mode?v.palette.divider:v.palette.grey.A800,boxShadow:!i||n&&"dark"!==v.palette.mode?"inherit":f||v.customShadows.z1,":hover":{boxShadow:i?f||v.customShadows.z1:"inherit"},"& pre":{m:0,p:"16px !important",fontFamily:v.typography.fontFamily,fontSize:"0.75rem"},...b},children:[!m&&j&&(0,l.jsx)(o.c,{sx:d,titleTypographyProps:{variant:"subtitle1"},title:j,action:x}),m&&j&&(0,l.jsx)(o.c,{sx:d,title:(0,l.jsx)(r.c,{variant:"h3",children:j}),action:x}),u&&(0,l.jsx)(c.c,{sx:h,children:p}),!u&&p]})}))},64296:(e,t,n)=>{n.d(t,{c:()=>h});n(99584);var i=n(58092),a=n(89668),s=n(91552),o=n(26488),r=n(86632),c=n(25496),l=n(60392),d=n(62624),p=n(97884);const u=(0,c.cp)(a.c)((e=>{let{theme:t}=e;return{"& .MuiDialogContent-root":{padding:t.spacing(2)},"& .MuiDialogActions-root":{padding:t.spacing(1)}}}));function h(e){const t=(0,l.c)(),{breakpoints:n}=t,{openPopUpDialog:a,setPopUpDialog:c,title:h}=e;return(0,p.jsxs)(u,{TransitionComponent:i.c,"aria-labelledby":"customized-dialog-title",open:a,PaperProps:{sx:{width:"60%",[n.down("sm")]:{width:"90%"}}},children:[(0,p.jsx)(s.c,{sx:{m:0,p:2},id:"customized-dialog-title",children:h}),(0,p.jsx)(d.c,{"aria-label":"close",onClick:()=>{c(!1)},sx:{position:"absolute",right:8,top:8},children:(0,p.jsx)(r.c,{})}),(0,p.jsx)(o.c,{dividers:!0,children:e.children})]})}},62216:(e,t,n)=>{n.d(t,{c:()=>r});var i=n(99584),a=n(43924),s=n(49700),o=n(97884);const r=function(e){let{onClick:t,disabled:n,isLoading:r,children:c,...l}=e;const[d,p]=i.useState(r);return(0,o.jsxs)(a.c,{onClick:e=>{if(!t)return;const n=t(e);"function"===typeof(null===n||void 0===n?void 0:n.finally)&&(p(!0),n.finally((()=>p(!1))))},disabled:d||r||n,...l,children:[(d||r)&&(0,o.jsx)(s.c,{size:16,color:"primary",style:{marginRight:"10px"}}),c]})}},97616:(e,t,n)=>{n.d(t,{c:()=>b});n(99584);var i=n(86344),a=n(2496),s=n(59112),o=n(43664),r=n(43924),c=n(25528),l=n(72512),d=n(12316),p=n(25040),u=n(64296),h=n(79028),m=n(97544),g=n(53632),x=n(74996),f=n(97884);const b=function(e){let{isOpen:t,toggleOpen:n}=e;return(0,f.jsx)(u.c,{openPopUpDialog:t,setPopUpDialog:n,title:"Upload Training Documents",children:(0,f.jsx)(v,{setDocumentUploadDialogOpen:n})})},j=h.cX?h.cX:5242880,y=l.kt().shape({file:l.Er().required("File is not selected").test("is-valid-size","Maximum allowed file size is ".concat(j/1048576," MB"),(e=>e&&e.size<=j))});function v(e){let{setDocumentUploadDialogOpen:t}=e;const[,n]=(0,g._)(),l=null===n||void 0===n?void 0:n.trainingMedia;return(0,f.jsxs)(i.cp,{container:!0,spacing:1,children:[(0,f.jsx)(i.cp,{item:!0,xs:12,md:12,style:{display:"flex",justifyContent:"center"},children:(0,f.jsx)(a.c,{spacing:1,children:(0,f.jsx)(s.c,{children:"File Upload (.pdf,.doc,.docx,.txt,.csv)"})})}),(0,f.jsx)(i.cp,{item:!0,xs:12,md:12,style:{display:"flex",justifyContent:"center"},children:(0,f.jsx)(d.QJ,{initialValues:{file:null},validationSchema:y,onSubmit:async(e,n)=>{let{setErrors:i,setStatus:a,setSubmitting:s}=n;try{const{name:n}=e.file;l.some((e=>e.originalName===n))?(0,x.l)(!0,"The file already uploaded!. Please select another file","error"):(s(!0),await(0,m.We)(e.file),a({success:!0}),t(!1),(0,x.l)(!0,"The file uploaded successfully!","success"))}catch(o){console.error("Error uploading the document:",o),a({success:!1}),i({submit:o.message}),s(!1),t(!1),(0,x.l)(!0,"Not able to upload the file. Try after sometime!","error")}},children:e=>{let{values:t,errors:n,isSubmitting:a,setFieldValue:s}=e;return(0,f.jsxs)(d.QF,{children:[(0,f.jsxs)(i.cp,{container:!0,spacing:2,children:[(0,f.jsx)(i.cp,{item:!0,xs:12,md:12,children:t.file&&(0,f.jsxs)(o.c,{variant:"body2",children:["Selected File: ",t.file.name]})}),(0,f.jsx)(i.cp,{item:!0,xs:6,md:6,container:!0,justifyContent:"flex-end",children:(0,f.jsx)(d.IN,{type:"file",name:"file",as:e=>{let{field:t}=e;return(0,f.jsx)(p.c,{children:(0,f.jsxs)(r.c,{variant:"contained",component:"label",htmlFor:"file-input",size:"large",sx:{whiteSpace:"nowrap"},children:["Select File",(0,f.jsx)("input",{...t,type:"file",id:"file-input",style:{display:"none"},onChange:e=>{s("file",e.currentTarget.files[0])},accept:".pdf,.doc,.docx,.txt,text/plain"})]})})}})}),(0,f.jsx)(i.cp,{item:!0,xs:6,md:6,children:(0,f.jsx)(p.c,{children:(0,f.jsx)(r.c,{variant:"contained",size:"large",type:"submit",disabled:a,children:a?"Uploading...":"Upload"})})})]}),(0,f.jsx)(i.cp,{item:!0,xs:12,md:12,style:{display:"flex",justifyContent:"center"},children:(0,f.jsx)(c.c,{error:!0,id:"helper-text-file-input",children:n.file})})]})}})})]})}},68776:(e,t,n)=>{n.r(t),n.d(t,{default:()=>B});var i=n(99584),a=n(90760),s=n(86344),o=n(43664),r=n(2496),c=n(59112),l=n(55056),d=n(25528),p=n(33020),u=n(25496),h=n(93576),m=n(10056),g=n(55680),x=n(53444),f=n(80712),b=n(72512),j=n(12316),y=n(76312),v=n(53632),S=n(25040),w=n(97544),_=n(62216),D=n(64296),T=n(74996),C=n(54096),E=n(65848),A=n(36744),I=n(49892),U=n(9608),P=n(62624),k=n(58632),N=n(1816),M=n(96140);function O(e,t,n,i){function a(e,t,n){const{botsList:i}=y.mW.getState(),a=i.find((t=>t._id===e));if(a){const i=a.trainingMedia.map((e=>e.url===t?{...e,name:n}:e));((e,t)=>{y.mW.setState((n=>{const i=n.botsList.map((n=>n._id===e?{...n,trainingMedia:t}:n));return{...n,botsList:i}}))})(e,i),y.mW.setState((()=>({trainingMediaUpdate:!0})))}else console.error("Bot not found for the given ID.")}a(n,e,"delete"===i?e:t)}var R=n(97884);const W=function(e){let{media:t,botId:n,organizationId:a}=e;const[r,c]=i.useState(!1),{name:p,url:u,type:h,originalName:m}=t;return(0,R.jsxs)(N.c,{contentSX:{p:2.25},children:[(0,R.jsxs)(A.c,{style:{padding:0,minHeight:"65px",maxHeight:"65px"},children:[m&&(0,R.jsxs)(o.c,{variant:"h6",style:{overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap",maxWidth:"300px"},children:[(0,R.jsx)("strong",{children:"File Name :"})," ",(0,R.jsx)(I.c,{style:{cursor:"pointer"},title:m,children:(0,R.jsx)("span",{children:(0,R.jsx)("a",{href:u,target:"_blank",rel:"noreferrer",children:m})})})]}),"single_page"===h&&(0,R.jsxs)(o.c,{variant:"h6",style:{overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap",maxWidth:"300px"},children:[(0,R.jsx)("strong",{children:"URL :"})," ",(0,R.jsx)(I.c,{style:{cursor:"pointer"},title:u,children:(0,R.jsx)("span",{children:u})})]}),(0,R.jsxs)(o.c,{variant:"h6",children:[(0,R.jsx)("strong",{children:"Type :"})," ","single_page"===h?"Web Page":"Document"]}),(0,R.jsxs)(o.c,{variant:"h6",children:[(0,R.jsx)("strong",{children:"Document Name :"})," ",p===u?"NA":(0,R.jsx)(k.c,{label:p,onDelete:()=>((e,t,n)=>{O(e,t,n,"delete")})(u,p,n)})]})]}),(0,R.jsx)(U.c,{style:{justifyContent:"flex-end",padding:"1px"},children:(0,R.jsxs)(s.cp,{container:!0,children:[(0,R.jsx)(s.cp,{item:!0,xs:10,md:10,children:p===u&&(0,R.jsx)(j.QJ,{initialValues:{trainingMediaName:"",url:u},validationSchema:b.kt().shape({trainingMediaName:b.Qb().max(50,"Training Media Name length must be less than 50 characters").min(3,"Training Media Name length must be at least 3 characters").required("Training Media Name is required")}),onSubmit:async(e,t)=>{let{setErrors:i,setStatus:a,setSubmitting:s}=t;const{trainingMediaName:o}=e;try{O(u,o,n,"add"),a({success:!0}),s(!0)}catch(r){a({success:!1}),i({submit:r.message}),s(!1)}},children:e=>{let{errors:t,handleBlur:n,handleChange:i,handleSubmit:a,isSubmitting:o,touched:r,values:c}=e;return(0,R.jsx)("form",{noValidate:!0,onSubmit:a,children:(0,R.jsxs)(s.cp,{container:!0,spacing:1,children:[(0,R.jsxs)(s.cp,{item:!0,xs:8,md:8,children:[(0,R.jsx)(l.c,{id:"trainingMediaName",type:"trainingMediaName",name:"trainingMediaName",placeholder:"Document Name",defaultValue:c.trainingMediaName,onBlur:n,onChange:i,fullWidth:!0,autoComplete:"off",error:Boolean(r.trainingMediaName&&t&&t.trainingMediaName)}),r.trainingMediaName&&t.trainingMediaName&&(0,R.jsx)(d.c,{error:!0,id:"helper-text-training-media-name",children:t.trainingMediaName})]}),(0,R.jsx)(s.cp,{item:!0,xs:1,md:1,children:(0,R.jsx)(S.c,{children:(0,R.jsx)(_.c,{isLoading:o,disabled:o,type:"submit",variant:"contained",color:"primary",children:"Add"})})})]})})}})}),(0,R.jsx)(s.cp,{item:!0,xs:1,md:1,children:(0,R.jsx)(I.c,{title:"text/plain"===h?"View Document":"View Web Page",children:(0,R.jsx)(P.c,{variant:"text",onClick:()=>{return e=u,void window.open(e);var e},children:(0,R.jsx)(E.c,{style:{color:"#5ad74e"}})})})}),(0,R.jsxs)(s.cp,{item:!0,xs:1,md:1,children:[(0,R.jsx)(I.c,{title:"Delete",children:(0,R.jsx)(P.c,{variant:"text",onClick:()=>c(!0),children:(0,R.jsx)(C.c,{style:{color:"#ff0000"},fontSize:"small"})})}),(0,R.jsxs)(M.c,{title:"Delete file?",open:r,setOpen:c,onConfirm:()=>(async(e,t,n,i)=>{try{const a={organizationId:i,botId:n,fileName:t,fileUrl:e};await(0,w.QJ)(a,n,i),(0,T.l)(!0,"The file deleted successfully!","success")}catch(a){(0,T.l)(!0,"Not able to delete the file. Try after sometime!","error")}})(u,p,n,a),children:["Confirm the deletion of ",m||u,"?"]})]})]})})]})};var z=n(97616);const L=(0,u.cp)(h.c)((e=>{let{theme:t}=e;return{position:"fixed","#trainingDocumentsSpeedDial &":{"&.MuiSpeedDial-directionDown, &.MuiSpeedDial-directionRight":{left:"auto",right:t.spacing(2)},"&.MuiSpeedDial-directionUp, &.MuiSpeedDial-directionLeft":{right:"auto",left:t.spacing(2)}}}}));function F(e){let{botId:t,organizationId:n}=e;const[a,s]=i.useState(!1),[o,r]=i.useState(!1),c=[{icon:(0,R.jsx)(g.c,{}),name:"File Upload (.pdf,.doc,.docx,.txt)",method:()=>{r(!0)}},{icon:(0,R.jsx)(x.c,{}),name:"Add Web Page url",method:()=>{s(!0)}}];return(0,R.jsxs)(R.Fragment,{children:[(0,R.jsx)(L,{ariaLabel:"Upload Training Documents",hidden:!1,icon:(0,R.jsx)(m.c,{}),direction:"down",sx:{"& .MuiFab-primary":{width:40,height:40}},children:c.map((e=>(0,R.jsx)(p.c,{icon:e.icon,tooltipTitle:e.name,onClick:e.method},e.name)))}),(0,R.jsx)(D.c,{openPopUpDialog:a,setPopUpDialog:s,title:"Upload Training Documents",children:(0,R.jsx)(K,{botId:t,organizationId:n,setWebPageUrlAddDialogOpen:s})}),(0,R.jsx)(z.c,{isOpen:o,toggleOpen:r})]})}const B=function(){var e;const[t,n]=(0,i.useState)(!1),[r,c]=(0,i.useState)(!1),l=(0,y.mW)((e=>e.botsList)),d=(0,y.mW)((e=>e.organizationId)),p=(0,y.mW)((e=>e.trainingMediaUpdate)),[u]=(0,v._)(),h=null===(e=l.find((e=>e._id===u)))||void 0===e?void 0:e.trainingMedia;return(0,R.jsx)(R.Fragment,{children:(0,R.jsxs)(a.c,{children:[(0,R.jsxs)(s.cp,{container:!0,spacing:3,children:[(0,R.jsx)(s.cp,{item:!0,xs:3,children:(0,R.jsx)(o.c,{variant:"h5",children:"Training Documents"})}),(0,R.jsx)(s.cp,{item:!0,xs:6,sx:{position:"relative",display:"flex",justifyContent:"flex-end"},children:(0,R.jsx)("div",{style:{position:"fixed",right:75},children:(0,R.jsxs)(s.cp,{container:!0,spacing:3,children:[(0,R.jsx)(s.cp,{item:!0,children:p&&(0,R.jsx)(S.c,{children:(0,R.jsx)(_.c,{isLoading:t,disabled:t,variant:"contained",color:"success",size:"large",onClick:async()=>{try{n(!0);const e={botId:u,organizationId:d,trainingDocument:h};await(0,w.uk)(e,u),y.mW.setState((()=>({trainingMediaUpdate:!1}))),(0,T.l)(!0,"The document names updated successfully!","success"),n(!1)}catch(e){n(!1),(0,T.l)(!0,"Not able to add document names. Try after sometime!","error")}},children:"Save Changes"})})}),(0,R.jsx)(s.cp,{item:!0,children:(0,R.jsx)(S.c,{children:(0,R.jsx)(_.c,{isLoading:r,disabled:r,variant:"contained",color:"success",size:"large",onClick:async()=>{c(!0);try{const e=await(0,w.SC)(u,d),{deleted:t,totalDocs:i,supportedDocsCount:a,processedDocsCount:s,created:o,failedDocsId:r}=e,l=r.length,p=l>0?l+" are failed to process":"all supported files processed successfully";c(!1),(0,T.l)(!0,"The bot training completed successfully! in ".concat(i," files ").concat(a," are supported, ").concat(s," files processed, ").concat(t," files deleted, ").concat(o," canned responses created and ").concat(p),"success"),n(!1)}catch(e){c(!1),(0,T.l)(!0,"Not able to train the bot. Try after sometime!","error")}},children:"Train the bot"})})})]})})}),(0,R.jsx)(s.cp,{item:!0,xs:1,sx:{position:"relative"},id:"trainingDocumentsSpeedDial",children:(0,R.jsx)(F,{botId:u,organizationId:d})})]}),(0,R.jsx)(a.c,{children:(0,R.jsx)(s.cp,{container:!0,spacing:3,children:(0,R.jsx)(V,{trainingMedia:h,botId:u,organizationId:d})})})]})})};function K(e){let{botId:t,organizationId:n,setWebPageUrlAddDialogOpen:i}=e;const[,a]=(0,v._)();return(0,R.jsx)(R.Fragment,{children:(0,R.jsx)(s.cp,{item:!0,xs:12,children:(0,R.jsx)(j.QJ,{initialValues:{webpageUrl:""},validationSchema:b.kt().shape({webpageUrl:b.Qb().url("Enter valid url!").required("please enter webpage url")}),onSubmit:async(e,s)=>{let{setErrors:o,setStatus:r,setSubmitting:c}=s;try{const{trainingMedia:s}=a;if(s.some((t=>{var n,i;return(null===(n=t.url)||void 0===n?void 0:n.toLowerCase())===(null===(i=e.webpageUrl)||void 0===i?void 0:i.toLowerCase())})))(0,T.l)(!0,"This URL already available in the Training Documents!. Please add another URL","error");else{const a={url:e.webpageUrl};c(!0),await(0,w.AT)(a,t,n),r({success:!0}),i(!1),(0,T.l)(!0,"The url added successfully!","success")}}catch(l){console.error("Error adding training documents:-",l),r({success:!1}),o({submit:l.message}),c(!1),i(!1),(0,T.l)(!0,"Not able to add the url. Try after sometime!","error")}},children:e=>{let{errors:t,handleBlur:n,handleChange:i,handleSubmit:a,isSubmitting:o,touched:p,values:u}=e;return(0,R.jsx)("form",{noValidate:!0,onSubmit:a,children:(0,R.jsxs)(s.cp,{container:!0,spacing:1,children:[(0,R.jsx)(s.cp,{item:!0,xs:9,md:9,children:(0,R.jsxs)(r.c,{spacing:1,children:[(0,R.jsx)(c.c,{htmlFor:"webpage-url",children:"Webpage Url"}),(0,R.jsx)(l.c,{id:"webpage-url",type:"webpageUrl",defaultValue:u.webpageUrl,name:"webpageUrl",onBlur:n,onChange:i,autoComplete:"off",fullWidth:!0,placeholder:"https://www.yourwebsite.com/product-info",error:Boolean(p.webpageUrl&&t.webpageUrl)}),p.webpageUrl&&t.webpageUrl&&(0,R.jsx)(d.c,{error:!0,id:"helper-text-webpage-url",children:t.webpageUrl})]})}),(0,R.jsx)(s.cp,{item:!0,xs:2,md:2,children:(0,R.jsxs)(r.c,{spacing:1,children:[(0,R.jsx)(c.c,{children:"\xa0"}),(0,R.jsx)(S.c,{children:(0,R.jsx)(_.c,{isLoading:o,disabled:o,color:"primary",size:"large",type:"submit",variant:"contained",id:"webpageUrlSubmit",children:"Add"})})]})})]})})}})})})}function V(e){let{trainingMedia:t,botId:n,organizationId:i}=e;return(0,R.jsxs)(R.Fragment,{children:[(0,R.jsx)(s.cp,{item:!0,xs:12,children:t&&0===t.length&&(0,R.jsx)(o.c,{variant:"caption",color:"#FF0000",children:(0,R.jsxs)(s.cp,{container:!0,spacing:1,children:[(0,R.jsx)(s.cp,{item:!0,xs:12,md:12,style:{display:"flex",justifyContent:"center"},children:(0,R.jsx)(f.c,{style:{fontSize:40}})}),(0,R.jsx)(s.cp,{item:!0,xs:12,md:12,style:{display:"flex",justifyContent:"center"},children:"Training Documents are not uploaded!"})]})})}),t&&t.map(((e,t)=>(0,R.jsx)(s.cp,{item:!0,xs:12,sm:6,md:4,children:(0,R.jsx)(W,{media:e,botId:n,organizationId:i})},t)))]})}},35240:(e,t,n)=>{n.d(t,{Aj:()=>r,_M:()=>s,aE:()=>c,s$:()=>o,wz:()=>p});var i=n(52216),a=n(79028);async function s(e,t){return l("GET",e,t,arguments.length>2&&void 0!==arguments[2]?arguments[2]:{})}async function o(e,t){return l("POST",e,t,arguments.length>2&&void 0!==arguments[2]?arguments[2]:{})}async function r(e,t){return l("PUT",e,t,arguments.length>2&&void 0!==arguments[2]?arguments[2]:{})}async function c(e,t){return l("DELETE",e,t,arguments.length>2&&void 0!==arguments[2]?arguments[2]:{})}async function l(e,t,n){let{headers:i,noAuth:a,...s}=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};const o="POST"===e||"PUT"===e||"DELETE"===e;if(t=p(t,o?void 0:n),n=n&&"object"===typeof n&&o?JSON.stringify(n):void 0,i||(i={}),i["Content-Type"]="application/json",i.Accept="application/json",!1!==a){const e=sessionStorage.getItem("token");e&&(i.Authorization="Bearer ".concat(e))}try{const a=await fetch(t,{...s,headers:i,body:n,method:e}),o=await a.json();if(a.ok){const{data:e,...t}=o;return delete t.status,e&&!Object.keys(t).length?e:o}throw o.message?new Error(o.message):o}catch(l){var r,c;throw console.error("Error calling API: ",l),null!==(r=l.message)&&void 0!==r&&r.includes("fetch")?new Error("Unable to reach server. Please check your network connectivity and try again."):null!==(c=l.message)&&void 0!==c&&c.includes("Invalid credentials")?new Error(l.message):new Error("Unknown server error")}}const d=(0,i.Sm)(a.UX,"/");function p(e,t){if(!e)return e;const n=t&&Object.keys(t);if(null!==n&&void 0!==n&&n.length){const i=n.reduce(((e,n)=>{let i=t[n];return null===i||void 0===i?e:(i="".concat(n,"=").concat(encodeURIComponent(i)),e?"".concat(e,"&").concat(i):i)}),"");i&&(e="".concat(e).concat(e.includes("?")?"&":"?").concat(i))}return e.startsWith("https://")?e:"".concat(d).concat(e)}},92e3:(e,t,n)=>{n.d(t,{oB:()=>r,oD:()=>o,wz:()=>s});var i=n(35240),a=n(76312);async function s(e){const{organizationId:t,selectedBotId:n}=a.mW.getState(),s=await i.s$("/bot/".concat(t,"/").concat(n,"/knowledge-base"),e);a.mW.setState((t=>{const i={...t.kbDocs||{}};if(i[n]=[...i[n]],e._id){const e=i[n].findIndex((e=>e._id===s._id));e>=0?i[n][e]=s:i[n].push(s)}else i[n].push(s);return{kbDocs:i}}))}async function o(e){const{organizationId:t,selectedBotId:n,kbDocs:s}=a.mW.getState();if(e&&Array.isArray(null===s||void 0===s?void 0:s[n]))return;const o=await i._M("/bot/".concat(t,"/").concat(n,"/knowledge-base/list"));a.mW.setState((e=>({kbDocs:{...e.kbDocs||{},[n]:o}})))}async function r(e){const{organizationId:t,selectedBotId:n}=a.mW.getState();await i.aE("/bot/".concat(t,"/").concat(n,"/knowledge-base/").concat(e)),a.mW.setState((t=>{var i;const a={...t.kbDocs||{}};return a[n]=null===(i=a[n])||void 0===i?void 0:i.filter((t=>t._id!==e)),{kbDocs:a}}))}},97544:(e,t,n)=>{n.d(t,{AT:()=>o,QJ:()=>r,SC:()=>d,We:()=>c,uk:()=>l,wD:()=>p});var i=n(35240),a=n(76312),s=n(92e3);async function o(e,t,n){const s=await i.s$("/bot/add-training-media",e,{headers:{botId:t,organizationId:n}}),{trainingMedia:o}=s;((e,t)=>{a.mW.setState((n=>{const i=n.botsList.map((n=>n._id===e?{...n,trainingMedia:t}:n));return{...n,botsList:i}}))})(t,o)}async function r(e,t,n){const s=await i.s$("/bot/delete-training-media-document",e,{headers:{botId:t,organizationId:n}}),{trainingDocuments:o}=s;((e,t)=>{a.mW.setState((n=>{const i=n.botsList.map((n=>n._id===e?{...n,trainingMedia:t}:n));return{...n,botsList:i}}))})(t,o)}async function c(e){const{organizationId:t,selectedBotId:n}=a.mW.getState(),s=new FormData;s.append("file",e);const o={},r=sessionStorage.getItem("token");r&&(o.Authorization="Bearer ".concat(r)),o.Botid=n,o.Organizationid=t,o.Accept="application/json";const c=(0,i.wz)("/bot/add-training-media");await fetch(c,{headers:o,method:"POST",body:s}).then((e=>e.json())).then((e=>{const{trainingMedia:t}=e.data;((e,t)=>{a.mW.setState((n=>{const i=n.botsList.map((n=>n._id===e?{...n,trainingMedia:t}:n));return{...n,botsList:i}}))})(n,t)})).catch((e=>{throw new Error("File upload failed. Please try again.",e)}))}async function l(e,t){const n=await i.s$("/bot/add-tranining-document-name",e),{trainingMedia:s}=n;((e,t)=>{a.mW.setState((n=>{const i=n.botsList.map((n=>n._id===e?{...n,trainingMedia:t}:n));return{...n,botsList:i}}))})(t,s)}async function d(e,t){const n=await i.s$("/bot/".concat(t,"/").concat(e,"/knowledge-base/train"));return a.mW.setState((t=>{const n={...t.kbDocs||{}};return delete n[e],(0,s.oD)().catch((e=>console.error("Error fetching Knowledge base content:",e))),{kbDocs:n}})),n}async function p(e){const t=await i.s$("/bot/add-bot-tax-details",e),{_id:n,botDetailsForVerification:s}=t;var o,r;return o=n,r=s,a.mW.setState((e=>{const t=e.botsList.map((e=>e._id===o?{...e,botDetailsForVerification:r}:e));return{...e,botsList:t}})),s}},53632:(e,t,n)=>{n.d(t,{_:()=>a});var i=n(76312);function a(e){const t=(0,i.mW)((e=>e.selectedBotId)),n=(0,i.mW)((n=>n.botsMap[e||t]));return[e||t,n]}},52216:(e,t,n)=>{function i(e,t){return e.replace(new RegExp("".concat(a(t),"+$")),"")}function a(e){return e.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")}function s(e){const t=new Date(e),n=t.getDate(),i=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"][t.getMonth()],a=t.getFullYear();return"".concat(i," ").concat(n,", ").concat(a)}n.d(t,{Sm:()=>i,_m:()=>s})},79028:(e,t,n)=>{n.d(t,{AZ:()=>a,So:()=>r,UX:()=>i,cX:()=>s,vc:()=>o});const i="https://devbackend.livhousing.com",a={NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0,REACT_APP_NGROK_BACKEND_URL:"https://60f1-203-192-224-75.ngrok-free.app",REACT_APP_VERSION:"1",REACT_APP_BACKEND_URL:"https://devbackend.livhousing.com"}.REACT_APP_IP_DATA_API_KEY||"d5f26b13e02d0e43f0870c726797b2c2f726b739a4c91bf9e4bb59c2",s={NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0,REACT_APP_NGROK_BACKEND_URL:"https://60f1-203-192-224-75.ngrok-free.app",REACT_APP_VERSION:"1",REACT_APP_BACKEND_URL:"https://devbackend.livhousing.com"}.TRAINING_MEDIA_MAXSIZE,o={NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0,REACT_APP_NGROK_BACKEND_URL:"https://60f1-203-192-224-75.ngrok-free.app",REACT_APP_VERSION:"1",REACT_APP_BACKEND_URL:"https://devbackend.livhousing.com"}.CONVERSATION_MEDIA_MAXSIZE,r="https://60f1-203-192-224-75.ngrok-free.app"}}]);