"use strict";(self.webpackChunklib_prop_ui=self.webpackChunklib_prop_ui||[]).push([[5270],{32829:(e,t,n)=>{n.d(t,{A:()=>o});var i=n(79875),a=n(44414);function o(e){let{children:t,type:n}=e;return(0,a.jsx)(i.P.div,{whileHover:{scale:1},whileTap:{scale:.9},children:t})}o.defaultProps={type:"scale"}},46278:(e,t,n)=>{n.d(t,{A:()=>c});n(9950);var i=n(63464),a=n(40033),o=n(28170),r=n(79739),s=n(10226),l=n(44414);const c=e=>{const{title:t,children:n,open:c,setOpen:d,onConfirm:u}=e;return(0,l.jsxs)(i.A,{open:c,onClose:()=>d(!1),style:{zIndex:1e4},children:[(0,l.jsx)(a.A,{sx:{m:0,p:2},id:"confirm-dialog",children:t}),(0,l.jsx)(o.A,{dividers:!0,children:n}),(0,l.jsxs)(r.A,{children:[(0,l.jsx)(s.A,{size:"large",type:"submit",variant:"contained",color:"secondary",onClick:()=>d(!1),children:"No"}),(0,l.jsx)(s.A,{size:"large",type:"submit",variant:"contained",color:"success",onClick:()=>{d(!1),u()},children:"Yes"})]})]})}},92728:(e,t,n)=>{n.d(t,{A:()=>s});var i=n(89379),a=n(9950),o=n(48205),r=n(44414);const s=a.forwardRef((function(e,t){return(0,r.jsx)(o.A,(0,i.A)({direction:"up",ref:t},e))}))},51637:(e,t,n)=>{n.d(t,{A:()=>A});var i=n(89379),a=n(80045),o=n(9950),r=n(14857),s=n(48089),l=n(45180),c=n(82053),d=n(50704),u=n(44414);const h=["border","boxShadow","children","content","contentSX","darkTitle","elevation","secondary","shadow","sx","title"],m={p:2.5,"& .MuiCardHeader-action":{m:"0px auto",alignSelf:"center"}},A=(0,o.forwardRef)(((e,t)=>{let{border:n=!0,boxShadow:o,children:A,content:v=!0,contentSX:p={},darkTitle:g,elevation:x,secondary:f,shadow:b,sx:y={},title:j}=e,S=(0,a.A)(e,h);const C=(0,r.A)();return o="dark"===C.palette.mode?o||!0:o,(0,u.jsxs)(s.A,(0,i.A)((0,i.A)({elevation:x||0,ref:t},S),{},{sx:(0,i.A)({border:n?"1px solid":"none",borderRadius:2,borderColor:"dark"===C.palette.mode?C.palette.divider:C.palette.grey.A800,boxShadow:!o||n&&"dark"!==C.palette.mode?"inherit":b||C.customShadows.z1,":hover":{boxShadow:o?b||C.customShadows.z1:"inherit"},"& pre":{m:0,p:"16px !important",fontFamily:C.typography.fontFamily,fontSize:"0.75rem"}},y),children:[!g&&j&&(0,u.jsx)(l.A,{sx:m,titleTypographyProps:{variant:"subtitle1"},title:j,action:f}),g&&j&&(0,u.jsx)(l.A,{sx:m,title:(0,u.jsx)(c.A,{variant:"h3",children:j}),action:f}),v&&(0,u.jsx)(d.A,{sx:p,children:A}),!v&&A]}))}))},26092:(e,t,n)=>{n.d(t,{A:()=>m});n(9950);var i=n(92728),a=n(63464),o=n(40033),r=n(28170),s=n(96319),l=n(59254),c=n(14857),d=n(25333),u=n(44414);const h=(0,l.Ay)(a.A)((e=>{let{theme:t}=e;return{"& .MuiDialogContent-root":{padding:t.spacing(2)},"& .MuiDialogActions-root":{padding:t.spacing(1)},zIndex:11010}}));function m(e){const t=(0,c.A)(),{breakpoints:n}=t,{openPopUpDialog:a,setPopUpDialog:l,setFieldsValues:m,onClose:A=()=>(l(!1),null===m||void 0===m?void 0:m({})),title:v,width:p="70%"}=e;return(0,u.jsxs)(h,{TransitionComponent:i.A,"aria-labelledby":"customized-dialog-title",open:a,PaperProps:{sx:{width:{width:p},[n.down("sm")]:{width:"90%"}}},children:[(0,u.jsx)(o.A,{sx:{m:0,p:2},id:"customized-dialog-title",children:v}),(0,u.jsx)(d.A,{"aria-label":"close",onClick:A,sx:{position:"absolute",right:8,top:8},children:(0,u.jsx)(s.A,{})}),(0,u.jsx)(r.A,{dividers:!0,children:e.children})]})}},93383:(e,t,n)=>{n.d(t,{A:()=>d});var i=n(89379),a=n(80045),o=n(9950),r=n(10226),s=n(46639),l=n(44414);const c=["onClick","disabled","isLoading","children"];const d=function(e){let{onClick:t,disabled:n,isLoading:d,children:u}=e,h=(0,a.A)(e,c);const[m,A]=o.useState(d);return(0,l.jsxs)(r.A,(0,i.A)((0,i.A)({onClick:e=>{if(!t)return;const n=t(e);"function"===typeof(null===n||void 0===n?void 0:n.finally)&&(A(!0),n.finally((()=>A(!1))))},disabled:m||d||n},h),{},{children:[(m||d)&&(0,l.jsx)(s.A,{size:16,color:"primary",style:{marginRight:"10px"}}),u]}))}},5270:(e,t,n)=>{n.r(t),n.d(t,{default:()=>$});var i=n(9950),a=n(78317),o=n(60899),r=n(82053),s=n(52472),l=n(99532),c=n(33340),d=n(70855),u=n(43983),h=n(26092),m=n(21788),A=n(89379),v=n(81616),p=n(3788),g=n(2660),x=n(24516),f=n(16497),b=n(37324),y=n(25333),j=n(61467),S=n(29714),C=n(19274),T=n(93383),D=n(32829),E=n(70006),_=n(25277),P=n(23266),w=n(42209),I=n(44414);const O=e=>{let{options:t,values:n,label:i="Multiple Select",onChange:a,handleDelete:o}=e;return(0,I.jsx)(E.A,{multiple:!0,value:(null===n||void 0===n?void 0:n.map((e=>null===e||void 0===e?void 0:e.code)))||null,onChange:e=>{const n=e.target.value.map((e=>t.find((t=>t.code===e))));a(n)},input:(0,I.jsx)(g.A,{label:i}),renderValue:e=>(0,I.jsx)(v.A,{gap:1,direction:"row",flexWrap:"wrap",children:null===e||void 0===e?void 0:e.map((e=>{const n=t.find((t=>t.code===e));return(0,I.jsx)(_.A,{label:n?n.name:e,onDelete:()=>o(e),deleteIcon:(0,I.jsx)(w.A,{onMouseDown:e=>e.stopPropagation()})},e)}))}),MenuProps:{style:{zIndex:35001}},children:t.map((e=>(0,I.jsx)(P.A,{value:e.code,children:e.name},e.code)))})},N=[{name:"Sunday",code:"SUN"},{name:"Monday",code:"MON"},{name:"Tuesday",code:"TUE"},{name:"Wednesday",code:"WED"},{name:"Thursday",code:"THU"},{name:"Friday",code:"FRI"},{name:"Saturday",code:"SAT"}];const R=function(e){var t;let{botId:n,organizationId:i,setPopUpDialog:a,callConnectObj:r,setCallConnectObj:s,edit:l,setEditMode:c}=e;const d=S.Ik().shape({name:S.Yj().required("Name is required"),phoneNumbers:S.YO().of(S.Yj().required("Phone number is required").matches(/^\d{10}$/,"Each number should contain exactly 10 digits")),serviceStartTime:S.Yj().required("Service start time is required"),serviceEndTime:S.Yj().required("Service end time is required"),callCost:S.ai().required("Call cost is required"),serviceStatus:S.zM(),messageToPlay:S.Yj().required("Service status is required"),deniedDays:S.YO(),billingActivationDate:S.p6(),modifiedAt:S.p6()});return(0,I.jsx)(o.Ay,{item:!0,xs:12,children:(0,I.jsx)(j.l1,{initialValues:null!==(t=null===r||void 0===r?void 0:r.serviceDetails)&&void 0!==t?t:{},validationSchema:d,onSubmit:async(e,t)=>{let{setErrors:o,setStatus:l,setSubmitting:d}=t;try{let t={botId:n,organizationId:i,channelId:"callConnect_123",channelName:"callConnect",serviceDetails:(0,A.A)({},e)};const o=null===r||void 0===r?void 0:r._id;o&&(t=(0,A.A)((0,A.A)({},t),{},{_id:o})),await(0,u.uV)(t),a(!1),l({success:!0}),d(!1),s({}),c(!1),(0,m.i)(!0,"The Call Connect Details added successfully!","success")}catch(h){l({success:!1}),o({submit:h.message}),d(!1),(0,m.i)(!0,"Not able to activate Call Connect. Try after sometime!","error")}},children:e=>{var t;let{values:n,errors:i,touched:a,isSubmitting:r,handleChange:s,handleBlur:c,handleSubmit:d,setFieldValue:u}=e;return(0,I.jsx)("form",{noValidate:!0,onSubmit:d,children:(0,I.jsxs)(o.Ay,{container:!0,spacing:2,children:[(0,I.jsx)(o.Ay,{item:!0,xs:12,md:6,children:(0,I.jsxs)(v.A,{spacing:1,children:[(0,I.jsx)(p.A,{htmlFor:"name",children:"Name *"}),(0,I.jsx)(g.A,{id:"name",name:"name",value:n.name,onBlur:c,onChange:s,error:Boolean(a.name&&i.name),fullWidth:!0}),(0,I.jsx)(x.A,{error:!0,children:a.name&&i.name})]})}),[0,1,2].map((e=>(0,I.jsx)(k,{index:e,value:n.phoneNumbers,error:i.phoneNumbers,touched:a.phoneNumbers,setFieldValue:u,handleBlur:c},e))),(0,I.jsx)(o.Ay,{item:!0,xs:12,md:6,children:(0,I.jsxs)(v.A,{spacing:1,children:[(0,I.jsx)(p.A,{htmlFor:"serviceStartTime",children:"Service Start Time *"}),(0,I.jsx)(C.V,{id:"serviceStartTime",name:"serviceStartTime",value:n.serviceStartTime?new Date(n.serviceStartTime):null,onBlur:c,tooltipOptions:{position:"top"},onChange:s,error:Boolean(a.serviceStartTime&&i.serviceStartTime),timeOnly:!0,hourFormat:"24",showIcon:!0,autoZIndex:!0,appendTo:"self"}),(0,I.jsx)(x.A,{error:!0,children:a.serviceStartTime&&i.serviceStartTime})]})}),(0,I.jsx)(o.Ay,{item:!0,xs:12,md:6,children:(0,I.jsxs)(v.A,{spacing:1,children:[(0,I.jsx)(p.A,{htmlFor:"serviceEndTime",children:"Service End Time *"}),(0,I.jsx)(C.V,{id:"serviceEndTime",name:"serviceEndTime",value:n.serviceEndTime?new Date(n.serviceEndTime):null,onBlur:c,onChange:s,autoZIndex:!0,appendTo:"self",hourFormat:"24",timeOnly:!0,showIcon:!0,error:Boolean(a.serviceEndTime&&i.serviceEndTime)}),(0,I.jsx)(x.A,{error:!0,children:a.serviceEndTime&&i.serviceEndTime})]})}),(0,I.jsx)(o.Ay,{item:!0,xs:12,md:6,children:(0,I.jsxs)(v.A,{spacing:1,children:[(0,I.jsx)(p.A,{htmlFor:"deniedDays",children:"Denied Days *"}),(0,I.jsx)(O,{name:"deniedDays",options:N,values:null!==(t=null===n||void 0===n?void 0:n.deniedDays)&&void 0!==t?t:[],setFieldValue:u,label:"Select Denied Days",handleDelete:e=>u("deniedDays",n.deniedDays.filter((t=>t.code!==e))),onChange:e=>u("deniedDays",e)})]})}),(0,I.jsx)(o.Ay,{item:!0,xs:12,md:6,children:(0,I.jsxs)(v.A,{spacing:1,children:[(0,I.jsx)(p.A,{htmlFor:"messageToPlay",children:"Message To Play *"}),(0,I.jsx)(g.A,{id:"messageToPlay",name:"messageToPlay",value:n.messageToPlay,onBlur:c,onChange:s,error:Boolean(a.messageToPlay&&i.messageToPlay),fullWidth:!0}),(0,I.jsx)(x.A,{error:!0,children:a.messageToPlay&&i.messageToPlay})]})}),(0,I.jsx)(o.Ay,{item:!0,xs:12,md:6,children:(0,I.jsxs)(v.A,{spacing:1,children:[(0,I.jsx)(p.A,{htmlFor:"billingActivationDate",children:"Billing Activation Date *"}),(0,I.jsx)(C.V,{id:"billingActivationDate",name:"billingActivationDate",value:n.billingActivationDate?new Date(n.billingActivationDate):null,onBlur:c,onChange:s,autoZIndex:!0,appendTo:"self",showIcon:!0,error:Boolean(a.billingActivationDate&&i.billingActivationDate)}),(0,I.jsx)(x.A,{error:!0,children:a.billingActivationDate&&i.billingActivationDate})]})}),(0,I.jsx)(o.Ay,{item:!0,xs:12,md:6,children:(0,I.jsxs)(v.A,{spacing:1,children:[(0,I.jsx)(p.A,{htmlFor:"callCost",children:"Call Cost *"}),(0,I.jsx)(g.A,{id:"callCost",name:"callCost",value:n.callCost,onBlur:c,onChange:s,error:Boolean(a.callCost&&i.callCost),fullWidth:!0}),(0,I.jsx)(x.A,{error:!0,children:a.callCost&&i.callCost})]})}),(0,I.jsx)(o.Ay,{item:!0,xs:12,md:6,children:(0,I.jsxs)(v.A,{spacing:1,children:[(0,I.jsx)(f.A,{control:(0,I.jsx)(b.A,{id:"serviceStatus",name:"serviceStatus",value:n.serviceStatus,onBlur:c,onChange:e=>u("serviceStatus",e.target.checked),error:Boolean(a.serviceStatus&&i.serviceStatus),checked:n.serviceStatus}),label:"Service Status"}),(0,I.jsx)(x.A,{error:!0,children:a.serviceStatus&&i.serviceStatus})]})}),(0,I.jsx)(o.Ay,{item:!0,xs:12,container:!0,justifyContent:"flex-end",children:(0,I.jsx)(D.A,{children:(0,I.jsx)(T.A,{isLoading:r,disabled:r,color:"primary",size:"large",type:"submit",variant:"contained",children:l?"Edit":"Add"})})})]})})}})})},k=e=>{let{index:t,value:n=[],error:i,touched:a,setFieldValue:r,handleBlur:s}=e;return(0,I.jsx)(o.Ay,{item:!0,xs:12,md:6,children:(0,I.jsxs)(v.A,{spacing:1,children:[(0,I.jsx)(p.A,{htmlFor:"phoneNumbers.".concat(t),children:"Phone Number *"}),(0,I.jsx)(g.A,{id:"phoneNumbers.".concat(t),name:"phoneNumbers.".concat(t),value:n&&n?n[t]:"",onBlur:s,onChange:e=>{console.log(e,n);const i=[...n];i[t]=e.target.value,r("phoneNumbers",i)},error:Boolean((null===a||void 0===a?void 0:a[t])&&(null===i||void 0===i?void 0:i[t])),fullWidth:!0,startAdornment:(0,I.jsx)(y.A,{sx:{p:"10px"},"aria-label":"phone-icon",children:"91"}),inputProps:{"aria-label":"phone number"}}),(0,I.jsx)(x.A,{error:!0,children:(null===a||void 0===a?void 0:a[t])&&(null===i||void 0===i?void 0:i[t])})]})},"phoneNumbers-".concat(t))};var z=n(80045),B=n(53065),M=n(64697),F=n(59254);const L=["className"],U=(0,F.Ay)((e=>{let{className:t}=e,n=(0,z.A)(e,L);return(0,I.jsx)(B.A,(0,A.A)((0,A.A)({},n),{},{arrow:!0,classes:{popper:t}}))}))((e=>{let{theme:t}=e;return{["& .".concat(M.A.arrow)]:{color:t.palette.common.black},["& .".concat(M.A.tooltip)]:{backgroundColor:t.palette.common.black}}})),V=U;var Y=n(50704),G=n(51637),K=n(35217),W=n(2401),q=n(7999),J=n(57988),H=n(46278);const X=e=>{let{data:t,columns:n,actions:a,handleEdit:o,handleDelete:r}=e;const[s,l]=(0,i.useState)({open:!1,rowData:null}),c=e=>(0,I.jsxs)(I.Fragment,{children:[a.includes("edit")&&(0,I.jsx)(y.A,{color:"primary",onClick:()=>o(e._id),children:(0,I.jsx)(q.A,{})}),a.includes("delete")&&(0,I.jsx)(y.A,{color:"secondary",onClick:()=>l({open:!0,rowData:e}),children:(0,I.jsx)(J.A,{})})]});return(0,I.jsxs)(I.Fragment,{children:[(0,I.jsx)(K.b,{value:t,paginator:!0,rows:5,stripedRows:!0,scrollable:!0,showGridlines:!0,rowsPerPageOptions:[5,10,20],tableStyle:{minWidth:"150rem"},children:n.map((e=>(0,I.jsx)(W.V,{field:e.field,header:e.header,filter:e.filter||!1,filterPlaceholder:e.filter?"Search by ".concat(e.header):null,body:"actions"===e.field?c:null,style:{width:e.width||"auto"}},e.field)))}),(0,I.jsx)(H.A,{title:"Delete Call Connect integration?",open:s.open,setOpen:e=>l((t=>(0,A.A)((0,A.A)({},t),{},{open:e}))),onConfirm:()=>{r(s.rowData),l({open:!1,rowData:null})},children:"Confirm the deletion of Call Connect Details."})]})},Z=[{field:"serviceDetails.name",header:"Name",filter:!0,width:"10rem"},{field:"agent1",header:"Agent 1",filter:!0,width:"5rem"},{field:"agent2",header:"Agent 2",filter:!1,width:"5rem"},{field:"agent3",header:"Agent 3",width:"5rem"},{field:"serviceStartTime",header:"Service Start Time",filter:!0,width:"10rem"},{field:"serviceEndTime",header:"Service End Time",filter:!0,width:"10rem"},{field:"serviceDetails.callCost",header:"Call Cost",filter:!0,width:"5rem"},{field:"serviceDetails.serviceStatus",header:"Service Status",filter:!1,width:"5rem"},{field:"serviceDetails.messageToPlay",header:"Message To Play",filter:!1,width:"10rem"},{field:"deniedDays",header:"Denied Days",filter:!0,width:"10rem"},{field:"billingActivationDate",header:"Billing Activation Date",filter:!0,width:"10rem"},{field:"actions",header:"Actions",width:"5rem"}],Q=e=>{let{botId:t,organizationId:n,botList:a,setCallConnectObj:o,setEditMode:r,setCallConnectDialogOpen:s}=e;const[l,c]=(0,i.useState)([]),[d,h]=(0,i.useState)([]);(0,i.useEffect)((()=>{var e,n;const i=null===(e=a.find((e=>e._id===t)))||void 0===e||null===(n=e.integrations)||void 0===n?void 0:n.filter((e=>"callConnect_123"===e.channelId));if(i){c(i);const e=i.map((e=>{var t;return(0,A.A)((0,A.A)({},e),{},{agent1:e.serviceDetails.phoneNumbers[0]||"",agent2:e.serviceDetails.phoneNumbers[1]||"",agent3:e.serviceDetails.phoneNumbers[2]||"",serviceStartTime:new Date(e.serviceDetails.serviceStartTime).toLocaleTimeString("en-GB",{hour:"2-digit",minute:"2-digit"}),serviceEndTime:new Date(e.serviceDetails.serviceEndTime).toLocaleTimeString("en-GB",{hour:"2-digit",minute:"2-digit"}),deniedDays:(null===(t=e.serviceDetails.deniedDays)||void 0===t?void 0:t.map((e=>e.name)).join(", "))||"",billingActivationDate:new Date(e.serviceDetails.billingActivationDate).toLocaleDateString("en-GB")||"",actions:null})}));h(e)}}),[t,a]);return(0,I.jsx)(G.A,{contentSX:{p:2.25},children:(0,I.jsx)(Y.A,{style:{padding:0},children:(0,I.jsx)(X,{data:d,columns:Z,actions:["edit","delete"],handleEdit:e=>{const t=null===l||void 0===l?void 0:l.find((t=>t._id===e));o(t),r(!0),s(!0)},handleDelete:async e=>{try{let i=(0,A.A)({botId:t,organizationId:n},e);await(0,u.qo)(i),(0,m.i)(!0,"Call Connect deleted successfully!","success")}catch(i){(0,m.i)(!0,"Unable to delete. Try again later.","error")}}})})})};n(97881),n(4501);const $=()=>{const[e]=(0,d.G)(),t=(0,c.nc)((e=>e.botsList)),n=(0,c.nc)((e=>e.organizationId)),[A,v]=(0,i.useState)({}),[p,g]=(0,i.useState)(!1),[x,f]=(0,i.useState)(!1);return(0,i.useEffect)((()=>{(async()=>{const t={organizationId:n,botId:e};try{await(0,u.Yl)(t)}catch(i){(0,m.i)(!0,"Not able to fetch integrations details. Try after sometime!","error")}})()}),[e,n,x]),(0,I.jsxs)(a.A,{children:[(0,I.jsxs)(o.Ay,{container:!0,spacing:3,children:[(0,I.jsx)(o.Ay,{item:!0,xs:11,children:(0,I.jsx)(r.A,{variant:"h5",children:"Call Connect"})}),(0,I.jsx)(o.Ay,{item:!0,xs:1,children:(0,I.jsx)(V,{title:"Add call connect",placement:"right",children:(0,I.jsx)(s.A,{color:"primary",onClick:()=>g(!0),children:(0,I.jsx)(l.A,{})})})})]}),(0,I.jsx)(o.Ay,{container:!0,spacing:3,children:(0,I.jsx)(o.Ay,{item:!0,xs:12,children:(0,I.jsx)(Q,{botId:e,organizationId:n,botList:t,setCallConnectObj:v,setEditMode:f,setCallConnectDialogOpen:g})})}),(0,I.jsx)(h.A,{openPopUpDialog:p,setPopUpDialog:g,title:"Call Connect Integration",setFieldsValues:v,children:(0,I.jsx)(R,{botId:e,organizationId:n,setPopUpDialog:g,callConnectObj:A,setCallConnectObj:v,edit:x,setEditMode:f})})]})}},8478:(e,t,n)=>{n.d(t,{Jt:()=>c,TF:()=>h,bE:()=>d,yJ:()=>u});var i=n(89379),a=n(80045),o=n(32026),r=n(44364);const s=["headers","noAuth"],l=["data"];async function c(e,t){return m("GET",e,t,arguments.length>2&&void 0!==arguments[2]?arguments[2]:{})}async function d(e,t){return m("POST",e,t,arguments.length>2&&void 0!==arguments[2]?arguments[2]:{})}async function u(e,t){return m("PUT",e,t,arguments.length>2&&void 0!==arguments[2]?arguments[2]:{})}async function h(e,t){return m("DELETE",e,t,arguments.length>2&&void 0!==arguments[2]?arguments[2]:{})}async function m(e,t,n){let o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},{headers:r,noAuth:c}=o,d=(0,a.A)(o,s);const u="POST"===e||"PUT"===e||"DELETE"===e;t=function(e,t){if(!e)return e;const n=t&&Object.keys(t);if(null!==n&&void 0!==n&&n.length){const i=n.reduce(((e,n)=>{let i=t[n];return null===i||void 0===i?e:(i="".concat(n,"=").concat(encodeURIComponent(i)),e?"".concat(e,"&").concat(i):i)}),"");i&&(e="".concat(e).concat(e.includes("?")?"&":"?").concat(i))}if(e.startsWith("https://"))return e;return"".concat(A).concat(e)}(t,u?void 0:n);const h=n instanceof FormData;if(h||(n=n&&"object"===typeof n&&u?JSON.stringify(n):void 0),r||(r={}),h||(r["Content-Type"]="application/json"),r.Accept="application/json",!1!==c){const e=sessionStorage.getItem("token");e&&(r.Authorization="Bearer ".concat(e))}try{const o=await fetch(t,(0,i.A)((0,i.A)({},d),{},{headers:r,body:n,method:e})),s=await o.json();if(o.ok){const{data:e}=s,t=(0,a.A)(s,l);return delete t.status,e&&!Object.keys(t).length?e:s}throw s.message?new Error(s.message):s}catch(v){var m;throw console.error("Error calling API: ",v),null!==(m=v.message)&&void 0!==m&&m.includes("fetch")?new Error("Unable to reach server. Please check your network connectivity and try again."):new Error(v.message)}}const A=(0,o.s8)(r.jn,"/")},43983:(e,t,n)=>{n.d(t,{Ay:()=>c,Yl:()=>s,qo:()=>l,u4:()=>u,uV:()=>d});var i=n(89379),a=n(8478),o=n(33340),r=n(21788);async function s(e){const t=await a.Jt("/integrations/".concat(e.organizationId,"/").concat(e.botId,"/list")),{botId:n}=e;((e,t)=>{o.nc.setState((n=>{const a=n.botsList.map((n=>n._id===e?(0,i.A)((0,i.A)({},n),{},{integrations:t}):n));return(0,i.A)((0,i.A)({},n),{},{botsList:a})}))})(n,t)}async function l(e){await a.TF("/integrations/".concat(e.organizationId,"/").concat(e.botId,"/").concat(e._id),e);try{await s(e)}catch(t){(0,r.i)(!0,"Not able to fetch all integrations. Try after sometime!","error")}}async function c(e){const t=await a.bE("/integrations/".concat(e.organizationId,"/").concat(e.botId,"/crm-callback-integration"),e),n={organizationId:t.organizationId,botId:t.botId};try{await s(n)}catch(i){(0,r.i)(!0,"Not able to fetch all integrations. Try after sometime!","error")}}async function d(e){const t=await a.bE("/integrations/".concat(e.organizationId,"/").concat(e.botId),e),n={organizationId:t.organizationId,botId:t.botId};try{await s(n)}catch(i){(0,r.i)(!0,"Not able to fetch all integrations. Try after sometime!","error")}}async function u(e){const{organizationId:t,selectedBotId:n}=o.nc.getState();await a.bE("/integrations/".concat(t,"/").concat(n,"/whatsapp"),e);try{await s({organizationId:t,botId:n})}catch(i){(0,r.i)(!0,"Not able to fetch all integrations. Try after sometime!","error")}}},70855:(e,t,n)=>{n.d(t,{G:()=>a});var i=n(33340);function a(e){const t=(0,i.nc)((e=>e.selectedBotId)),n=(0,i.nc)((n=>n.botsMap[e||t]));return[e||t,n]}},32026:(e,t,n)=>{n.d(t,{G6:()=>s,OX:()=>c,PE:()=>u,Yq:()=>r,do:()=>d,qW:()=>l,s8:()=>a});var i=n(89379);function a(e,t){return e.replace(new RegExp("".concat(o(t),"+$")),"")}function o(e){return e.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")}function r(e){const t=new Date(e),n=t.getDate(),i=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"][t.getMonth()],a=t.getFullYear();return"".concat(i," ").concat(n,", ").concat(a)}function s(e,t,n){if(!t&&!e)return n;e=e||{};const a=Array.isArray(e)?[...e]:(0,i.A)({},e);if(t.includes(".")){const i=t.indexOf("."),o=t.substring(0,i),r=t.substring(i+1);a[o]=s(e[o],r,n)}else a[t]=n;return a}function l(e,t){return btoa("".concat(e,"_").concat(t,"_whatsapp_int"))}function c(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:12;const t="abcdefghijklmnopqrstuvwxyz0123456789";let n="";for(let i=0;i<e;i++)n+=t.charAt(Math.floor(36*Math.random()));return n}function d(e,t,n){if(!t&&!e)return n;e=e||{};const a=Array.isArray(e)?[...e]:(0,i.A)({},e);if(t.includes(".")){const i=t.indexOf("."),o=t.substring(0,i),r=t.substring(i+1);a[o]=d(e[o],r,n)}else a[t]=n;return a}function u(e,t){const n=new Blob([e],{type:arguments.length>2&&void 0!==arguments[2]?arguments[2]:"text/csv"}),i=document.createElement("a");i.href=URL.createObjectURL(n),i.download=t,document.body.appendChild(i),i.click(),document.body.removeChild(i)}},44364:(e,t,n)=>{n.d(t,{DX:()=>l,Og:()=>o,jn:()=>i,mB:()=>s,pA:()=>r,pR:()=>a});const i="https://devbackend.livhousing.com:444",a="c17b949cf58c45cae47ce1cc65efc8240f77a2a69ca09ad4c4208852",o={NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0,REACT_APP_IP_DATA_API_KEY:"c17b949cf58c45cae47ce1cc65efc8240f77a2a69ca09ad4c4208852",REACT_APP_VERSION:"1",REACT_APP_GOOGLE_MAPS_API_KEY:"AIzaSyAQMYGdP2AmloNtJm4ZDrJxPuSfuo2RSXM",REACT_APP_BACKEND_URL:"https://devbackend.livhousing.com:444"}.TRAINING_MEDIA_MAXSIZE,r={NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0,REACT_APP_IP_DATA_API_KEY:"c17b949cf58c45cae47ce1cc65efc8240f77a2a69ca09ad4c4208852",REACT_APP_VERSION:"1",REACT_APP_GOOGLE_MAPS_API_KEY:"AIzaSyAQMYGdP2AmloNtJm4ZDrJxPuSfuo2RSXM",REACT_APP_BACKEND_URL:"https://devbackend.livhousing.com:444"}.CONVERSATION_MEDIA_MAXSIZE,s="AIzaSyAQMYGdP2AmloNtJm4ZDrJxPuSfuo2RSXM",l={NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0,REACT_APP_IP_DATA_API_KEY:"c17b949cf58c45cae47ce1cc65efc8240f77a2a69ca09ad4c4208852",REACT_APP_VERSION:"1",REACT_APP_GOOGLE_MAPS_API_KEY:"AIzaSyAQMYGdP2AmloNtJm4ZDrJxPuSfuo2RSXM",REACT_APP_BACKEND_URL:"https://devbackend.livhousing.com:444"}.REACT_APP_NGROK_BACKEND_URL||"https://devbackend.livhousing.com:444"}}]);