"use strict";(self.webpackChunklib_prop_ui=self.webpackChunklib_prop_ui||[]).push([[120],{18678:(e,t,n)=>{n.d(t,{Z:()=>s});var i=n(93701),a=n(46417);function s(e){let{children:t,type:n}=e;return(0,a.jsx)(i.E.div,{whileHover:{scale:1},whileTap:{scale:.9},children:t})}s.defaultProps={type:"scale"}},31381:(e,t,n)=>{n.d(t,{Z:()=>l});n(47313);var i=n(66149),a=n(33604),s=n(96467),o=n(4117),r=n(31095),d=n(46417);const l=e=>{const{title:t,children:n,open:l,setOpen:c,onConfirm:p}=e;return(0,d.jsxs)(i.Z,{open:l,onClose:()=>c(!1),style:{zIndex:1e4},children:[(0,d.jsx)(a.Z,{sx:{m:0,p:2},id:"confirm-dialog",children:t}),(0,d.jsx)(s.Z,{dividers:!0,children:n}),(0,d.jsxs)(o.Z,{children:[(0,d.jsx)(r.Z,{size:"large",type:"submit",variant:"contained",color:"secondary",onClick:()=>c(!1),children:"No"}),(0,d.jsx)(r.Z,{size:"large",type:"submit",variant:"contained",color:"success",onClick:()=>{c(!1),p()},children:"Yes"})]})]})}},57514:(e,t,n)=>{n.d(t,{Z:()=>o});var i=n(47313),a=n(50301),s=n(46417);const o=i.forwardRef((function(e,t){return(0,s.jsx)(a.Z,{direction:"up",ref:t,...e})}))},6505:(e,t,n)=>{n.d(t,{Z:()=>p});var i=n(47313),a=n(19860),s=n(73428),o=n(54641),r=n(61113),d=n(93405),l=n(46417);const c={p:2.5,"& .MuiCardHeader-action":{m:"0px auto",alignSelf:"center"}},p=(0,i.forwardRef)(((e,t)=>{let{border:n=!0,boxShadow:i,children:p,content:u=!0,contentSX:h={},darkTitle:m,elevation:g,secondary:x,shadow:f,sx:Z={},title:b,...v}=e;const j=(0,a.Z)();return i="dark"===j.palette.mode?i||!0:i,(0,l.jsxs)(s.Z,{elevation:g||0,ref:t,...v,sx:{border:n?"1px solid":"none",borderRadius:2,borderColor:"dark"===j.palette.mode?j.palette.divider:j.palette.grey.A800,boxShadow:!i||n&&"dark"!==j.palette.mode?"inherit":f||j.customShadows.z1,":hover":{boxShadow:i?f||j.customShadows.z1:"inherit"},"& pre":{m:0,p:"16px !important",fontFamily:j.typography.fontFamily,fontSize:"0.75rem"},...Z},children:[!m&&b&&(0,l.jsx)(o.Z,{sx:c,titleTypographyProps:{variant:"subtitle1"},title:b,action:x}),m&&b&&(0,l.jsx)(o.Z,{sx:c,title:(0,l.jsx)(r.Z,{variant:"h3",children:b}),action:x}),u&&(0,l.jsx)(d.Z,{sx:h,children:p}),!u&&p]})}))},68200:(e,t,n)=>{n.d(t,{Z:()=>h});n(47313);var i=n(57514),a=n(66149),s=n(33604),o=n(96467),r=n(11198),d=n(17592),l=n(19860),c=n(47131),p=n(46417);const u=(0,d.ZP)(a.Z)((e=>{let{theme:t}=e;return{"& .MuiDialogContent-root":{padding:t.spacing(2)},"& .MuiDialogActions-root":{padding:t.spacing(1)}}}));function h(e){const t=(0,l.Z)(),{breakpoints:n}=t,{openPopUpDialog:a,setPopUpDialog:d,title:h}=e;return(0,p.jsxs)(u,{TransitionComponent:i.Z,"aria-labelledby":"customized-dialog-title",open:a,PaperProps:{sx:{width:"60%",[n.down("sm")]:{width:"90%"}}},children:[(0,p.jsx)(s.Z,{sx:{m:0,p:2},id:"customized-dialog-title",children:h}),(0,p.jsx)(c.Z,{"aria-label":"close",onClick:()=>{d(!1)},sx:{position:"absolute",right:8,top:8},children:(0,p.jsx)(r.Z,{})}),(0,p.jsx)(o.Z,{dividers:!0,children:e.children})]})}},8015:(e,t,n)=>{n.d(t,{Z:()=>o});n(47313);var i=n(31095),a=n(85281),s=n(46417);const o=e=>{let{isLoading:t,children:n,...o}=e;return(0,s.jsx)(i.Z,{...o,children:t?(0,s.jsx)(a.Z,{size:25,color:"primary"}):n})}},5120:(e,t,n)=>{n.r(t),n.d(t,{default:()=>V});var i=n(47313),a=n(41806),s=n(9019),o=n(61113),r=n(42832),d=n(23306),l=n(15480),c=n(37843),p=n(31095),u=n(11686),h=n(17592),m=n(29210),g=n(70246),x=n(14487),f=n(44661),Z=n(19259),b=n(21933),v=n(24977),j=n(23509),y=n(969),S=n(32203),w=n(18678),P=n(80730),_=n(62619);var C=n(8015),N=n(68200),M=n(25151),T=n(51997),R=n(10237),D=n(93405),A=n(49709),E=n(56104),z=n(47131),I=n(66212),U=n(6505),L=n(31381);function O(e,t,n,i){function a(e,t,n){const{botsList:i}=j.tN.getState(),a=i.find((t=>t._id===e));if(a){const i=a.trainingMedia.map((e=>e.url===t?{...e,name:n}:e));((e,t)=>{j.tN.setState((n=>{const i=n.botsList.map((n=>n._id===e?{...n,trainingMedia:t}:n));return{...n,botsList:i}}))})(e,i),j.tN.setState((()=>({trainingMediaUpdate:!0})))}else console.error("Bot not found for the given ID.")}a(n,e,"delete"===i?e:t)}var k=n(46417);const W=async(e,t,n,i)=>{try{const a={organizationId:i,botId:n,fileName:t,fileUrl:e};await async function(e,t,n){const i=await P.v_("/bot/delete-training-media-document",e,{headers:{botId:t,organizationId:n}}),{trainingDocuments:a}=i;((e,t)=>{j.tN.setState((n=>{const i=n.botsList.map((n=>n._id===e?{...n,trainingMedia:t}:n));return{...n,botsList:i}}))})(t,a)}(a,n,i),(0,M.W)(!0,"The file deleted successfully!","success")}catch(a){(0,M.W)(!0,"Not able to delete the file. Try after sometime!","error")}};const H=function(e){let{media:t,botId:n,organizationId:a}=e;const[r,d]=i.useState(!1),{name:p,url:u,type:h,originalName:m}=t;return(0,k.jsxs)(U.Z,{contentSX:{p:2.25},children:[(0,k.jsxs)(D.Z,{style:{padding:0,minHeight:"65px",maxHeight:"65px"},children:[m&&(0,k.jsxs)(o.Z,{variant:"h6",style:{overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap",maxWidth:"300px"},children:[(0,k.jsx)("strong",{children:"File Name :"})," ",(0,k.jsx)(A.Z,{style:{cursor:"pointer"},title:m,children:(0,k.jsx)("span",{children:(0,k.jsx)("a",{href:u,target:"_blank",rel:"noreferrer",children:m})})})]}),"single_page"===h&&(0,k.jsxs)(o.Z,{variant:"h6",style:{overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap",maxWidth:"300px"},children:[(0,k.jsx)("strong",{children:"URL :"})," ",(0,k.jsx)(A.Z,{style:{cursor:"pointer"},title:u,children:(0,k.jsx)("span",{children:u})})]}),(0,k.jsxs)(o.Z,{variant:"h6",children:[(0,k.jsx)("strong",{children:"Type :"})," ","single_page"===h?"Web Page":"Document"]}),(0,k.jsxs)(o.Z,{variant:"h6",children:[(0,k.jsx)("strong",{children:"Document Name :"})," ",p===u?"NA":(0,k.jsx)(I.Z,{label:p,onDelete:()=>((e,t,n)=>{O(e,t,n,"delete")})(u,p,n)})]})]}),(0,k.jsx)(E.Z,{style:{justifyContent:"flex-end",padding:"1px"},children:(0,k.jsxs)(s.ZP,{container:!0,children:[(0,k.jsx)(s.ZP,{item:!0,xs:10,md:10,children:p===u&&(0,k.jsx)(v.J9,{initialValues:{trainingMediaName:"",url:u},validationSchema:b.Ry().shape({trainingMediaName:b.Z_().max(50,"Training Media Name length must be less than 50 characters").min(3,"Training Media Name length must be at least 3 characters").required("Training Media Name is required")}),onSubmit:async(e,t)=>{let{setErrors:i,setStatus:a,setSubmitting:s}=t;const{trainingMediaName:o}=e;try{O(u,o,n,"add"),a({success:!0}),s(!0)}catch(r){a({success:!1}),i({submit:r.message}),s(!1)}},children:e=>{let{errors:t,handleBlur:n,handleChange:i,handleSubmit:a,isSubmitting:o,touched:r,values:d}=e;return(0,k.jsx)("form",{noValidate:!0,onSubmit:a,children:(0,k.jsxs)(s.ZP,{container:!0,spacing:1,children:[(0,k.jsxs)(s.ZP,{item:!0,xs:8,md:8,children:[(0,k.jsx)(c.Z,{id:"trainingMediaName",type:"trainingMediaName",name:"trainingMediaName",placeholder:"Document Name",defaultValue:d.trainingMediaName,onBlur:n,onChange:i,fullWidth:!0,autoComplete:"off",error:Boolean(r.trainingMediaName&&t&&t.trainingMediaName)}),r.trainingMediaName&&t.trainingMediaName&&(0,k.jsx)(l.Z,{error:!0,id:"helper-text-training-media-name",children:t.trainingMediaName})]}),(0,k.jsx)(s.ZP,{item:!0,xs:1,md:1,children:(0,k.jsx)(w.Z,{children:(0,k.jsx)(C.Z,{isLoading:o,disabled:o,type:"submit",variant:"contained",color:"primary",children:"Add"})})})]})})}})}),(0,k.jsx)(s.ZP,{item:!0,xs:1,md:1,children:(0,k.jsx)(A.Z,{title:"text/plain"===h?"View Document":"View Web Page",children:(0,k.jsx)(z.Z,{variant:"text",onClick:()=>{return e=u,void window.open(e);var e},children:(0,k.jsx)(R.Z,{style:{color:"#5ad74e"}})})})}),(0,k.jsxs)(s.ZP,{item:!0,xs:1,md:1,children:[(0,k.jsx)(A.Z,{title:"Delete",children:(0,k.jsx)(z.Z,{variant:"text",onClick:()=>d(!0),children:(0,k.jsx)(T.Z,{style:{color:"#ff0000"},fontSize:"small"})})}),(0,k.jsxs)(L.Z,{title:"Delete file?",open:r,setOpen:d,onConfirm:()=>W(u,p,n,a),children:["Confirm the deletion of ",m||u,"?"]})]})]})})]})},F=(0,h.ZP)(m.Z)((e=>{let{theme:t}=e;return{position:"fixed","#trainingDocumentsSpeedDial &":{"&.MuiSpeedDial-directionDown, &.MuiSpeedDial-directionRight":{left:"auto",right:t.spacing(2)},"&.MuiSpeedDial-directionUp, &.MuiSpeedDial-directionLeft":{right:"auto",left:t.spacing(2)}}}}));function B(e){let{botId:t,organizationId:n}=e;const[a,s]=i.useState(!1),[o,r]=i.useState(!1),d=[{icon:(0,k.jsx)(x.Z,{}),name:"File Upload (.pdf,.doc,.docx,.txt)",method:()=>{r(!0)}},{icon:(0,k.jsx)(f.Z,{}),name:"Add Web Page url",method:()=>{s(!0)}}];return(0,k.jsxs)(k.Fragment,{children:[(0,k.jsx)(F,{ariaLabel:"Upload Training Documents",hidden:!1,icon:(0,k.jsx)(g.Z,{}),direction:"down",sx:{"& .MuiFab-primary":{width:40,height:40}},children:d.map((e=>(0,k.jsx)(u.Z,{icon:e.icon,tooltipTitle:e.name,onClick:e.method},e.name)))}),(0,k.jsx)(N.Z,{openPopUpDialog:a,setPopUpDialog:s,title:"Upload Training Documents",children:(0,k.jsx)(K,{botId:t,organizationId:n,setWebPageUrlAddDialogOpen:s})}),(0,k.jsx)(N.Z,{openPopUpDialog:o,setPopUpDialog:r,title:"Upload Documents",children:(0,k.jsx)(J,{organizationId:n,botId:t,setDocumentUploadDialogOpen:r})})]})}const V=function(){var e;const[t,n]=(0,i.useState)(!1),[r,d]=(0,i.useState)(!1),l=(0,j.tN)((e=>e.botsList)),c=(0,j.tN)((e=>e.organizationId)),p=(0,j.tN)((e=>e.trainingMediaUpdate)),[u]=(0,y.g)(),h=null===(e=l.find((e=>e._id===u)))||void 0===e?void 0:e.trainingMedia;return(0,k.jsxs)(a.Z,{children:[(0,k.jsxs)(s.ZP,{container:!0,spacing:3,children:[(0,k.jsx)(s.ZP,{item:!0,xs:4,children:(0,k.jsx)(o.Z,{variant:"h5",children:"Training Documents"})}),(0,k.jsx)(s.ZP,{item:!0,xs:4,children:(0,k.jsx)(w.Z,{children:(0,k.jsx)(C.Z,{isLoading:r,disabled:r,variant:"contained",color:"success",size:"large",onClick:async()=>{d(!0);try{const e=await async function(e,t){const n=await P.v_("/bot/".concat(t,"/").concat(e,"/knowledge-base/train"));return(0,_.fR)(t,e),n}(u,c),{deleted:t,totalDocs:i,supportedDocsCount:a,processedDocsCount:s,created:o,failedDocsId:r}=e,l=r.length>0?fruits.toString()+" are failed to process":"all supported files processed successfully";d(!1),(0,M.W)(!0,"The bot training completed successfully! in ".concat(i," files ").concat(a," are supported, ").concat(s," files processed, ").concat(t," files deleted, ").concat(o," canned responses created and ").concat(l),"success"),n(!1)}catch(e){d(!1),(0,M.W)(!0,"Not able to train the bot. Try after sometime!","error")}},children:"Train the bot"})})}),(0,k.jsx)(s.ZP,{item:!0,xs:3,sx:{position:"relative",display:"flex",justifyContent:"flex-end"},children:p&&(0,k.jsx)("div",{style:{position:"fixed"},children:(0,k.jsx)(w.Z,{children:(0,k.jsx)(C.Z,{isLoading:t,disabled:t,variant:"contained",color:"success",size:"large",onClick:async()=>{try{n(!0);const e={botId:u,organizationId:c,trainingDocument:h};await async function(e,t){const n=await P.v_("/bot/add-tranining-document-name",e),{trainingMedia:i}=n;((e,t)=>{j.tN.setState((n=>{const i=n.botsList.map((n=>n._id===e?{...n,trainingMedia:t}:n));return{...n,botsList:i}}))})(t,i)}(e,u),j.tN.setState((()=>({trainingMediaUpdate:!1}))),(0,M.W)(!0,"The document names updated successfully!","success"),n(!1)}catch(e){n(!1),(0,M.W)(!0,"Not able to add document names. Try after sometime!","error")}},children:"Save Changes"})})})}),(0,k.jsx)(s.ZP,{item:!0,xs:1,sx:{position:"relative"},id:"trainingDocumentsSpeedDial",children:(0,k.jsx)(B,{botId:u,organizationId:c})})]}),(0,k.jsx)(a.Z,{children:(0,k.jsx)(s.ZP,{container:!0,spacing:3,children:(0,k.jsx)(G,{trainingMedia:h,botId:u,organizationId:c})})})]})};function K(e){let{botId:t,organizationId:n,setWebPageUrlAddDialogOpen:i}=e;const a=(0,j.tN)((e=>e.botsList));return(0,k.jsx)(k.Fragment,{children:(0,k.jsx)(s.ZP,{item:!0,xs:12,children:(0,k.jsx)(v.J9,{initialValues:{webpageUrl:""},validationSchema:b.Ry().shape({webpageUrl:b.Z_().matches(/((https?):\/\/)?(www.)?[a-z0-9]+(\.[a-z]{2,}){1,3}(#?\/?[a-za-z0-9#]+)*\/?(\?[a-za-z0-9-_]+=[a-za-z0-9-%]+&?)?$/,"Enter valid url!").required("please enter webpage url")}),onSubmit:async(e,s)=>{let{setErrors:o,setStatus:r,setSubmitting:d}=s;try{var l;const s=(null===(l=a.find((e=>e._id===t)))||void 0===l?void 0:l.trainingMedia).some((t=>t.url===e.webpageUrl)),o={url:e.webpageUrl};s?(0,M.W)(!0,"This URL already available in the Training Documents!. Please add another URL","error"):(await async function(e,t,n){const i=await P.v_("/bot/add-training-media",e,{headers:{botId:t,organizationId:n}}),{trainingMedia:a}=i;((e,t)=>{j.tN.setState((n=>{const i=n.botsList.map((n=>n._id===e?{...n,trainingMedia:t}:n));return{...n,botsList:i}}))})(t,a)}(o,t,n),r({success:!1}),d(!1),i(!1),(0,M.W)(!0,"The url added successfully!","success"))}catch(c){r({success:!1}),o({submit:c.message}),d(!1),i(!1),(0,M.W)(!0,"Not able to add the url. Try after sometime!","error")}},children:e=>{let{errors:t,handleBlur:n,handleChange:i,handleSubmit:a,isSubmitting:o,touched:p,values:u}=e;return(0,k.jsx)("form",{noValidate:!0,onSubmit:a,children:(0,k.jsxs)(s.ZP,{container:!0,spacing:1,children:[(0,k.jsx)(s.ZP,{item:!0,xs:9,md:9,children:(0,k.jsxs)(r.Z,{spacing:1,children:[(0,k.jsx)(d.Z,{htmlFor:"webpage-url",children:"Webpage Url"}),(0,k.jsx)(c.Z,{id:"webpage-url",type:"webpageUrl",defaultValue:u.webpageUrl,name:"webpageUrl",onBlur:n,onChange:i,autoComplete:"off",fullWidth:!0,placeholder:"http://www.abc.com/index.html",error:Boolean(p.webpageUrl&&t.webpageUrl)}),p.webpageUrl&&t.webpageUrl&&(0,k.jsx)(l.Z,{error:!0,id:"helper-text-webpage-url",children:t.webpageUrl})]})}),(0,k.jsx)(s.ZP,{item:!0,xs:2,md:2,children:(0,k.jsxs)(r.Z,{spacing:1,children:[(0,k.jsx)(d.Z,{children:"\xa0"}),(0,k.jsx)(w.Z,{children:(0,k.jsx)(C.Z,{isLoading:o,disabled:o,color:"primary",size:"large",type:"submit",variant:"contained",id:"webpageUrlSubmit",children:"Add"})})]})})]})})}})})})}function J(e){var t;let{organizationId:n,botId:i,setDocumentUploadDialogOpen:a}=e;const c=null===(t=(0,j.tN)((e=>e.botsList)).find((e=>e._id===i)))||void 0===t?void 0:t.trainingMedia,u=S.yu?S.yu:5242880,h=b.Ry().shape({file:b.nK().required("File is not selected").test("is-valid-size","Maximum allowed file size is ".concat(u/1048576," MB"),(e=>e&&e.size<=u))});return(0,k.jsxs)(s.ZP,{container:!0,spacing:1,children:[(0,k.jsx)(s.ZP,{item:!0,xs:12,md:12,style:{display:"flex",justifyContent:"center"},children:(0,k.jsx)(r.Z,{spacing:1,children:(0,k.jsx)(d.Z,{children:"File Upload (.pdf,.doc,.docx,.txt)"})})}),(0,k.jsx)(s.ZP,{item:!0,xs:12,md:12,style:{display:"flex",justifyContent:"center"},children:(0,k.jsx)(v.J9,{initialValues:{file:null},validationSchema:h,onSubmit:async(e,t)=>{let{setErrors:s,setStatus:o,setSubmitting:r}=t;try{const{name:t}=e.file;c.some((e=>e.originalName===t))?(0,M.W)(!0,"The file already uploaded!. Please select another file","error"):(r(!0),await async function(e,t,n){const i=new FormData;i.append("file",e);const a={},s=sessionStorage.getItem("token");s&&(a.Authorization="Bearer ".concat(s)),a.Botid=t,a.Organizationid=n,a.Accept="application/json";const o=(0,P.TY)("/bot/add-training-media");await fetch(o,{headers:a,method:"POST",body:i}).then((e=>e.json())).then((e=>{const{trainingMedia:n}=e.data;((e,t)=>{j.tN.setState((n=>{const i=n.botsList.map((n=>n._id===e?{...n,trainingMedia:t}:n));return{...n,botsList:i}}))})(t,n)})).catch((e=>{throw new Error("File upload failed. Please try again.",e)}))}(e.file,i,n),o({success:!0}),a(!1),(0,M.W)(!0,"The file uploaded successfully!","success"))}catch(d){o({success:!1}),s({submit:d.message}),r(!1),a(!1),(0,M.W)(!0,"Not able to upload the file. Try after sometime!","error")}},children:e=>{let{values:t,errors:n,isSubmitting:i,setFieldValue:a}=e;return(0,k.jsxs)(v.l0,{children:[(0,k.jsxs)(s.ZP,{container:!0,spacing:2,children:[(0,k.jsx)(s.ZP,{item:!0,xs:12,md:12,children:t.file&&(0,k.jsxs)(o.Z,{variant:"body2",children:["Selected File: ",t.file.name]})}),(0,k.jsx)(s.ZP,{item:!0,xs:6,md:6,container:!0,justifyContent:"flex-end",children:(0,k.jsx)(v.gN,{type:"file",name:"file",as:e=>{let{field:t}=e;return(0,k.jsx)(w.Z,{children:(0,k.jsxs)(p.Z,{variant:"contained",component:"label",htmlFor:"file-input",size:"large",sx:{whiteSpace:"nowrap"},children:["Select File",(0,k.jsx)("input",{...t,type:"file",id:"file-input",style:{display:"none"},onChange:e=>{a("file",e.currentTarget.files[0])},accept:".pdf,.doc,.docx,.txt,text/plain"})]})})}})}),(0,k.jsx)(s.ZP,{item:!0,xs:6,md:6,children:(0,k.jsx)(w.Z,{children:(0,k.jsx)(p.Z,{variant:"contained",size:"large",type:"submit",disabled:i,children:i?"Uploading...":"Upload"})})})]}),(0,k.jsx)(s.ZP,{item:!0,xs:12,md:12,style:{display:"flex",justifyContent:"center"},children:(0,k.jsx)(l.Z,{error:!0,id:"helper-text-file-input",children:n.file})})]})}})})]})}function G(e){let{trainingMedia:t,botId:n,organizationId:i}=e;return(0,k.jsxs)(k.Fragment,{children:[(0,k.jsx)(s.ZP,{item:!0,xs:12,children:t&&0===t.length&&(0,k.jsx)(o.Z,{variant:"caption",color:"#FF0000",children:(0,k.jsxs)(s.ZP,{container:!0,spacing:1,children:[(0,k.jsx)(s.ZP,{item:!0,xs:12,md:12,style:{display:"flex",justifyContent:"center"},children:(0,k.jsx)(Z.Z,{style:{fontSize:40}})}),(0,k.jsx)(s.ZP,{item:!0,xs:12,md:12,style:{display:"flex",justifyContent:"center"},children:"Training Documents are not uploaded!"})]})})}),t&&t.map(((e,t)=>(0,k.jsx)(s.ZP,{item:!0,xs:12,sm:6,md:4,children:(0,k.jsx)(H,{media:e,botId:n,organizationId:i})},t)))]})}},80730:(e,t,n)=>{n.d(t,{Od:()=>r,TY:()=>c,U2:()=>s,v_:()=>o});var i=n(89637),a=n(32203);async function s(e,t){return d("GET",e,t,arguments.length>2&&void 0!==arguments[2]?arguments[2]:{})}async function o(e,t){return d("POST",e,t,arguments.length>2&&void 0!==arguments[2]?arguments[2]:{})}async function r(e,t){return d("DELETE",e,t,arguments.length>2&&void 0!==arguments[2]?arguments[2]:{})}async function d(e,t,n){let{headers:i,noAuth:a,...s}=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};const o="POST"===e||"PUT"===e||"DELETE"===e;if(t=c(t),n=n&&"object"===typeof n&&o?JSON.stringify(n):void 0,i||(i={}),i["Content-Type"]="application/json",i.Accept="application/json",!1!==a){const e=sessionStorage.getItem("token");e&&(i.Authorization="Bearer ".concat(e))}const r=await fetch(t,{...s,headers:i,body:n,method:e}),d=await r.json();if(r.ok){const{data:e,...t}=d;return delete t.status,e&&!Object.keys(t).length?e:d}throw d.message?new Error(d.message):d}const l=(0,i.lf)(a.Hi,"/");function c(e){return e?e.startsWith("https://")?e:"".concat(l).concat(e):e}},62619:(e,t,n)=>{n.d(t,{Cm:()=>l,Mu:()=>o,Sn:()=>d,X2:()=>s,fR:()=>r});var i=n(80730),a=n(23509);async function s(e,t){((e,t)=>{a.tN.setState((n=>{const i=n.botsList.map((n=>n._id===e?{...n,cannedResponse:[...n.cannedResponse,t]}:n));return{...n,botsList:i}}))})(t,await i.v_("/bot/".concat(e.organizationId,"/").concat(t,"/knowledge-base"),e))}async function o(e,t){((e,n)=>{a.tN.setState((i=>{const a=i.botsList.map((i=>{if(i._id===e){const e=i.cannedResponse.filter((e=>e._id!=n._id));return{...i,cannedResponse:[...e,t]}}return i}));return{...i,botsList:a}}))})(e,await i.v_("/bot/".concat(t.organizationId,"/").concat(e,"/knowledge-base"),t))}async function r(e,t){((e,t)=>{a.tN.setState((n=>{const i=n.botsList.map((n=>n._id===e?{...n,cannedResponse:t}:n));return{...n,botsList:i}}))})(t,await i.U2("/bot/".concat(e,"/").concat(t,"/knowledge-base/list")))}async function d(e,t,n){console.log("In upload document.......",e),console.log("BotID :",t),console.log("OrganiztionID :",n)}async function l(e,t,n){await i.Od("/bot/".concat(e,"/").concat(t,"/knowledge-base/").concat(n));((e,t)=>{a.tN.setState((n=>{const i=n.botsList.map((n=>{if(n._id===e){const e=n.cannedResponse.filter((e=>e._id!=t));return{...n,cannedResponse:[...e]}}return n}));return{...n,botsList:i}}))})(t,n)}},969:(e,t,n)=>{n.d(t,{g:()=>a});var i=n(23509);function a(e){const t=(0,i.tN)((e=>e.selectedBotId)),n=(0,i.tN)((n=>n.botsMap[e||t]));return[e||t,n]}},89637:(e,t,n)=>{function i(e,t){return e.replace(new RegExp("".concat(a(t),"+$")),"")}function a(e){return e.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")}function s(e){const t=new Date(e),n=t.getDate(),i=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"][t.getMonth()],a=t.getFullYear();return"".concat(i," ").concat(n,", ").concat(a)}n.d(t,{lf:()=>i,p6:()=>s})},32203:(e,t,n)=>{n.d(t,{Hi:()=>i,LC:()=>r,lB:()=>a,rn:()=>o,yu:()=>s});const i="https://devbackend.livhousing.com",a={NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0,REACT_APP_NGROK_BACKEND_URL:"https://60f1-203-192-224-75.ngrok-free.app",REACT_APP_VERSION:"1",REACT_APP_BACKEND_URL:"https://devbackend.livhousing.com"}.REACT_APP_IP_DATA_API_KEY,s={NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0,REACT_APP_NGROK_BACKEND_URL:"https://60f1-203-192-224-75.ngrok-free.app",REACT_APP_VERSION:"1",REACT_APP_BACKEND_URL:"https://devbackend.livhousing.com"}.TRAINING_MEDIA_MAXSIZE,o={NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0,REACT_APP_NGROK_BACKEND_URL:"https://60f1-203-192-224-75.ngrok-free.app",REACT_APP_VERSION:"1",REACT_APP_BACKEND_URL:"https://devbackend.livhousing.com"}.CONVERSATION_MEDIA_MAXSIZE,r="https://60f1-203-192-224-75.ngrok-free.app"},44661:(e,t,n)=>{var i=n(64836);t.Z=void 0;var a=i(n(45045)),s=n(46417);t.Z=(0,a.default)((0,s.jsx)("path",{d:"M8 11h8v2H8zm12.1 1H22c0-2.76-2.24-5-5-5h-4v1.9h4c1.71 0 3.1 1.39 3.1 3.1M3.9 12c0-1.71 1.39-3.1 3.1-3.1h4V7H7c-2.76 0-5 2.24-5 5s2.24 5 5 5h4v-1.9H7c-1.71 0-3.1-1.39-3.1-3.1M19 12h-2v3h-3v2h3v3h2v-3h3v-2h-3z"}),"AddLink")},14487:(e,t,n)=>{var i=n(64836);t.Z=void 0;var a=i(n(45045)),s=n(46417);t.Z=(0,a.default)((0,s.jsx)("path",{d:"M14 2H6c-1.1 0-1.99.9-1.99 2L4 20c0 1.1.89 2 1.99 2H18c1.1 0 2-.9 2-2V8zm4 18H6V4h7v5h5zM8 15.01l1.41 1.41L11 14.84V19h2v-4.16l1.59 1.59L16 15.01 12.01 11z"}),"UploadFile")},10237:(e,t,n)=>{var i=n(64836);t.Z=void 0;var a=i(n(45045)),s=n(46417);t.Z=(0,a.default)((0,s.jsx)("path",{d:"M12 4.5C7 4.5 2.73 7.61 1 12c1.73 4.39 6 7.5 11 7.5s9.27-3.11 11-7.5c-1.73-4.39-6-7.5-11-7.5M12 17c-2.76 0-5-2.24-5-5s2.24-5 5-5 5 2.24 5 5-2.24 5-5 5m0-8c-1.66 0-3 1.34-3 3s1.34 3 3 3 3-1.34 3-3-1.34-3-3-3"}),"Visibility")},19259:(e,t,n)=>{var i=n(64836);t.Z=void 0;var a=i(n(45045)),s=n(46417);t.Z=(0,a.default)([(0,s.jsx)("path",{d:"M12 5.99 19.53 19H4.47zM12 2 1 21h22z"},"0"),(0,s.jsx)("path",{d:"M13 16h-2v2h2zm0-6h-2v5h2z"},"1")],"WarningAmber")},73428:(e,t,n)=>{n.d(t,{Z:()=>f});var i=n(87462),a=n(63366),s=n(47313),o=n(94146),r=n(21921),d=n(17592),l=n(77342),c=n(70501),p=n(77430),u=n(32298);function h(e){return(0,u.Z)("MuiCard",e)}(0,p.Z)("MuiCard",["root"]);var m=n(46417);const g=["className","raised"],x=(0,d.ZP)(c.Z,{name:"MuiCard",slot:"Root",overridesResolver:(e,t)=>t.root})((()=>({overflow:"hidden"}))),f=s.forwardRef((function(e,t){const n=(0,l.Z)({props:e,name:"MuiCard"}),{className:s,raised:d=!1}=n,c=(0,a.Z)(n,g),p=(0,i.Z)({},n,{raised:d}),u=(e=>{const{classes:t}=e;return(0,r.Z)({root:["root"]},h,t)})(p);return(0,m.jsx)(x,(0,i.Z)({className:(0,o.Z)(u.root,s),elevation:d?8:void 0,ref:t,ownerState:p},c))}))},56104:(e,t,n)=>{n.d(t,{Z:()=>x});var i=n(63366),a=n(87462),s=n(47313),o=n(94146),r=n(21921),d=n(17592),l=n(77342),c=n(77430),p=n(32298);function u(e){return(0,p.Z)("MuiCardActions",e)}(0,c.Z)("MuiCardActions",["root","spacing"]);var h=n(46417);const m=["disableSpacing","className"],g=(0,d.ZP)("div",{name:"MuiCardActions",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.root,!n.disableSpacing&&t.spacing]}})((e=>{let{ownerState:t}=e;return(0,a.Z)({display:"flex",alignItems:"center",padding:8},!t.disableSpacing&&{"& > :not(style) ~ :not(style)":{marginLeft:8}})})),x=s.forwardRef((function(e,t){const n=(0,l.Z)({props:e,name:"MuiCardActions"}),{disableSpacing:s=!1,className:d}=n,c=(0,i.Z)(n,m),p=(0,a.Z)({},n,{disableSpacing:s}),x=(e=>{const{classes:t,disableSpacing:n}=e,i={root:["root",!n&&"spacing"]};return(0,r.Z)(i,u,t)})(p);return(0,h.jsx)(g,(0,a.Z)({className:(0,o.Z)(x.root,d),ownerState:p,ref:t},c))}))},93405:(e,t,n)=>{n.d(t,{Z:()=>x});var i=n(87462),a=n(63366),s=n(47313),o=n(94146),r=n(21921),d=n(17592),l=n(77342),c=n(77430),p=n(32298);function u(e){return(0,p.Z)("MuiCardContent",e)}(0,c.Z)("MuiCardContent",["root"]);var h=n(46417);const m=["className","component"],g=(0,d.ZP)("div",{name:"MuiCardContent",slot:"Root",overridesResolver:(e,t)=>t.root})((()=>({padding:16,"&:last-child":{paddingBottom:24}}))),x=s.forwardRef((function(e,t){const n=(0,l.Z)({props:e,name:"MuiCardContent"}),{className:s,component:d="div"}=n,c=(0,a.Z)(n,m),p=(0,i.Z)({},n,{component:d}),x=(e=>{const{classes:t}=e;return(0,r.Z)({root:["root"]},u,t)})(p);return(0,h.jsx)(g,(0,i.Z)({as:d,className:(0,o.Z)(x.root,s),ownerState:p,ref:t},c))}))},54641:(e,t,n)=>{n.d(t,{Z:()=>j});var i=n(63366),a=n(87462),s=n(47313),o=n(94146),r=n(21921),d=n(61113),l=n(77342),c=n(17592),p=n(77430),u=n(32298);function h(e){return(0,u.Z)("MuiCardHeader",e)}const m=(0,p.Z)("MuiCardHeader",["root","avatar","action","content","title","subheader"]);var g=n(46417);const x=["action","avatar","className","component","disableTypography","subheader","subheaderTypographyProps","title","titleTypographyProps"],f=(0,c.ZP)("div",{name:"MuiCardHeader",slot:"Root",overridesResolver:(e,t)=>(0,a.Z)({["& .".concat(m.title)]:t.title,["& .".concat(m.subheader)]:t.subheader},t.root)})({display:"flex",alignItems:"center",padding:16}),Z=(0,c.ZP)("div",{name:"MuiCardHeader",slot:"Avatar",overridesResolver:(e,t)=>t.avatar})({display:"flex",flex:"0 0 auto",marginRight:16}),b=(0,c.ZP)("div",{name:"MuiCardHeader",slot:"Action",overridesResolver:(e,t)=>t.action})({flex:"0 0 auto",alignSelf:"flex-start",marginTop:-4,marginRight:-8,marginBottom:-4}),v=(0,c.ZP)("div",{name:"MuiCardHeader",slot:"Content",overridesResolver:(e,t)=>t.content})({flex:"1 1 auto"}),j=s.forwardRef((function(e,t){const n=(0,l.Z)({props:e,name:"MuiCardHeader"}),{action:s,avatar:c,className:p,component:u="div",disableTypography:m=!1,subheader:j,subheaderTypographyProps:y,title:S,titleTypographyProps:w}=n,P=(0,i.Z)(n,x),_=(0,a.Z)({},n,{component:u,disableTypography:m}),C=(e=>{const{classes:t}=e;return(0,r.Z)({root:["root"],avatar:["avatar"],action:["action"],content:["content"],title:["title"],subheader:["subheader"]},h,t)})(_);let N=S;null==N||N.type===d.Z||m||(N=(0,g.jsx)(d.Z,(0,a.Z)({variant:c?"body2":"h5",className:C.title,component:"span",display:"block"},w,{children:N})));let M=j;return null==M||M.type===d.Z||m||(M=(0,g.jsx)(d.Z,(0,a.Z)({variant:c?"body2":"body1",className:C.subheader,color:"text.secondary",component:"span",display:"block"},y,{children:M}))),(0,g.jsxs)(f,(0,a.Z)({className:(0,o.Z)(C.root,p),as:u,ref:t,ownerState:_},P,{children:[c&&(0,g.jsx)(Z,{className:C.avatar,ownerState:_,children:c}),(0,g.jsxs)(v,{className:C.content,ownerState:_,children:[N,M]}),s&&(0,g.jsx)(b,{className:C.action,ownerState:_,children:s})]}))}))}}]);