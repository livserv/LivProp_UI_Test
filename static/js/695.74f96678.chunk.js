"use strict";(self.webpackChunklib_prop_ui=self.webpackChunklib_prop_ui||[]).push([[695],{35724:()=>{},99007:(e,t,a)=>{a.d(t,{sb:()=>S});var n=a(47313),o=[["Afghanistan","af","93"],["Albania","al","355"],["Algeria","dz","213"],["Andorra","ad","376"],["Angola","ao","244"],["Antigua and Barbuda","ag","1268"],["Argentina","ar","54","(..) ........",0],["Armenia","am","374",".. ......"],["Aruba","aw","297"],["Australia","au","61",{default:". .... ....","/^4/":"... ... ...","/^5(?!50)/":"... ... ...","/^1(3|8)00/":".... ... ...","/^13/":".. .. ..","/^180/":"... ...."},0,[]],["Austria","at","43"],["Azerbaijan","az","994","(..) ... .. .."],["Bahamas","bs","1242"],["Bahrain","bh","973"],["Bangladesh","bd","880"],["Barbados","bb","1246"],["Belarus","by","375","(..) ... .. .."],["Belgium","be","32","... .. .. .."],["Belize","bz","501"],["Benin","bj","229"],["Bhutan","bt","975"],["Bolivia","bo","591"],["Bosnia and Herzegovina","ba","387"],["Botswana","bw","267"],["Brazil","br","55","(..) ........."],["British Indian Ocean Territory","io","246"],["Brunei","bn","673"],["Bulgaria","bg","359"],["Burkina Faso","bf","226"],["Burundi","bi","257"],["Cambodia","kh","855"],["Cameroon","cm","237"],["Canada","ca","1","(...) ...-....",1,["204","226","236","249","250","289","306","343","365","387","403","416","418","431","437","438","450","506","514","519","548","579","581","587","604","613","639","647","672","705","709","742","778","780","782","807","819","825","867","873","902","905"]],["Cape Verde","cv","238"],["Caribbean Netherlands","bq","599","",1],["Central African Republic","cf","236"],["Chad","td","235"],["Chile","cl","56"],["China","cn","86","... .... ...."],["Colombia","co","57","... ... ...."],["Comoros","km","269"],["Congo","cd","243"],["Congo","cg","242"],["Costa Rica","cr","506","....-...."],["C\xf4te d'Ivoire","ci","225",".. .. .. .. .."],["Croatia","hr","385"],["Cuba","cu","53"],["Cura\xe7ao","cw","599","",0],["Cyprus","cy","357",".. ......"],["Czech Republic","cz","420","... ... ..."],["Denmark","dk","45",".. .. .. .."],["Djibouti","dj","253"],["Dominica","dm","1767"],["Dominican Republic","do","1","",2],["Ecuador","ec","593"],["Egypt","eg","20"],["El Salvador","sv","503","....-...."],["Equatorial Guinea","gq","240"],["Eritrea","er","291"],["Estonia","ee","372",".... ......"],["Ethiopia","et","251"],["Fiji","fj","679"],["Finland","fi","358",".. ... .. .."],["France","fr","33",". .. .. .. .."],["French Guiana","gf","594"],["French Polynesia","pf","689"],["Gabon","ga","241"],["Gambia","gm","220"],["Georgia","ge","995"],["Germany","de","49",".... ........"],["Ghana","gh","233"],["Greece","gr","30"],["Grenada","gd","1473"],["Guadeloupe","gp","590","",0],["Guam","gu","1671"],["Guatemala","gt","502","....-...."],["Guinea","gn","224"],["Guinea-Bissau","gw","245"],["Guyana","gy","592"],["Haiti","ht","509","....-...."],["Honduras","hn","504"],["Hong Kong","hk","852",".... ...."],["Hungary","hu","36"],["Iceland","is","354","... ...."],["India","in","91",".....-....."],["Indonesia","id","62"],["Iran","ir","98","... ... ...."],["Iraq","iq","964"],["Ireland","ie","353",".. ......."],["Israel","il","972","... ... ...."],["Italy","it","39","... .......",0],["Jamaica","jm","1876"],["Japan","jp","81",".. .... ...."],["Jordan","jo","962"],["Kazakhstan","kz","7","... ...-..-..",0],["Kenya","ke","254"],["Kiribati","ki","686"],["Kosovo","xk","383"],["Kuwait","kw","965"],["Kyrgyzstan","kg","996","... ... ..."],["Laos","la","856"],["Latvia","lv","371",".. ... ..."],["Lebanon","lb","961"],["Lesotho","ls","266"],["Liberia","lr","231"],["Libya","ly","218"],["Liechtenstein","li","423"],["Lithuania","lt","370"],["Luxembourg","lu","352"],["Macau","mo","853"],["Macedonia","mk","389"],["Madagascar","mg","261"],["Malawi","mw","265"],["Malaysia","my","60","..-....-...."],["Maldives","mv","960"],["Mali","ml","223"],["Malta","mt","356"],["Marshall Islands","mh","692"],["Martinique","mq","596"],["Mauritania","mr","222"],["Mauritius","mu","230"],["Mexico","mx","52","... ... ....",0],["Micronesia","fm","691"],["Moldova","md","373","(..) ..-..-.."],["Monaco","mc","377"],["Mongolia","mn","976"],["Montenegro","me","382"],["Morocco","ma","212"],["Mozambique","mz","258"],["Myanmar","mm","95"],["Namibia","na","264"],["Nauru","nr","674"],["Nepal","np","977"],["Netherlands","nl","31",".. ........"],["New Caledonia","nc","687"],["New Zealand","nz","64","...-...-...."],["Nicaragua","ni","505"],["Niger","ne","227"],["Nigeria","ng","234"],["North Korea","kp","850"],["Norway","no","47","... .. ..."],["Oman","om","968"],["Pakistan","pk","92","...-......."],["Palau","pw","680"],["Palestine","ps","970"],["Panama","pa","507"],["Papua New Guinea","pg","675"],["Paraguay","py","595"],["Peru","pe","51"],["Philippines","ph","63",".... ......."],["Poland","pl","48","...-...-..."],["Portugal","pt","351"],["Puerto Rico","pr","1","",3,["787","939"]],["Qatar","qa","974"],["R\xe9union","re","262"],["Romania","ro","40"],["Russia","ru","7","(...) ...-..-..",1],["Rwanda","rw","250"],["Saint Kitts and Nevis","kn","1869"],["Saint Lucia","lc","1758"],["Saint Vincent and the Grenadines","vc","1784"],["Samoa","ws","685"],["San Marino","sm","378"],["S\xe3o Tom\xe9 and Pr\xedncipe","st","239"],["Saudi Arabia","sa","966"],["Senegal","sn","221"],["Serbia","rs","381"],["Seychelles","sc","248"],["Sierra Leone","sl","232"],["Singapore","sg","65","....-...."],["Slovakia","sk","421"],["Slovenia","si","386"],["Solomon Islands","sb","677"],["Somalia","so","252"],["South Africa","za","27"],["South Korea","kr","82","... .... ...."],["South Sudan","ss","211"],["Spain","es","34","... ... ..."],["Sri Lanka","lk","94"],["Sudan","sd","249"],["Suriname","sr","597"],["Swaziland","sz","268"],["Sweden","se","46","... ... ..."],["Switzerland","ch","41",".. ... .. .."],["Syria","sy","963"],["Taiwan","tw","886"],["Tajikistan","tj","992"],["Tanzania","tz","255"],["Thailand","th","66"],["Timor-Leste","tl","670"],["Togo","tg","228"],["Tonga","to","676"],["Trinidad and Tobago","tt","1868"],["Tunisia","tn","216"],["Turkey","tr","90","... ... .. .."],["Turkmenistan","tm","993"],["Tuvalu","tv","688"],["Uganda","ug","256"],["Ukraine","ua","380","(..) ... .. .."],["United Arab Emirates","ae","971"],["United Kingdom","gb","44",".... ......"],["United States","us","1","(...) ...-....",0],["Uruguay","uy","598"],["Uzbekistan","uz","998",".. ... .. .."],["Vanuatu","vu","678"],["Vatican City","va","39",".. .... ....",1],["Venezuela","ve","58"],["Vietnam","vn","84"],["Yemen","ye","967"],["Zambia","zm","260"],["Zimbabwe","zw","263"]],r=function(){for(var e=arguments.length,t=new Array(e),a=0;a<e;a++)t[a]=arguments[a];return t.filter((e=>!!e)).join(" ").trim()},i=e=>{let{addPrefix:t,rawClassNames:a}=e;return r(function(){return r(...arguments).split(" ").map((e=>"".concat("react-international-phone-").concat(e))).join(" ")}(...t),...a)},l=e=>!!e&&/^\d+$/.test(e),s=e=>e.replace(/\D/g,""),u=e=>{let{phone:t,prefix:a}=e;return t?"".concat(a).concat(s(t)):""};function d(e){var t;let{value:a,country:n,insertDialCodeOnEmpty:o,trimNonDigitsEnd:r,countries:i,prefix:l,charAfterDialCode:d,forceDialCode:c,disableDialCodeAndPrefix:f,defaultMask:p,countryGuessingEnabled:y,disableFormatting:C}=e,v=a;f&&(v=v.startsWith("".concat(l))?v:"".concat(l).concat(n.dialCode).concat(v));let g=y?b({phone:v,countries:i,currentCountryIso2:null===n||void 0===n?void 0:n.iso2}):void 0,w=null!==(t=null===g||void 0===g?void 0:g.country)&&void 0!==t?t:n,D=((e,t)=>{let a=!t.disableDialCodeAndPrefix&&t.forceDialCode,n=!t.disableDialCodeAndPrefix&&t.insertDialCodeOnEmpty,o=e,r=e=>t.trimNonDigitsEnd?e.trim():e;if(!o)return n&&!o.length||a?r("".concat(t.prefix).concat(t.dialCode).concat(t.charAfterDialCode)):r(o);if(o=s(o),o===t.dialCode&&!t.disableDialCodeAndPrefix)return r("".concat(t.prefix).concat(t.dialCode).concat(t.charAfterDialCode));if(t.dialCode.startsWith(o)&&!t.disableDialCodeAndPrefix)return r(a?"".concat(t.prefix).concat(t.dialCode).concat(t.charAfterDialCode):"".concat(t.prefix).concat(o));if(!o.startsWith(t.dialCode)&&!t.disableDialCodeAndPrefix){if(a)return r("".concat(t.prefix).concat(t.dialCode).concat(t.charAfterDialCode));if(o.length<t.dialCode.length)return r("".concat(t.prefix).concat(o))}let{phoneLeftSide:i,phoneRightSide:l}=(()=>{let e=t.dialCode.length;return{phoneLeftSide:o.slice(0,e),phoneRightSide:o.slice(e)}})();return i="".concat(t.prefix).concat(i).concat(t.charAfterDialCode),l=(e=>{let{value:t,mask:a,maskSymbol:n,offset:o=0,trimNonMaskCharsLeftover:r=!1}=e;if(t.length<o)return t;let i=t.slice(0,o),l=t.slice(o),s=i,u=0;for(let d of a.split("")){if(u>=l.length){if(!r&&d!==n){s+=d;continue}break}d===n?(s+=l[u],u+=1):s+=d}return s})({value:l,mask:t.mask,maskSymbol:t.maskChar,trimNonMaskCharsLeftover:t.trimNonDigitsEnd||t.disableDialCodeAndPrefix&&0===l.length}),t.disableDialCodeAndPrefix&&(i=""),r("".concat(i).concat(l))})(v,{prefix:l,mask:h({phone:v,country:w,defaultMask:p,disableFormatting:C}),maskChar:m,dialCode:w.dialCode,trimNonDigitsEnd:r,charAfterDialCode:d,forceDialCode:c,insertDialCodeOnEmpty:o,disableDialCodeAndPrefix:f}),k=!y||null!==g&&void 0!==g&&g.fullDialCodeMatch?w:n;return{phone:u({phone:f?"".concat(k.dialCode).concat(D):D,prefix:l}),inputValue:D,country:k}}var c=(e,t)=>{var a,n;let{country:o,insertDialCodeOnEmpty:r,phoneBeforeInput:i,prefix:s,charAfterDialCode:c,forceDialCode:f,disableDialCodeAndPrefix:p,countryGuessingEnabled:m,defaultMask:y,disableFormatting:h,countries:C}=t,v=e.nativeEvent,b=v.inputType,g=(e=>{var t;if(null!==(t=null===e||void 0===e?void 0:e.toLocaleLowerCase().includes("delete"))&&void 0!==t&&t)return null!==e&&void 0!==e&&e.toLocaleLowerCase().includes("forward")?"forward":"backward"})(b),w=!(null===b||void 0===b||!b.startsWith("insertFrom")),D="insertText"===b,k=(null===v||void 0===v?void 0:v.data)||void 0,x=e.target.value,N=null!==(a=e.target.selectionStart)&&void 0!==a?a:0;if(null!==b&&void 0!==b&&b.includes("history"))return{inputValue:i,phone:u({phone:i,prefix:s}),cursorPosition:i.length,country:o};if(D&&!l(k)&&x!==s)return{inputValue:i,phone:u({phone:p?"".concat(o.dialCode).concat(i):i,prefix:s}),cursorPosition:N-(null!==(n=null===k||void 0===k?void 0:k.length)&&void 0!==n?n:0),country:o};if(f&&!x.startsWith("".concat(s).concat(o.dialCode))&&!w){let e=x?i:"".concat(s).concat(o.dialCode).concat(c);return{inputValue:e,phone:u({phone:e,prefix:s}),cursorPosition:s.length+o.dialCode.length+c.length,country:o}}let{phone:S,inputValue:P,country:A}=d({value:x,country:o,trimNonDigitsEnd:"backward"===g,insertDialCodeOnEmpty:r,countryGuessingEnabled:m,countries:C,prefix:s,charAfterDialCode:c,forceDialCode:f,disableDialCodeAndPrefix:p,disableFormatting:h,defaultMask:y}),E=(e=>{let{phoneBeforeInput:t,phoneAfterInput:a,phoneAfterFormatted:n,cursorPositionAfterInput:o,leftOffset:r=0,deletion:i}=e;if(o<r)return r;if(!t)return n.length;let s=null;for(let f=o-1;f>=0;f-=1)if(l(a[f])){s=f;break}if(null===s){for(let e=0;e<a.length;e+=1)if(l(n[e]))return e;return a.length}let u=0;for(let f=0;f<s;f+=1)l(a[f])&&(u+=1);let d=0,c=0;for(let f=0;f<n.length&&(d+=1,l(n[f])&&(c+=1),!(c>=u+1));f+=1);if("backward"!==i)for(;!l(n[d])&&d<n.length;)d+=1;return d})({cursorPositionAfterInput:N,phoneBeforeInput:i,phoneAfterInput:x,phoneAfterFormatted:P,leftOffset:f?s.length+o.dialCode.length+c.length:0,deletion:g});return{phone:S,inputValue:P,cursorPosition:E,country:A}},f={size:20,overrideLastItemDebounceMS:-1};function p(e,t){let{size:a,overrideLastItemDebounceMS:o,onChange:r}={...f,...t},[i,l]=(0,n.useState)(e),[s,u]=(0,n.useState)([i]),[d,c]=(0,n.useState)(0),p=(()=>{let e=(0,n.useRef)(),t=(0,n.useRef)(Date.now());return{check:()=>{let a=Date.now(),n=e.current?a-t.current:void 0;return e.current=t.current,t.current=a,n}}})();return[i,(e,t)=>{if("object"==typeof e&&"object"==typeof i&&((e,t)=>{let a=Object.keys(e),n=Object.keys(t);if(a.length!==n.length)return!1;for(let o of a)if(e[o]!==t[o])return!1;return!0})(e,i)||e===i)return;let n=o>0,f=p.check(),m=!n||void 0===f||f>o;if(void 0!==(null===t||void 0===t?void 0:t.overrideLastItem)?t.overrideLastItem:!m)u((t=>[...t.slice(0,d),e]));else{let t=s.length>=a;u((a=>[...a.slice(t?1:0,d+1),e])),t||c((e=>e+1))}l(e),null===r||void 0===r||r(e)},()=>{if(d<=0)return{success:!1};let e=s[d-1];return l(e),c((e=>e-1)),null!==r&&void 0!==r&&r(e),{success:!0,value:e}},()=>{if(d+1>=s.length)return{success:!1};let e=s[d+1];return l(e),c((e=>e+1)),null!==r&&void 0!==r&&r(e),{success:!0,value:e}}]}var m=".",y={defaultCountry:"us",value:"",prefix:"+",defaultMask:"............",charAfterDialCode:" ",historySaveDebounceMS:200,disableCountryGuess:!1,disableDialCodePrefill:!1,forceDialCode:!1,disableDialCodeAndPrefix:!1,disableFormatting:!1,countries:o},h=e=>{let{phone:t,country:a,defaultMask:n="............",disableFormatting:o=!1}=e,r=a.format,i=e=>o?e.replace(new RegExp("[^".concat(m,"]"),"g"),""):e;if(!r)return i(n);if("string"==typeof r)return i(r);if(!r.default)return console.error("[react-international-phone]: default mask for ".concat(a.iso2," is not provided")),i(n);let l=Object.keys(r).find((e=>{if("default"===e)return!1;if("/"!==e.charAt(0)||"/"!==e.charAt(e.length-1))return console.error('[react-international-phone]: format regex "'.concat(e,'" for ').concat(a.iso2," is not valid")),!1;let n=new RegExp(e.substring(1,e.length-1)),o=t.replace(a.dialCode,"");return n.test(s(o))}));return i(l?r[l]:r.default)},C=e=>{let[t,a,n,o,r,i]=e;return{name:t,iso2:a,dialCode:n,format:o,priority:r,areaCodes:i}},v=e=>{let{field:t,value:a,countries:n=o}=e;if(["priority"].includes(t))throw new Error((e=>'Field "'.concat(e,'" is not supported'))(t));let r=n.find((e=>{let n=C(e);return a===n[t]}));if(r)return C(r)},b=e=>{let{phone:t,countries:a=o,currentCountryIso2:n}=e,r={country:void 0,fullDialCodeMatch:!1};if(!t)return r;let i=s(t);if(!i)return r;let l=r,u=e=>{var t,a,n,o;let{country:r,fullDialCodeMatch:i}=e,s=r.dialCode===(null===(t=l.country)||void 0===t?void 0:t.dialCode),u=(null!==(a=r.priority)&&void 0!==a?a:0)<(null!==(n=null===(o=l.country)||void 0===o?void 0:o.priority)&&void 0!==n?n:0);(!s||u)&&(l={country:r,fullDialCodeMatch:i})};for(let o of a){let e=C(o),{dialCode:t,areaCodes:a}=e;if(i.startsWith(t)){let n=!l.country||Number(t)>=Number(l.country.dialCode);if(a){let n=i.substring(t.length);for(let t of a)if(n.startsWith(t))return{country:e,fullDialCodeMatch:!0}}(n||t===i||!l.fullDialCodeMatch)&&u({country:e,fullDialCodeMatch:!0})}l.fullDialCodeMatch||i.length<t.length&&t.startsWith(i)&&(!l.country||Number(t)<=Number(l.country.dialCode))&&u({country:e,fullDialCodeMatch:!1})}if(n){var d;let e=v({value:n,field:"iso2",countries:a});if(!e)return l;let t=!!e&&(e=>{if(null===e||void 0===e||!e.areaCodes)return!1;let t=i.substring(e.dialCode.length);return e.areaCodes.some((e=>e.startsWith(t)))})(e);l&&(null===(d=l.country)||void 0===d?void 0:d.dialCode)===e.dialCode&&l.country!==e&&l.fullDialCodeMatch&&(!e.areaCodes||t)&&(l={country:e,fullDialCodeMatch:!0})}return l},g=(e,t)=>{let a=parseInt(e,16);return Number(a+t).toString(16)},w="abcdefghijklmnopqrstuvwxyz".split("").reduce(((e,t,a)=>({...e,[t]:g("1f1e6",a)})),{}),D=e=>{let{iso2:t,size:a,src:o,protocol:r="https",disableLazyLoading:l,className:s,style:u,...d}=e;if(!t)return n.createElement("img",{className:i({addPrefix:["flag-emoji"],rawClassNames:[s]}),width:a,height:a,...d});return n.createElement("img",{className:i({addPrefix:["flag-emoji"],rawClassNames:[s]}),src:(()=>{if(o)return o;let e=(e=>[w[e[0]],w[e[1]]].join("-"))(t);return"".concat(r,"://cdnjs.cloudflare.com/ajax/libs/twemoji/14.0.2/svg/").concat(e,".svg")})(),width:a,height:a,draggable:!1,"data-country":t,loading:l?void 0:"lazy",style:{width:a,height:a,...u},alt:"",...d})},k=e=>{let{show:t,dialCodePrefix:a="+",selectedCountry:r,countries:l=o,flags:s,onSelect:u,onClose:d,...c}=e,f=(0,n.useRef)(null),p=(0,n.useRef)(),m=(0,n.useRef)({updatedAt:void 0,value:""}),y=(0,n.useCallback)((e=>l.findIndex((t=>C(t).iso2===e))),[l]),[h,v]=(0,n.useState)(y(r)),b=()=>{p.current!==r&&v(y(r))},g=(0,n.useCallback)((e=>{v(y(e.iso2)),null===u||void 0===u||u(e)}),[u,y]),w=e=>{let t=l.length-1;v((a=>{let n=(a=>"prev"===e?a-1:"next"===e?a+1:"last"===e?t:0)(a);return n<0?0:n>t?t:n}))},k=(0,n.useCallback)((()=>{if(!f.current||void 0===h)return;let e=C(l[h]).iso2;if(e===p.current)return;let t=f.current.querySelector('[data-country="'.concat(e,'"]'));t&&(((e,t)=>{let a=e.style.display;"block"!==a&&(e.style.display="block");let n=e.getBoundingClientRect(),o=t.getBoundingClientRect(),r=o.top-n.top,i=n.bottom-o.bottom;r>=0&&i>=0||(Math.abs(r)<Math.abs(i)?e.scrollTop+=r:e.scrollTop-=i),e.style.display=a})(f.current,t),p.current=e)}),[h,l]);return(0,n.useEffect)((()=>{k()}),[h,k]),(0,n.useEffect)((()=>{f.current&&(t?f.current.focus():b())}),[t]),(0,n.useEffect)((()=>{b()}),[r]),n.createElement("ul",{ref:f,role:"listbox",className:i({addPrefix:["country-selector-dropdown"],rawClassNames:[c.className]}),style:{display:t?"block":"none",...c.style},onKeyDown:e=>{if(e.stopPropagation(),"Enter"!==e.key){if("Escape"!==e.key)return"ArrowUp"===e.key?(e.preventDefault(),void w("prev")):"ArrowDown"===e.key?(e.preventDefault(),void w("next")):"PageUp"===e.key?(e.preventDefault(),void w("first")):"PageDown"===e.key?(e.preventDefault(),void w("last")):(" "===e.key&&e.preventDefault(),void(1===e.key.length&&!e.altKey&&!e.ctrlKey&&!e.metaKey&&(e=>{let t=m.current.updatedAt&&(new Date).getTime()-m.current.updatedAt.getTime()>1e3;m.current={value:t?e:"".concat(m.current.value).concat(e),updatedAt:new Date};let a=l.findIndex((e=>C(e).name.toLowerCase().startsWith(m.current.value)));-1!==a&&v(a)})(e.key.toLocaleLowerCase())));null===d||void 0===d||d()}else{e.preventDefault();let t=C(l[h]);g(t)}},onBlur:d,tabIndex:-1,"aria-activedescendant":"react-international-phone__".concat(C(l[h]).iso2,"-option")},l.map(((e,t)=>{let o=C(e),l=o.iso2===r,u=t===h,d=null===s||void 0===s?void 0:s.find((e=>e.iso2===o.iso2));return n.createElement("li",{key:o.iso2,"data-country":o.iso2,role:"option","aria-selected":l,"aria-label":"".concat(o.name," ").concat(a).concat(o.dialCode),id:"react-international-phone__".concat(o.iso2,"-option"),className:i({addPrefix:["country-selector-dropdown__list-item",l&&"country-selector-dropdown__list-item--selected",u&&"country-selector-dropdown__list-item--focused"],rawClassNames:[c.listItemClassName]}),onClick:()=>g(o),style:c.listItemStyle,title:o.name},n.createElement(D,{iso2:o.iso2,src:null===d||void 0===d?void 0:d.src,className:i({addPrefix:["country-selector-dropdown__list-item-flag-emoji"],rawClassNames:[c.listItemFlagClassName]}),style:c.listItemFlagStyle}),n.createElement("span",{className:i({addPrefix:["country-selector-dropdown__list-item-country-name"],rawClassNames:[c.listItemCountryNameClassName]}),style:c.listItemCountryNameStyle},o.name),n.createElement("span",{className:i({addPrefix:["country-selector-dropdown__list-item-dial-code"],rawClassNames:[c.listItemDialCodeClassName]}),style:c.listItemDialCodeStyle},a,o.dialCode))})))},x=e=>{let{selectedCountry:t,onSelect:a,disabled:r,hideDropdown:l,countries:s=o,flags:u,renderButtonWrapper:d,...c}=e,[f,p]=(0,n.useState)(!1),m=(0,n.useMemo)((()=>{if(t)return v({value:t,field:"iso2",countries:s})}),[s,t]),y=(0,n.useRef)(null),h=e=>{e.key&&["ArrowUp","ArrowDown"].includes(e.key)&&(e.preventDefault(),p(!0))};return n.createElement("div",{className:i({addPrefix:["country-selector"],rawClassNames:[c.className]}),style:c.style,ref:y},(()=>{var e;let a={title:null===m||void 0===m?void 0:m.name,onClick:()=>p((e=>!e)),onMouseDown:e=>e.preventDefault(),onKeyDown:h,disabled:l||r,role:"combobox","aria-label":"Country selector","aria-haspopup":"listbox","aria-expanded":f},o=n.createElement("div",{className:i({addPrefix:["country-selector-button__button-content"],rawClassNames:[c.buttonContentWrapperClassName]}),style:c.buttonContentWrapperStyle},n.createElement(D,{iso2:t,src:null===u||void 0===u||null===(e=u.find((e=>e.iso2===t)))||void 0===e?void 0:e.src,className:i({addPrefix:["country-selector-button__flag-emoji",r&&"country-selector-button__flag-emoji--disabled"],rawClassNames:[c.flagClassName]}),style:{visibility:t?"visible":"hidden",...c.flagStyle}}),!l&&n.createElement("div",{className:i({addPrefix:["country-selector-button__dropdown-arrow",r&&"country-selector-button__dropdown-arrow--disabled",f&&"country-selector-button__dropdown-arrow--active"],rawClassNames:[c.dropdownArrowClassName]}),style:c.dropdownArrowStyle}));return d?d({children:o,rootProps:a}):n.createElement("button",{...a,type:"button",className:i({addPrefix:["country-selector-button",f&&"country-selector-button--active",r&&"country-selector-button--disabled",l&&"country-selector-button--hide-dropdown"],rawClassNames:[c.buttonClassName]}),"data-country":t,style:c.buttonStyle},o)})(),n.createElement(k,{show:f,countries:s,flags:u,onSelect:e=>{p(!1),null===a||void 0===a||a(e)},selectedCountry:t,onClose:()=>{p(!1)},...c.dropdownStyleProps}))},N=e=>{let{dialCode:t,prefix:a,disabled:o,style:r,className:l}=e;return n.createElement("div",{className:i({addPrefix:["dial-code-preview",o&&"dial-code-preview--disabled"],rawClassNames:[l]}),style:r},"".concat(a).concat(t))},S=(0,n.forwardRef)(((e,t)=>{var a;let{value:r,onChange:l,countries:s=o,hideDropdown:u,showDisabledDialCodeAndPrefix:f,disableFocusAfterCountrySelect:m,flags:h,style:C,className:b,inputStyle:g,inputClassName:w,countrySelectorStyleProps:D,dialCodePreviewStyleProps:k,inputProps:S,placeholder:P,disabled:A,name:E,onFocus:M,onBlur:I,required:L,autoFocus:z,..._}=e,{phone:B,inputValue:V,inputRef:j,country:R,setCountry:F,handlePhoneValueChange:G}=(e=>{let{defaultCountry:t=y.defaultCountry,value:a=y.value,countries:o=y.countries,prefix:r=y.prefix,defaultMask:i=y.defaultMask,charAfterDialCode:l=y.charAfterDialCode,historySaveDebounceMS:s=y.historySaveDebounceMS,disableCountryGuess:u=y.disableCountryGuess,disableDialCodePrefill:f=y.disableDialCodePrefill,forceDialCode:m=y.forceDialCode,disableDialCodeAndPrefix:h=y.disableDialCodeAndPrefix,disableFormatting:C=y.disableFormatting,onChange:b,inputRef:g}=e,w={countries:o,prefix:r,charAfterDialCode:l,forceDialCode:!h&&m,disableDialCodeAndPrefix:h,defaultMask:i,countryGuessingEnabled:!u,disableFormatting:C},D=(0,n.useRef)(null),k=g||D,x=e=>{Promise.resolve().then((()=>{var t,a;typeof window>"u"||k.current!==(null===(t=document)||void 0===t?void 0:t.activeElement)||null===(a=k.current)||void 0===a||a.setSelectionRange(e,e)}))},[{phone:N,inputValue:S,country:P},A,E,M]=p((()=>{let e=v({value:t,field:"iso2",countries:o});e||console.error('[react-international-phone]: can not find a country with "'.concat(t,'" iso2 code'));let n=e||v({value:"us",field:"iso2",countries:o}),{phone:r,inputValue:i,country:l}=d({value:a,country:n,insertDialCodeOnEmpty:!f,...w});return x(i.length),{phone:r,inputValue:i,country:l.iso2}}),{overrideLastItemDebounceMS:s,onChange:e=>{let{inputValue:t,phone:a,country:n}=e;if(!b)return;let o=I(n);b({phone:a,inputValue:t,country:o})}}),I=(0,n.useCallback)((e=>v({value:e,field:"iso2",countries:o})),[o]),L=(0,n.useMemo)((()=>I(P)),[P,I]);(0,n.useEffect)((()=>{let e=k.current;if(!e)return;let t=e=>{if(!e.key)return;let t=e.ctrlKey,a=e.shiftKey,n="z"===e.key.toLowerCase();!t||!n||(a?M():E())};return e.addEventListener("keydown",t),()=>{e.removeEventListener("keydown",t)}}),[k,E,M]);let[z,_]=(0,n.useState)(!1);return(0,n.useEffect)((()=>{if(!z)return _(!0),void(a!==N&&(null===b||void 0===b||b({inputValue:S,phone:N,country:L})));if(a===N)return;let{phone:e,inputValue:t,country:n}=d({value:a,country:L,insertDialCodeOnEmpty:!f,...w});A({phone:e,inputValue:t,country:n.iso2})}),[a]),{phone:N,inputValue:S,country:L,setCountry:function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{focusOnInput:!1},a=v({value:e,field:"iso2",countries:o});if(!a)return void console.error('[react-international-phone]: can not find a country with "'.concat(e,'" iso2 code'));let n=h?"":"".concat(r).concat(a.dialCode).concat(l);A({inputValue:n,phone:"".concat(r).concat(a.dialCode),country:a.iso2}),t.focusOnInput&&Promise.resolve().then((()=>{var e;null===(e=k.current)||void 0===e||e.focus()}))},handlePhoneValueChange:e=>{e.preventDefault();let{phone:t,inputValue:n,country:o,cursorPosition:r}=c(e,{country:L,phoneBeforeInput:S,insertDialCodeOnEmpty:!1,...w});return A({inputValue:n,phone:t,country:o.iso2}),x(r),a},inputRef:k}})({value:r,countries:s,..._,onChange:e=>{null===l||void 0===l||l(e.phone,{country:e.country,inputValue:e.inputValue})}}),T=_.disableDialCodeAndPrefix&&f&&(null===R||void 0===R?void 0:R.dialCode);return(0,n.useImperativeHandle)(t,(()=>j.current?Object.assign(j.current,{setCountry:F,state:{phone:B,inputValue:V,country:R}}):null),[j,F,B,V,R]),n.createElement("div",{ref:t,className:i({addPrefix:["input-container"],rawClassNames:[b]}),style:C},n.createElement(x,{onSelect:e=>F(e.iso2,{focusOnInput:!m}),flags:h,selectedCountry:R.iso2,countries:s,disabled:A,hideDropdown:u,...D}),T&&n.createElement(N,{dialCode:R.dialCode,prefix:null!==(a=_.prefix)&&void 0!==a?a:"+",disabled:A,...k}),n.createElement("input",{onChange:G,value:V,type:"tel",ref:j,className:i({addPrefix:["input",A&&"input--disabled"],rawClassNames:[w]}),placeholder:P,disabled:A,style:g,name:E,onFocus:M,onBlur:I,autoFocus:z,required:L,...S}))}))}}]);