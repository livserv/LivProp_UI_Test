"use strict";(self.webpackChunklib_prop_ui=self.webpackChunklib_prop_ui||[]).push([[9228],{89228:(e,t,i)=>{i.r(t),i.d(t,{default:()=>w});var n=i(9950),r=i(46639),o=i(78317),l=i(60899),a=i(82053),s=i(80417),c=i(79046),d=i(33092),h=i(89262),u=i(12504),x=i(29635),p=i(59254),A=i(33340),m=i(77382),g=i(6716),f=i(68033),v=i(6834),j=i(44414);function b(){const[e,t]=(0,n.useState)(!1),i=async()=>{t(!0);try{await(0,m.gJ)()}catch(e){console.log("Error while downloading docs:",e)}finally{t(!1)}};return e?(0,j.jsx)(r.A,{size:16,color:"primary",style:{marginLeft:"5px"}}):(0,j.jsx)("span",{title:"Click to download the content as CSV file",children:(0,j.jsx)(x.A,{onClick:i,style:{verticalAlign:"bottom",cursor:"pointer"}})})}const w=function(){const[e,t]=n.useState(!1),i=(0,A.nc)((e=>{var t;return null===(t=e.kbDocs)||void 0===t?void 0:t[e.selectedBotId]})),r=n.useCallback((()=>t((e=>!e))),[]);return n.useEffect((()=>{(0,m.bZ)().catch((e=>console.error("Error fetching organization details:",e)))}),[]),(0,j.jsx)(o.A,{children:(0,j.jsxs)(l.Ay,{container:!0,item:!0,xs:12,children:[(0,j.jsxs)(a.A,{variant:"h5",children:["FAQ / Knowledge base ",(0,j.jsx)(b,{})]}),!e&&(0,j.jsx)(l.Ay,{item:!0,sx:{marginLeft:"60px"},children:(0,j.jsx)(C,{onAddClick:r})}),e&&(0,j.jsx)(l.Ay,{item:!0,xs:12,mt:1,children:(0,j.jsx)(l.Ay,{item:!0,xs:12,lg:8,mt:5,children:(0,j.jsx)(v.A,{onCancel:r})})}),(0,j.jsx)(l.Ay,{item:!0,xs:12,mt:5,children:(0,j.jsx)(f.A,{docsList:i})})]})})},y=(0,p.Ay)(s.A)((e=>{let{theme:t}=e;return{position:"fixed","#trainingDocumentsSpeedDial &":{"&.MuiSpeedDial-directionDown, &.MuiSpeedDial-directionRight":{left:"auto",right:t.spacing(2)},"&.MuiSpeedDial-directionUp, &.MuiSpeedDial-directionLeft":{right:"auto",left:t.spacing(2)}}}}));function C(e){let{onAddClick:t}=e;const[i,r]=n.useState(!1);return(0,j.jsxs)(j.Fragment,{children:[(0,j.jsxs)(y,{ariaLabel:"Knowledge base options",direction:"down",sx:{position:"absolute",top:70,right:16},icon:(0,j.jsx)(c.A,{}),children:[(0,j.jsx)(d.A,{icon:(0,j.jsx)(h.A,{}),tooltipTitle:"Add Question & Answer",onClick:t}),(0,j.jsx)(d.A,{icon:(0,j.jsx)(u.A,{}),tooltipTitle:"Upload training document (.csv,.pdf,.doc,.docx,.txt)",onClick:()=>r(!0)})]}),i&&(0,j.jsx)(g.A,{isOpen:i,toggleOpen:r})]})}},6834:(e,t,i)=>{i.d(t,{A:()=>v});var n=i(9950),r=i(60899),o=i(3788),l=i(81616),a=i(2660),s=i(10226),c=i(29714),d=i(61467),h=i(24516),u=i(21788),x=i(32829),p=i(93383),A=i(77382),m=i(44414);const g=()=>c.Yj(),f=c.Ik().shape({question:g(),content:g()});const v=function(e){let{document:t={},onCancel:i,onUpdate:c}=e;const g=n.useCallback((()=>i(!1)),[i]);return(0,m.jsx)(d.l1,{initialValues:t,validationSchema:f,onSubmit:async(e,t)=>{let{setStatus:i,setSubmitting:n}=t;try{const t=await(0,A.Mk)(e);i({success:!1}),n(!1),g(),(0,u.i)(!0,"Content added successfully!","success"),null===c||void 0===c||c(t)}catch(r){console.error(r),(0,u.i)(!0,"Error occurred while trying to save content.","error")}},children:e=>{let{values:t,errors:i,handleChange:n,touched:c,isSubmitting:d,handleSubmit:u}=e;return(0,m.jsxs)("form",{noValidate:!0,onSubmit:u,children:[(0,m.jsxs)(r.Ay,{item:!0,xs:12,mt:5,children:[(0,m.jsx)(o.A,{htmlFor:"question",children:"Question"}),(0,m.jsxs)(l.A,{spacing:2,mb:3,children:[(0,m.jsx)(a.A,{multiline:!0,fullWidth:!0,id:"question",name:"question",value:t.question,onChange:n,placeholder:"Please enter the question"}),c.question&&i.question&&(0,m.jsx)(h.A,{error:!0,id:"helper-text-message-placeholder",children:i.question})]}),(0,m.jsx)(o.A,{htmlFor:"content",children:"Answer"}),(0,m.jsxs)(l.A,{spacing:2,mb:3,children:[(0,m.jsx)(a.A,{multiline:!0,rows:6,fullWidth:!0,id:"content",name:"content",value:t.content,onChange:n,placeholder:"Please enter the answer"}),c.content&&i.content&&(0,m.jsx)(h.A,{error:!0,id:"helper-text-message-placeholder",children:i.content})]})]}),(0,m.jsx)(r.Ay,{item:!0,xs:12,display:"flex",justifyContent:"flex-end",children:(0,m.jsxs)(l.A,{spacing:2,direction:"row",children:[(0,m.jsx)(s.A,{variant:"outlined",onClick:g,children:"Cancel"}),(0,m.jsx)(x.A,{children:(0,m.jsx)(p.A,{isLoading:d,color:"primary",size:"large",type:"submit",variant:"contained",onClick:u,children:"Save"})})]})})]})}})}},68033:(e,t,i)=>{i.d(t,{A:()=>C});var n=i(89379),r=i(9950),o=i(60899),l=i(82053),a=i(10226),s=i(63464),c=i(40033),d=i(79739),h=i(57988),u=i(7999),x=i(25333),p=i(63359),A=i(85967),m=i(74745),g=i(21788),f=i(32829),v=i(93383),j=i(70855),b=i(6834),w=i(77382),y=i(44414);const C=function(e){let{docsList:t,onUpdate:i}=e;const[,n]=(0,j.G)();return null===t||void 0===t?void 0:t.map(((e,t)=>(0,y.jsx)(S,{index:t,document:e,trainingMedia:n.trainingMedia,onUpdate:i},e._id)))};function S(e){let{document:t,index:i,trainingMedia:n,onUpdate:o}=e;const[l,a]=r.useState(!1);return l?(0,y.jsx)(b.A,{document:t,onCancel:a,onUpdate:o}):(0,y.jsx)(k,{index:i,document:t,trainingMedia:n,onEdit:a})}function k(e){let{document:t,index:i,trainingMedia:n,onEdit:a}=e;const s=r.useCallback((()=>a(!0)),[a]);return(0,y.jsxs)(o.Ay,{container:!0,mt:1,children:[(0,y.jsxs)(o.Ay,{item:!0,children:[(0,y.jsxs)(l.A,{variant:"h5",children:["Q",i+1," . ",t.question]}),(0,y.jsxs)(l.A,{variant:"body2",children:[(0,y.jsx)("b",{children:"Ans . "})," ",t.content]}),t.sourceDocument&&(null===n||void 0===n?void 0:n.length)>0&&(0,y.jsx)(M,{document:t,trainingMedia:n})]}),(0,y.jsxs)(o.Ay,{xs:12,item:!0,display:"flex",justifyContent:"flex-end",children:[(0,y.jsx)(x.A,{size:"small",sx:{color:p.A[500]},onClick:s,children:(0,y.jsx)(u.A,{})}),(0,y.jsx)(L,{documentId:t._id})]}),(0,y.jsx)(m.A,{xs:12,sx:{width:"100%",borderColor:"#b6abab"}})]})}function M(e){let{document:t,trainingMedia:i}=e;const o=t.sourceDocument,a=r.useMemo((()=>{const e=i.filter((e=>e.docId===o))[0];if(!e)return e;const t=decodeURIComponent(e.url.substring(e.url.lastIndexOf("/")+1));return(0,n.A)((0,n.A)({},e),{},{fileName:t})}),[o,i]);return a?(0,y.jsxs)(l.A,{variant:"body2",children:[(0,y.jsx)("b",{children:"Source Document:"})," ",(0,y.jsxs)("a",{href:a.url,rel:"noreferrer",target:"_blank",style:{cursor:"pointer"},children:[a.fileName,a.name?" ( ".concat(a.name," )"):""]})]}):null}function L(e){let{documentId:t}=e;const[i,n]=r.useState(!1),o=()=>n((e=>!e)),u=r.useCallback((async()=>{await(0,w.CA)(t),n(!1),(0,g.i)(!0,"Deleted response successfully","success")}),[t]);return(0,y.jsxs)(y.Fragment,{children:[(0,y.jsx)(x.A,{sx:{color:A.A[500]},onClick:o,children:(0,y.jsx)(h.A,{})}),i&&(0,y.jsxs)(s.A,{open:i,onClose:o,children:[(0,y.jsx)(c.A,{id:"delete-confirm-dialog-title",children:(0,y.jsx)(l.A,{gutterBottom:!0,children:"Are sure you want to delete the response ?"})}),(0,y.jsxs)(d.A,{children:[(0,y.jsx)(a.A,{onClick:o,children:"Cancel"}),(0,y.jsx)(f.A,{children:(0,y.jsx)(v.A,{color:"primary",type:"submit",variant:"contained",onClick:u,children:"Delete"})})]})]})]})}},29635:(e,t,i)=>{var n=i(24994);t.A=void 0;var r=n(i(79526)),o=i(44414);t.A=(0,r.default)((0,o.jsx)("path",{d:"M5 20h14v-2H5zM19 9h-4V3H9v6H5l7 7z"}),"Download")},7999:(e,t,i)=>{var n=i(24994);t.A=void 0;var r=n(i(79526)),o=i(44414);t.A=(0,r.default)((0,o.jsx)("path",{d:"M3 17.25V21h3.75L17.81 9.94l-3.75-3.75zM20.71 7.04c.39-.39.39-1.02 0-1.41l-2.34-2.34a.9959.9959 0 0 0-1.41 0l-1.83 1.83 3.75 3.75z"}),"Edit")},89262:(e,t,i)=>{var n=i(24994);t.A=void 0;var r=n(i(79526)),o=i(44414);t.A=(0,r.default)((0,o.jsx)("path",{d:"M16 1H4c-1.1 0-2 .9-2 2v14h2V3h12zm-1 4H8c-1.1 0-1.99.9-1.99 2L6 21c0 1.1.89 2 1.99 2H19c1.1 0 2-.9 2-2V11zM8 21V7h6v5h5v9z"}),"FileCopyOutlined")},12504:(e,t,i)=>{var n=i(24994);t.A=void 0;var r=n(i(79526)),o=i(44414);t.A=(0,r.default)((0,o.jsx)("path",{d:"M14 2H6c-1.1 0-1.99.9-1.99 2L4 20c0 1.1.89 2 1.99 2H18c1.1 0 2-.9 2-2V8zm4 18H6V4h7v5h5zM8 15.01l1.41 1.41L11 14.84V19h2v-4.16l1.59 1.59L16 15.01 12.01 11z"}),"UploadFile")},74745:(e,t,i)=>{i.d(t,{A:()=>g});var n=i(98587),r=i(58168),o=i(9950),l=i(72004),a=i(88465),s=i(9240),c=i(59254),d=i(18463),h=i(40777),u=i(44414);const x=["absolute","children","className","component","flexItem","light","orientation","role","textAlign","variant"],p=(0,c.Ay)("div",{name:"MuiDivider",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:i}=e;return[t.root,i.absolute&&t.absolute,t[i.variant],i.light&&t.light,"vertical"===i.orientation&&t.vertical,i.flexItem&&t.flexItem,i.children&&t.withChildren,i.children&&"vertical"===i.orientation&&t.withChildrenVertical,"right"===i.textAlign&&"vertical"!==i.orientation&&t.textAlignRight,"left"===i.textAlign&&"vertical"!==i.orientation&&t.textAlignLeft]}})((e=>{let{theme:t,ownerState:i}=e;return(0,r.A)({margin:0,flexShrink:0,borderWidth:0,borderStyle:"solid",borderColor:(t.vars||t).palette.divider,borderBottomWidth:"thin"},i.absolute&&{position:"absolute",bottom:0,left:0,width:"100%"},i.light&&{borderColor:t.vars?"rgba(".concat(t.vars.palette.dividerChannel," / 0.08)"):(0,s.X4)(t.palette.divider,.08)},"inset"===i.variant&&{marginLeft:72},"middle"===i.variant&&"horizontal"===i.orientation&&{marginLeft:t.spacing(2),marginRight:t.spacing(2)},"middle"===i.variant&&"vertical"===i.orientation&&{marginTop:t.spacing(1),marginBottom:t.spacing(1)},"vertical"===i.orientation&&{height:"100%",borderBottomWidth:0,borderRightWidth:"thin"},i.flexItem&&{alignSelf:"stretch",height:"auto"})}),(e=>{let{ownerState:t}=e;return(0,r.A)({},t.children&&{display:"flex",whiteSpace:"nowrap",textAlign:"center",border:0,borderTopStyle:"solid",borderLeftStyle:"solid","&::before, &::after":{content:'""',alignSelf:"center"}})}),(e=>{let{theme:t,ownerState:i}=e;return(0,r.A)({},i.children&&"vertical"!==i.orientation&&{"&::before, &::after":{width:"100%",borderTop:"thin solid ".concat((t.vars||t).palette.divider),borderTopStyle:"inherit"}})}),(e=>{let{theme:t,ownerState:i}=e;return(0,r.A)({},i.children&&"vertical"===i.orientation&&{flexDirection:"column","&::before, &::after":{height:"100%",borderLeft:"thin solid ".concat((t.vars||t).palette.divider),borderLeftStyle:"inherit"}})}),(e=>{let{ownerState:t}=e;return(0,r.A)({},"right"===t.textAlign&&"vertical"!==t.orientation&&{"&::before":{width:"90%"},"&::after":{width:"10%"}},"left"===t.textAlign&&"vertical"!==t.orientation&&{"&::before":{width:"10%"},"&::after":{width:"90%"}})})),A=(0,c.Ay)("span",{name:"MuiDivider",slot:"Wrapper",overridesResolver:(e,t)=>{const{ownerState:i}=e;return[t.wrapper,"vertical"===i.orientation&&t.wrapperVertical]}})((e=>{let{theme:t,ownerState:i}=e;return(0,r.A)({display:"inline-block",paddingLeft:"calc(".concat(t.spacing(1)," * 1.2)"),paddingRight:"calc(".concat(t.spacing(1)," * 1.2)")},"vertical"===i.orientation&&{paddingTop:"calc(".concat(t.spacing(1)," * 1.2)"),paddingBottom:"calc(".concat(t.spacing(1)," * 1.2)")})})),m=o.forwardRef((function(e,t){const i=(0,d.b)({props:e,name:"MuiDivider"}),{absolute:o=!1,children:s,className:c,component:m=(s?"div":"hr"),flexItem:g=!1,light:f=!1,orientation:v="horizontal",role:j=("hr"!==m?"separator":void 0),textAlign:b="center",variant:w="fullWidth"}=i,y=(0,n.A)(i,x),C=(0,r.A)({},i,{absolute:o,component:m,flexItem:g,light:f,orientation:v,role:j,textAlign:b,variant:w}),S=(e=>{const{absolute:t,children:i,classes:n,flexItem:r,light:o,orientation:l,textAlign:s,variant:c}=e,d={root:["root",t&&"absolute",c,o&&"light","vertical"===l&&"vertical",r&&"flexItem",i&&"withChildren",i&&"vertical"===l&&"withChildrenVertical","right"===s&&"vertical"!==l&&"textAlignRight","left"===s&&"vertical"!==l&&"textAlignLeft"],wrapper:["wrapper","vertical"===l&&"wrapperVertical"]};return(0,a.A)(d,h.K,n)})(C);return(0,u.jsx)(p,(0,r.A)({as:m,className:(0,l.A)(S.root,c),role:j,ref:t,ownerState:C},y,{children:s?(0,u.jsx)(A,{className:S.wrapper,ownerState:C,children:s}):null}))}));m.muiSkipListHighlight=!0;const g=m},40777:(e,t,i)=>{i.d(t,{A:()=>l,K:()=>o});var n=i(1763),r=i(423);function o(e){return(0,r.Ay)("MuiDivider",e)}const l=(0,n.A)("MuiDivider",["root","absolute","fullWidth","inset","middle","flexItem","light","vertical","withChildren","withChildrenVertical","textAlignRight","textAlignLeft","wrapper","wrapperVertical"])},85967:(e,t,i)=>{i.d(t,{A:()=>n});const n={50:"#fce4ec",100:"#f8bbd0",200:"#f48fb1",300:"#f06292",400:"#ec407a",500:"#e91e63",600:"#d81b60",700:"#c2185b",800:"#ad1457",900:"#880e4f",A100:"#ff80ab",A200:"#ff4081",A400:"#f50057",A700:"#c51162"}}}]);