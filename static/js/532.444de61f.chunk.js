"use strict";(self.webpackChunklib_prop_ui=self.webpackChunklib_prop_ui||[]).push([[532],{30532:(e,t,c)=>{c.r(t),c.d(t,{default:()=>U});var n=c(99584),i=c(86344),o=c(43664),s=c(2496),r=c(90760),l=c(4568),a=c(89668),d=c(91552),x=c(26488),h=c(55056),j=c(55704),m=c(43924),p=c(34144),u=c(5060),g=c(84908),f=c(54096),C=c(69628),b=c(62624),y=c(90568),v=c(40804),k=c(63616),w=c(49892),B=c(52616),S=c(25496),N=c(49296),I=c(40440),_=c(74996),A=c(1816),W=c(76312),D=c(62216),L=c(8428),P=c(52216),z=c(25348),E=c(64296),F=c(97884);const U=()=>{const e=(0,W.mW)((e=>e.botsList)),t=(0,W.mW)((e=>e.organizationId)),[c,s]=(0,n.useState)(!1),[r,l]=(0,n.useState)(),a=e=>{s(!0),l(e)};return(0,F.jsxs)(F.Fragment,{children:[(0,F.jsxs)(i.cp,{container:!0,rowSpacing:4.5,columnSpacing:2.75,children:[(0,F.jsxs)(i.cp,{item:!0,xs:12,sx:{mb:-2.25},children:[(0,F.jsx)(o.c,{variant:"h5",children:"Bots List"}),(0,F.jsx)(i.cp,{item:!0,xs:12,display:"flex",justifyContent:"flex-end",children:(0,F.jsx)(T,{})})]}),e.map(((e,t)=>(0,F.jsx)(i.cp,{item:!0,xs:12,sm:6,md:4,lg:3,children:(0,F.jsx)(V,{bot:e,verifyBot:a})},t))),(0,F.jsx)(i.cp,{item:!0,md:8,sx:{display:{sm:"none",md:"block",lg:"none"}}})]}),(0,F.jsx)(E.c,{openPopUpDialog:c,setPopUpDialog:s,title:"Verify Bot Details",children:(0,F.jsx)(z.c,{setIsDeployBot:s,botId:r,organizationId:t})})]})},V=e=>{let{bot:t,verifyBot:c}=e;const{color:n,botName:l,createdAt:a,_id:d,verificationStatus:x}=t,h=(0,W.mW)((e=>e.isSuperUser)),j=async e=>await L.Jr(d,{[e.target.name]:e.target.checked},!1);return(0,F.jsxs)(A.c,{contentSX:{p:2.25},children:[(0,F.jsxs)(s.c,{spacing:.5,children:[(0,F.jsxs)(i.cp,{container:!0,direction:"row",alignItems:"center",children:[(0,F.jsx)(o.c,{variant:"h6",color:"textSecondary",children:"Bot Name"}),h&&(0,F.jsx)(w.c,{title:"Verify the bot",children:(0,F.jsx)(C.c,{style:{color:"#075C97",cursor:"pointer"},fontSize:"small",onClick:()=>c(d)})})]}),(0,F.jsx)(i.cp,{container:!0,alignItems:"center",children:(0,F.jsxs)(i.cp,{item:!0,children:[(0,F.jsx)(o.c,{variant:"h4",color:"inherit",children:l}),x?(0,F.jsxs)(i.cp,{container:!0,direction:"row",alignItems:"center",children:[(0,F.jsx)(y.c,{style:{color:"#65EE55"}}),"\xa0Verified"]}):(0,F.jsxs)(i.cp,{container:!0,direction:"row",alignItems:"center",children:[(0,F.jsx)(y.c,{style:{color:"#ff0000"}}),"\xa0Not verified"]}),(0,F.jsx)(i.cp,{item:!0,children:(0,F.jsx)(I.c,{label:"Get Presale Lead",control:(0,F.jsx)(N.c,{checked:t.getPreSaleLeads,onChange:j,name:"getPreSaleLeads"})})}),h&&(0,F.jsx)(i.cp,{item:!0,children:(0,F.jsx)(I.c,{label:"Is Bot Active",control:(0,F.jsx)(N.c,{checked:t.isBotActivate,onChange:j,name:"isBotActivate"})})})]})}),(0,F.jsxs)(i.cp,{alignItems:"right",children:[(0,F.jsx)(G,{bot:t}),(0,F.jsx)(J,{bot:t})]})]}),(0,F.jsx)(r.c,{sx:{pt:2.25},children:(0,F.jsxs)(o.c,{variant:"caption",color:"textSecondary",children:["Created on:"," ",(0,F.jsx)(o.c,{component:"span",variant:"caption",sx:{color:"".concat(n||"primary",".main")},children:(0,P._m)(a)})]})})]})},M=n.forwardRef((function(e,t){return(0,F.jsx)(l.c,{direction:"up",ref:t,...e})}));function T(){const e=(0,S.cp)((e=>{let{className:t,...c}=e;return(0,F.jsx)(w.c,{...c,arrow:!0,classes:{popper:t}})}))((e=>{let{theme:t}=e;return{["& .".concat(B.c.arrow)]:{color:t.palette.common.black},["& .".concat(B.c.tooltip)]:{backgroundColor:t.palette.common.black}}})),[t,c]=(0,n.useState)(""),[i,s]=n.useState(!1),r=()=>s(!1);return(0,F.jsxs)(F.Fragment,{children:[(0,F.jsx)(e,{title:"Add new bot",placement:"right",children:(0,F.jsx)(p.c,{color:"primary",size:"medium",onClick:()=>s(!0),children:(0,F.jsx)(u.c,{})})}),(0,F.jsxs)(a.c,{open:i,TransitionComponent:M,keepMounted:!0,onClose:r,maxWidth:"md",children:[(0,F.jsx)(d.c,{style:{width:"400px"},children:(0,F.jsx)(o.c,{color:"inherit",children:"Create New Bot"})}),(0,F.jsx)(x.c,{children:(0,F.jsx)(h.c,{fullWidth:!0,type:"text",id:"botName",name:"botName",onChange:e=>c(e.target.value),placeholder:"Bot Name",autoComplete:"off"})}),(0,F.jsxs)(j.c,{children:[(0,F.jsx)(m.c,{onClick:r,children:"Cancel"}),(0,F.jsx)(D.c,{variant:"contained",disabled:(null===t||void 0===t?void 0:t.trim().length)<3,onClick:async()=>{try{await(0,L.y0)(t),r(),(0,_.l)(!0,"New bot added successfully","success")}catch(e){(0,_.l)(!0,"Bot already exist","error")}},children:"Create"})]})]})]})}function G(e){let{bot:t}=e;const{_id:c,botName:i}=t,[s,r]=(0,n.useState)(""),[l,p]=n.useState(!1),[u,f]=(0,n.useState)(),C=()=>{r(""),p(!1)};return(0,F.jsxs)(F.Fragment,{children:[(0,F.jsx)(b.c,{"aria-label":"edit",sx:{color:v.c[500]},onClick:()=>p(!0),children:(0,F.jsx)(g.c,{})}),(0,F.jsxs)(a.c,{open:l,TransitionComponent:M,keepMounted:!0,onClose:C,maxWidth:"md",children:[(0,F.jsx)(d.c,{style:{width:"400px"},children:(0,F.jsx)(o.c,{color:"inherit",children:"Edit Bot Name"})}),(0,F.jsx)(x.c,{children:(0,F.jsx)(h.c,{fullWidth:!0,type:"text",id:"editBotName",name:"editBotName",defaultValue:i,onChange:e=>{""===e.target.value?f("Invalid Bot Name"):(f(""),r(e.target.value))},placeholder:"Bot Name",autoComplete:"off"})}),(0,F.jsxs)(j.c,{children:[u&&(0,F.jsxs)("div",{style:{color:"red"},children:[" *",u," "]}),(0,F.jsx)(m.c,{onClick:C,children:"Cancel"}),(0,F.jsx)(D.c,{variant:"contained",disabled:(null===s||void 0===s?void 0:s.trim().length)<3,onClick:async()=>{await(0,L.A1)(c,s),C(),(0,_.l)(!0,"Bot name updated successfully","success")},children:"Update"})]})]})]})}function J(e){let{bot:t}=e;const{_id:c}=t,[i,s]=n.useState(!1),r=()=>{s(!1)};return(0,F.jsxs)(F.Fragment,{children:[(0,F.jsx)(b.c,{"aria-label":"delete",sx:{color:k.c[500]},onClick:()=>{s(!0)},children:(0,F.jsx)(f.c,{})}),(0,F.jsxs)(a.c,{open:i,onClose:r,children:[(0,F.jsx)(d.c,{id:"alert-dialog-title",children:(0,F.jsx)(o.c,{gutterBottom:!0,children:"Are sure you want to delete the bot ?"})}),(0,F.jsxs)(j.c,{children:[(0,F.jsx)(m.c,{onClick:r,children:"Cancel"}),(0,F.jsx)(D.c,{variant:"contained",onClick:async()=>{await L.aE(c),s(!1)},children:"Delete"})]})]})]})}}}]);