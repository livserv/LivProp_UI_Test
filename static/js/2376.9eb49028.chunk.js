"use strict";(self.webpackChunklib_prop_ui=self.webpackChunklib_prop_ui||[]).push([[2376],{65387:(e,o,n)=>{n.d(o,{A:()=>u});var t=n(89379),i=n(80045),l=n(70006),r=n(23266),a=n(24516),s=n(44414);const d=["value","hideDescription"],c=[{value:"gpt-4o-mini",label:"GPT 4o Mini Latest (default)",description:"Current Latest Mini model of GPT 4o. Cheaper and faster than GPT 4o."},{value:"gpt-4o-mini-2024-07-18",label:"GPT 4o Mini (July 2024)",description:"Mini model of GPT 4o. Cheaper and faster than GPT 4o."},{value:"gpt-4o",label:"GPT 4o Latest",description:"Latest model of GPT 4o. More capable, cheaper and faster than GPT 4 Turbo."},{value:"gpt-4o-2024-08-06",label:"GPT 4o (Aug 2024)",description:"May 2024 Release of GPT 4o. More capable, cheaper and faster than GPT 4 Turbo."},{value:"gpt-4",label:"GPT 4 Turbo",description:"Latest stable model of GPT 4. More capable, but is 5 times costly then 3.5 models."},{value:"gpt-4-1106-preview",label:"GPT 4 Latest Preview",description:"Latest preview model of GPT 4. Most capable model, but is 3 times costly then 3.5 models."},{value:"gpt-3.5-turbo-0125",label:"GPT 3.5 Latest Stable",description:"Latest stable model of GPT 3.5. More performant. Random minor inconsistency observed sometimes."},{value:"gpt-3.5-turbo-1106",label:"GPT 3.5 Latest Preview",description:"Latest preview model of GPT 3.5. This is more accurate than latest stable, but some times non responsive while on peek loads."}],h=c.reduce(((e,o)=>(e[o.value]=o,e)),{});const u=function(e){var o;let{value:n,hideDescription:u}=e,x=(0,i.A)(e,d);return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsxs)(l.A,(0,t.A)((0,t.A)({},x),{},{value:n,defaultValue:c[0].value,children:[c.map((e=>(0,s.jsx)(r.A,{value:e.value,children:e.label},e.value))),!h[n]&&(0,s.jsx)(r.A,{value:n,children:n},n)]})),!u&&(0,s.jsx)(a.A,{id:"bot-model-description",children:n?null===(o=h[n])||void 0===o?void 0:o.description:c[0].description})]})}},55895:(e,o,n)=>{n.r(o),n.d(o,{default:()=>me});var t=n(9950),i=n(8478),l=n(33340),r=n(60899),a=n(82053),s=n(47014),d=n(70855),c=n(41507),h=n(32829),u=n(93383),x=n(26092),g=n(11172),m=n(89379),j=n(78317),p=n(74745),A=n(81616),b=n(3788),v=n(24516),C=n(2660),f=n(23114),y=n(16497),B=n(85815),L=n(10226),F=n(70006),S=n(57988),w=n(23266),M=n(29714),W=n(61467),k=n(51637),T=n(80045),z=n(27463),P=n(44414);const I=["value","onChange"];const V=function(e){let{value:o,onChange:n}=e,i=(0,T.A)(e,I);const[l,r]=t.useState(!1),a=t.useRef(),s=t.useRef(),d=e=>{let{hex:o}=e;n(i.name,o)};return t.useEffect((()=>{const e=e=>{a.current&&!a.current.contains(e.target)&&r(!1)};return document.addEventListener("click",e),()=>{document.removeEventListener("click",e)}}),[]),(0,P.jsxs)("div",{ref:a,style:{position:"relative"},children:[(0,P.jsx)("div",{style:{backgroundColor:o,height:"35px",width:"35px",position:"absolute",top:"3px",left:"3px"}}),(0,P.jsx)(C.A,(0,m.A)((0,m.A)({inputRef:s,value:o,onChange:e=>d({hex:e.currentTarget.value}),maxLength:9},i),{},{type:"text",onFocus:()=>r(!0),style:{paddingLeft:"32px"}})),l&&(0,P.jsx)("div",{style:{position:"absolute",zIndex:1,top:"45px"},children:(0,P.jsx)(z.xk,{color:o,onChange:d})})]})};var D=n(98415);const U=["value","onChange"];const N=function(e){let{value:o,onChange:n}=e,i=(0,T.A)(e,U);const l=t.useCallback((e=>n(i.name,"yes"===e.target.value)),[i.name,n]);return(0,P.jsxs)(F.A,(0,m.A)((0,m.A)({},i),{},{value:o?"yes":"no",defaultValue:o?"yes":"no",onChange:l,children:[(0,P.jsx)(w.A,{value:"no",children:"No"}),(0,P.jsx)(w.A,{value:"yes",children:"Yes"})]}))};var G=n(78023),R=n(65387),H=n(59254),E=n(10939),_=n(21788);const q=["name","value","onChange","disabled","isMultiSelect"],J=[{code:"en",name:"English",native:"English"},{code:"ar",name:"\u0627\u0644\u0639\u0631\u0628\u064a\u0629",native:"\u0627\u0644\u0639\u0631\u0628\u064a\u0629"},{code:"af",name:"Afrikaans",native:"Afrikaans"},{code:"ml",name:"\u0d2e\u0d32\u0d2f\u0d3e\u0d33\u0d02",native:"\u0d2e\u0d32\u0d2f\u0d3e\u0d33\u0d02"},{code:"kn",name:"\u0c95\u0ca8\u0ccd\u0ca8\u0ca1",native:"\u0c95\u0ca8\u0ccd\u0ca8\u0ca1"},{code:"ta",name:"\u0ba4\u0bae\u0bbf\u0bb4\u0bcd",native:"\u0ba4\u0bae\u0bbf\u0bb4\u0bcd"},{code:"gu",name:"Gujarati",native:"\u0a97\u0ac1\u0a9c\u0ab0\u0abe\u0aa4\u0ac0"}];const Y=function(e){let{name:o,value:n,onChange:i,disabled:l,isMultiSelect:r=!1}=e,a=(0,T.A)(e,q);const[s,d]=(0,t.useState)(n||[]);return(0,P.jsxs)(F.A,(0,m.A)((0,m.A)({},a),{},{multiple:r,value:s.length>0?s.map((e=>e.code)):[""],onChange:e=>{const n=e.target.value,t=J.filter((e=>n.includes(e.code)));d(t),i(o,t)},input:(0,P.jsx)(C.A,{label:"Select Languages"}),disabled:l,children:[0===s.length&&(0,P.jsx)(w.A,{value:"",children:r?"Please select the languages":"Please select the language"}),J.map((e=>(0,P.jsx)(w.A,{value:e.code,children:e.native},e.code)))]}))},O=()=>M.Yj().matches(/^#([0-9A-Fa-f]{3}){1,2}$/,"Is not a valid color code").required("Background color is required"),Q=e=>M.Yj().matches(/^(\d+px|\d+%) (\d+px|\d+%) (\d+px|\d+%) (\d+px|\d+%|\d+%)$/,"Invalid ".concat(e,"! Use the format: 1px 2px 3px 4px not a valid code")),$=M.Ik().shape({bgColor:O(),fontColor:O(),headerPadding:Q("padding"),headerLogoMargin:Q("margin"),visitorBubbleBorderCurve:Q("border-radius"),botBubbleBorderCurve:Q("border-radius")}),K={maxWidth:{xs:600,lg:700,xl:1050},margin:{xs:2.5,md:3},"& > *":{flexGrow:1,flexBasis:"50%"}};const X=function(e){let{onChange:o}=e;const[n,i]=(0,d.G)(),s=(0,l.nc)((e=>{var o,n;return null===(o=e.organization)||void 0===o||null===(n=o.availableCredits)||void 0===n?void 0:n.toFixed(3)})),[c,x]=(0,t.useState)(!1),g=(0,l.nc)((e=>e.isSuperUser));if(!i)return null;const{botName:p,botDesign:A={}}=i,b=(0,m.A)({bgColor:A.backgroundColor||"#484a49",botBorderColor:A.botBorderColor||"#484a49",botBackgroundColor:A.botBackgroundColor||"#dfd9df",botFontColor:A.botFontColor||"#000000",visitorBorderColor:A.visitorBorderColor||"#000000",visitorBackgroundColor:A.visitorBackgroundColor||"#ffffff",visitorFontColor:A.visitorFontColor||"#000000",fontType:A.fontType||"normal-font",windowAlign:A.windowAlign||"bottomRight",fontColor:A.textColor||"#484a49",titleText:p,placeholder:"Type your message...",launcherType:"bar",messageBubbleLogo:!0,botLogo:A.botLogo||{},visitorMessageLogo:A.visitorMessageLogo||{},botMessageLogo:A.botMessageLogo||{},botChatButton:A.botChatButton||{},hideLivservBranding:A.hideLivservBranding||!1,showMinimizeButtonToolTip:A.showMinimizeButtonToolTip||!0},A),v=()=>{x(!1===c)};return(0,P.jsx)(k.A,{sx:K,content:!1,border:!1,boxShadow:!0,children:(0,P.jsx)(j.A,{sx:{p:{xs:2,sm:3,md:4,xl:5}},children:(0,P.jsx)(W.l1,{initialValues:b,validationSchema:$,onSubmit:async(e,o)=>{let{setErrors:t,setStatus:i,setSubmitting:l}=o;try{var r,a,s,d,c,h,u,x;(null===(r=e.botChatButton)||void 0===r?void 0:r.name)!==(null===(a=A.botChatButton)||void 0===a?void 0:a.name)&&(e.botChatButton=A.botChatButton),(null===(s=e.botLogo)||void 0===s?void 0:s.name)!==(null===(d=A.botLogo)||void 0===d?void 0:d.name)&&(e.botLogo=A.botLogo),(null===(c=e.visitorMessageLogo)||void 0===c?void 0:c.name)!==(null===(h=A.visitorMessageLogo)||void 0===h?void 0:h.name)&&(e.visitorMessageLogo=A.visitorMessageLogo),(null===(u=e.botMessageLogo)||void 0===u?void 0:u.name)!==(null===(x=A.botMessageLogo)||void 0===x?void 0:x.name)&&(e.botMessageLogo=A.botMessageLogo),await(0,D.jo)(n,e),i({success:!1}),l(!1)}catch(g){console.error(g),i({success:!1}),t({submit:g.message}),l(!1)}},children:e=>(0,P.jsxs)("form",{noValidate:!0,onSubmit:e.handleSubmit,children:[(0,P.jsxs)(r.Ay,{container:!0,spacing:3,children:[(0,P.jsxs)(r.Ay,{item:!0,xs:12,display:"flex",justifyContent:"center",alignItems:"center",children:["Balance : \xa0",(0,P.jsxs)(a.A,{variant:"subtitle1",color:"green",children:[s,"\xa0$"]})]}),(0,P.jsx)(Z,(0,m.A)({},e)),(0,P.jsx)(ce,(0,m.A)({},e)),(0,P.jsx)(oe,(0,m.A)({},e)),(0,P.jsx)(ne,(0,m.A)({},e)),(0,P.jsx)(ee,(0,m.A)({},e)),(0,P.jsx)(te,(0,m.A)({},e)),(0,P.jsx)(r.Ay,{item:!0,xs:12,children:(0,P.jsx)(h.A,{children:(0,P.jsx)(u.A,{disableElevation:!0,fullWidth:!0,size:"large",variant:"outlined",color:"primary",onClick:v,children:"Advance settings"})})}),c&&(0,P.jsx)(re,(0,m.A)({},e)),c&&g&&(0,P.jsx)(ae,(0,m.A)({},e)),c&&(0,P.jsx)(se,(0,m.A)({},e)),(0,P.jsx)(de,(0,m.A)({},e))]}),(0,P.jsx)(he,{onChange:o})]})})})})};function Z(e){let{values:o,touched:n,errors:t,handleBlur:i,handleChange:l}=e;return(0,P.jsxs)(P.Fragment,{children:[(0,P.jsx)(r.Ay,{item:!0,xs:12,children:(0,P.jsx)(p.A,{children:(0,P.jsx)(a.A,{variant:"subtitle1",children:"General Settings"})})}),(0,P.jsx)(r.Ay,{item:!0,xs:12,children:(0,P.jsxs)(A.A,{spacing:1,children:[(0,P.jsx)(b.A,{htmlFor:"botModelName",children:"Underlying GPT Model *"}),(0,P.jsx)(R.A,{id:"botModelName",value:o.botModelName,name:"botModelName",onBlur:i,onChange:l,error:Boolean(n.botModelName&&t.botModelName)}),n.botModelName&&t.botModelName&&(0,P.jsx)(v.A,{error:!0,id:"helper-text-bg-color",children:t.botModelName})]})})]})}function ee(e){let{values:o,touched:n,errors:t,handleBlur:i,handleChange:l,setFieldValue:s}=e;return(0,P.jsxs)(P.Fragment,{children:[(0,P.jsx)(r.Ay,{item:!0,xs:12,children:(0,P.jsx)(p.A,{children:(0,P.jsx)(a.A,{variant:"subtitle1",children:"Header Settings"})})}),(0,P.jsx)(r.Ay,{item:!0,xs:12,md:4,children:(0,P.jsxs)(A.A,{spacing:1,children:[(0,P.jsx)(b.A,{htmlFor:"bgColor",children:"Background Color *"}),(0,P.jsx)(V,{id:"bgColor",type:"color",value:o.bgColor,name:"bgColor",onBlur:i,onChange:s,placeholder:"",fullWidth:!0,error:Boolean(n.bgColor&&t.bgColor)}),n.bgColor&&t.bgColor&&(0,P.jsx)(v.A,{error:!0,id:"helper-text-bg-color",children:t.bgColor})]})}),(0,P.jsx)(r.Ay,{item:!0,xs:12,md:4,children:(0,P.jsxs)(A.A,{spacing:1,children:[(0,P.jsx)(b.A,{htmlFor:"fontColor",children:"Font Color *"}),(0,P.jsx)(V,{id:"fontColor",type:"color",value:o.fontColor,name:"fontColor",onBlur:i,onChange:s,placeholder:"",fullWidth:!0,error:Boolean(n.fontColor&&t.fontColor)}),n.fontColor&&t.fontColor&&(0,P.jsx)(v.A,{error:!0,id:"helper-text-font-color",children:t.fontColor})]})}),(0,P.jsx)(r.Ay,{item:!0,xs:12,md:4,children:(0,P.jsxs)(A.A,{spacing:1,children:[(0,P.jsx)(b.A,{htmlFor:"headerFontSize",children:"Font Size"}),(0,P.jsx)(C.A,{fullWidth:!0,type:"text",id:"headerFontSize",name:"headerFontSize",defaultValue:o.headerFontSize,onChange:l,placeholder:"18px"})]})}),(0,P.jsx)(r.Ay,{item:!0,xs:12,md:6,children:(0,P.jsxs)(A.A,{spacing:1,children:[(0,P.jsx)(b.A,{htmlFor:"titleText",children:"Chat Window Title *"}),(0,P.jsx)(C.A,{fullWidth:!0,error:Boolean(n.titleText&&t.titleText),id:"titleText",value:o.titleText,name:"titleText",onBlur:i,onChange:l,placeholder:"Provide your bot title text",inputProps:{maxLength:25}}),n.titleText&&t.titleText&&(0,P.jsx)(v.A,{error:!0,id:"helper-text-bot-title",children:t.titleText})]})}),(0,P.jsx)(r.Ay,{item:!0,xs:12,md:6,children:(0,P.jsxs)(A.A,{spacing:1,children:[(0,P.jsx)(b.A,{htmlFor:"headerPadding",style:{paddingBottom:"6px"},children:"Chat Window Header Padding"}),(0,P.jsx)(C.A,{id:"headerPadding",name:"headerPadding",value:o.headerPadding,onBlur:i,onChange:l,placeholder:"padding: 2px 5px 2px 5px"}),n.headerPadding&&t.headerPadding&&(0,P.jsx)(v.A,{error:!0,id:"helper-text-bg-color",children:t.headerPadding})]})})]})}function oe(e){let{values:o,touched:n,errors:t,handleBlur:i,handleChange:l}=e;return(0,P.jsxs)(P.Fragment,{children:[(0,P.jsx)(r.Ay,{item:!0,xs:12,children:(0,P.jsx)(p.A,{children:(0,P.jsx)(a.A,{variant:"subtitle1",children:"Composer Settings"})})}),(0,P.jsx)(r.Ay,{item:!0,xs:12,children:(0,P.jsxs)(A.A,{spacing:1,children:[(0,P.jsx)(b.A,{htmlFor:"placeholder",children:"Placeholder Text *"}),(0,P.jsx)(C.A,{fullWidth:!0,error:Boolean(n.placeholder&&t.placeholder),id:"placeholder",defaultValue:o.placeholder,name:"placeholder",onBlur:i,onChange:l,placeholder:"Type your message...",inputProps:{maxLength:50}}),n.placeholder&&t.placeholder&&(0,P.jsx)(v.A,{error:!0,id:"helper-text-message-placeholder",children:t.placeholder})]})}),(0,P.jsx)(r.Ay,{item:!0,xs:12,md:6,children:(0,P.jsxs)(A.A,{spacing:1,children:[(0,P.jsx)(b.A,{htmlFor:"fontType",children:"Font source"}),(0,P.jsxs)(f.A,{row:!0,id:"fontType",name:"fontType",defaultValue:o.fontType,onChange:l,children:[(0,P.jsx)(y.A,{value:"regular",control:(0,P.jsx)(B.A,{}),label:"Regular"}),(0,P.jsx)(y.A,{value:"remote",control:(0,P.jsx)(B.A,{}),label:"Remote"})]})]})}),(0,P.jsx)(r.Ay,{item:!0,xs:12,md:6,children:(0,P.jsxs)(A.A,{spacing:1,children:[(0,P.jsx)(b.A,{htmlFor:"fontType",children:"Font name"}),(0,P.jsx)(C.A,{fullWidth:!0,id:"fontName",name:"fontName",defaultValue:o.fontName,onChange:l,placeholder:"Provide Font Name"})]})}),"remote"==o.fontType&&(0,P.jsx)(r.Ay,{item:!0,xs:12,children:(0,P.jsxs)(A.A,{spacing:1,children:[(0,P.jsx)(b.A,{htmlFor:"remoteFontLink",children:"Paste Remote Font Link"}),(0,P.jsx)(C.A,{multiline:!0,id:"remoteFontLink",name:"remoteFontLink",defaultValue:o.remoteFontLink,onChange:l,placeholder:"Ex: https://fonts.googleapis.com"})]})})]})}function ne(e){let{values:o,handleChange:n,setFieldValue:t}=e;return(0,P.jsxs)(P.Fragment,{children:[(0,P.jsx)(r.Ay,{item:!0,xs:12,children:(0,P.jsx)(p.A,{children:(0,P.jsx)(a.A,{variant:"subtitle1",children:"Chat Window Settings"})})}),(0,P.jsx)(r.Ay,{item:!0,xs:12,md:4,children:(0,P.jsxs)(A.A,{spacing:1,children:[(0,P.jsx)(b.A,{id:"windowAlign",children:"Window Align"}),(0,P.jsxs)(F.A,{labelId:"windowAlign",defaultValue:o.windowAlign,name:"windowAlign",onChange:n,children:[(0,P.jsx)(w.A,{value:"bottomLeft",children:"Bottom Left"}),(0,P.jsx)(w.A,{value:"bottomRight",children:"Bottom Right"})]})]})}),(0,P.jsx)(r.Ay,{item:!0,xs:12,md:4,children:(0,P.jsxs)(A.A,{spacing:1,children:[(0,P.jsx)(b.A,{htmlFor:"paddingLeft",children:"Spacing on corner"}),(0,P.jsx)(C.A,{fullWidth:!0,type:"text",id:"paddingLeft",name:"paddingLeft",defaultValue:o.paddingLeft,onChange:n,placeholder:"0px"})]})}),(0,P.jsx)(r.Ay,{item:!0,xs:12,md:4,children:(0,P.jsxs)(A.A,{spacing:1,children:[(0,P.jsx)(b.A,{htmlFor:"paddingBottom",children:"Spacing on Bottom"}),(0,P.jsx)(C.A,{fullWidth:!0,type:"text",id:"paddingBottom",name:"paddingBottom",defaultValue:o.paddingBottom,onChange:n,placeholder:"0px"})]})}),(0,P.jsx)(r.Ay,{item:!0,xs:12,md:6,children:(0,P.jsxs)(A.A,{spacing:1,children:[(0,P.jsx)(b.A,{id:"autoLaunch",children:"Desktop proactive window"}),(0,P.jsx)(N,{value:o.autoLaunch,name:"autoLaunch",defaultValue:!1,onChange:t})]})}),(0,P.jsx)(r.Ay,{item:!0,xs:12,md:6,children:(0,P.jsxs)(A.A,{spacing:1,children:[(0,P.jsx)(b.A,{id:"mobileAutoLaunch",children:"Mobile proactive window"}),(0,P.jsx)(N,{value:o.mobileAutoLaunch,name:"mobileAutoLaunch",defaultValue:!1,onChange:t})]})}),(0,P.jsx)(r.Ay,{item:!0,xs:12,md:6,children:(0,P.jsxs)(A.A,{spacing:1,children:[(0,P.jsx)(b.A,{htmlFor:"chatWindowWidth",children:"Chat Window Width"}),(0,P.jsx)(C.A,{fullWidth:!0,type:"text",id:"chatWindowWidth",name:"chatWindowWidth",defaultValue:o.chatWindowWidth,onChange:n,placeholder:"380px"})]})}),(0,P.jsx)(r.Ay,{item:!0,xs:12,md:6,children:(0,P.jsxs)(A.A,{spacing:1,children:[(0,P.jsx)(b.A,{htmlFor:"chatWindowHeight",children:"Chat Window Height"}),(0,P.jsx)(C.A,{fullWidth:!0,type:"text",id:"chatWindowHeight",name:"chatWindowHeight",defaultValue:o.chatWindowHeight,onChange:n,placeholder:"500px"})]})}),(0,P.jsx)(r.Ay,{item:!0,xs:12,md:6,children:(0,P.jsxs)(A.A,{spacing:1,children:[(0,P.jsx)(b.A,{htmlFor:"mobileChatWindowWidth",children:"Mobile Chat Window Width"}),(0,P.jsx)(C.A,{fullWidth:!0,type:"text",id:"mobileChatWindowWidth",name:"mobileChatWindowWidth",defaultValue:o.mobileChatWindowWidth,onChange:n,placeholder:"380px"})]})}),(0,P.jsx)(r.Ay,{item:!0,xs:12,md:6,children:(0,P.jsxs)(A.A,{spacing:1,children:[(0,P.jsx)(b.A,{htmlFor:"mobileChatWindowHeight",children:"Mobile Chat Window Height"}),(0,P.jsx)(C.A,{fullWidth:!0,type:"text",id:"mobileChatWindowHeight",name:"mobileChatWindowHeight",defaultValue:o.mobileChatWindowHeight,onChange:n,placeholder:"500px"})]})}),(0,P.jsx)(r.Ay,{item:!0,xs:12,children:(0,P.jsx)(p.A,{children:(0,P.jsx)(a.A,{variant:"subtitle1",children:"Chat Window Language Settings"})})}),(0,P.jsx)(r.Ay,{item:!0,xs:12,md:6,children:(0,P.jsxs)(A.A,{spacing:1,children:[(0,P.jsx)(b.A,{id:"multiLanguageChat",children:"Enable multi language chat"}),(0,P.jsx)(N,{value:o.multiLanguageChat,name:"multiLanguageChat",defaultValue:!1,onChange:t})]})}),(0,P.jsx)(r.Ay,{item:!0,xs:12,md:6,children:(0,P.jsxs)(A.A,{spacing:1,children:[(0,P.jsx)(b.A,{id:"translateLanguages",children:"Select languages"}),(0,P.jsx)(Y,{onChange:t,name:"translateLanguages",value:o.translateLanguages||[],disabled:!o.multiLanguageChat||"No"===o.multiLanguageChat,isMultiSelect:!0})]})}),(0,P.jsx)(r.Ay,{item:!0,xs:12,md:6,children:(0,P.jsxs)(A.A,{spacing:1,children:[(0,P.jsx)(b.A,{id:"defaultLanguage",children:"Select default languages"}),(0,P.jsx)(Y,{onChange:t,name:"defaultLanguage",value:o.defaultLanguage||[],disabled:!o.multiLanguageChat||"No"===o.multiLanguageChat,isMultiSelect:!1})]})})]})}function te(e){var o;let{values:n,errors:t,handleBlur:i,touched:l,handleChange:s,setFieldValue:d}=e;return(0,P.jsxs)(P.Fragment,{children:[(0,P.jsx)(r.Ay,{item:!0,xs:12,children:(0,P.jsx)(p.A,{children:(0,P.jsx)(a.A,{variant:"subtitle1",children:"Header Logo Settings"})})}),(0,P.jsxs)(r.Ay,{item:!0,xs:12,md:6,children:[(0,P.jsx)(b.A,{htmlFor:"uploadHeaderLogo",children:"Upload Header Logo"}),(0,P.jsx)(le,{imageUrl:null===(o=n.botLogo)||void 0===o?void 0:o.url,imageName:"botLogo",onChange:d,bgColor:n.bgColor})]}),(0,P.jsx)(r.Ay,{item:!0,xs:12,md:6,children:(0,P.jsxs)(A.A,{spacing:1,children:[(0,P.jsx)(b.A,{htmlFor:"headerLogoMargin",children:"Header Logo Margin"}),(0,P.jsx)(C.A,{id:"headerLogoMargin",name:"headerLogoMargin",value:n.headerLogoMargin,onBlur:i,onChange:s,placeholder:"border : 1px 2px 3px 4px"}),l.headerLogoMargin&&t.headerLogoMargin&&(0,P.jsx)(v.A,{error:!0,id:"helper-text-bg-color",children:t.headerLogoMargin})]})}),(0,P.jsx)(r.Ay,{item:!0,xs:12,md:6,children:(0,P.jsxs)(A.A,{spacing:1,children:[(0,P.jsx)(b.A,{htmlFor:"logoWidth",children:"Width"}),(0,P.jsx)(C.A,{fullWidth:!0,type:"text",id:"logoWidth",name:"logoWidth",defaultValue:n.logoWidth,onChange:s,placeholder:"64px"})]})}),(0,P.jsx)(r.Ay,{item:!0,xs:12,md:6,children:(0,P.jsxs)(A.A,{spacing:1,children:[(0,P.jsx)(b.A,{htmlFor:"logoHeight",children:"Height"}),(0,P.jsx)(C.A,{fullWidth:!0,type:"text",id:"logoHeight",name:"logoHeight",defaultValue:n.logoHeight,onChange:s,placeholder:"64px"})]})})]})}const ie=(0,H.Ay)("input")({clip:"rect(0 0 0 0)",clipPath:"inset(50%)",height:1,overflow:"hidden",position:"absolute",bottom:0,left:0,whiteSpace:"nowrap",width:1});function le(e){let{imageUrl:o,imageName:n,maxImageSize:i=25e4,onChange:l,bgColor:s}=e;const[d,c]=(0,t.useState)(null),[x,g]=(0,t.useState)(o),m=s&&null!==x&&void 0!==x&&x.endsWith(".png")?s:"transparent",j=!!d,p=!j&&o,b=x?"Replace image":"Select image";return(0,P.jsxs)(P.Fragment,{children:[x&&(0,P.jsx)(r.Ay,{item:!0,xs:12,children:(0,P.jsx)("img",{src:x,alt:"headerLogo",height:50,style:{backgroundColor:m}})}),(0,P.jsxs)(A.A,{spacing:2,direction:"row",children:[(0,P.jsxs)(L.A,{component:"label",variant:"contained",children:[b,(0,P.jsx)(ie,{name:n,type:"file",onChange:e=>{try{const o=e.target.files[0],n=o.size;if(o.type.startsWith("image/")&&n<=i){c(o),g(URL.createObjectURL(o));const e=new FileReader;e.onloadend=()=>{g(e.result)},e.readAsDataURL(o)}else(0,_.i)(!0,"Please upload valid image file and size is <= ".concat(i/1e3," kb"),"error"),c(null),e.target.value=null}catch(o){console.log("Error uploading the image ::",o),(0,_.i)(!0,"Please select the image file","error"),e.target.value=null}}},d?d.name:"")]}),p&&(0,P.jsx)(L.A,{variant:"outlined",onClick:async()=>{try{await(0,D.Ci)(n),l(n,null),g(null),c(null),(0,_.i)(!0,"Logo deleted successfully.","success")}catch(e){console.log("Deleting logo failed. Please try again later.",e)}},startIcon:(0,P.jsx)(S.A,{}),children:"Delete"}),j&&(0,P.jsx)(h.A,{children:(0,P.jsx)(u.A,{color:"primary",variant:"contained",startIcon:(0,P.jsx)(E.A,{}),onClick:async()=>{try{const e=await(0,D.I4)(n,d);l(n,e),c(null),(0,_.i)(!0,"Logo uploaded successfully.","success")}catch(e){console.log("File upload failed. Please try again later.",e)}},ml:5,children:"Upload"})})]}),d&&(0,P.jsxs)(a.A,{variant:"body2",children:["File Name : ",d.name," "]})]})}function re(e){let{values:o,handleChange:n}=e;return(0,P.jsxs)(P.Fragment,{children:[(0,P.jsx)(r.Ay,{item:!0,xs:12,children:(0,P.jsx)(p.A,{children:(0,P.jsx)(a.A,{variant:"subtitle1",children:"Legal requirements"})})}),(0,P.jsx)(r.Ay,{item:!0,xs:12,md:12,children:(0,P.jsxs)(A.A,{spacing:1,children:[(0,P.jsx)(b.A,{htmlFor:"chatDisclaimer",children:"Chat Disclaimer"}),(0,P.jsx)(C.A,{fullWidth:!0,type:"text",id:"chatDisclaimer",name:"chatDisclaimer",defaultValue:o.chatDisclaimer,onChange:n,inputProps:{maxLength:260},placeholder:"Provide the disclaimer to be shown in chat window"})]})})]})}function ae(e){let{values:o,setFieldValue:n}=e;return(0,P.jsxs)(P.Fragment,{children:[(0,P.jsx)(r.Ay,{item:!0,xs:12,children:(0,P.jsx)(p.A,{children:(0,P.jsx)(a.A,{variant:"subtitle1",children:"Hide Livserv branding"})})}),(0,P.jsx)(r.Ay,{item:!0,xs:12,md:6,children:(0,P.jsxs)(A.A,{spacing:1,children:[(0,P.jsx)(b.A,{htmlFor:"hideLivservBranding",children:"Hide Livserv branding"}),(0,P.jsx)(N,{id:"hideLivservBranding",name:"hideLivservBranding",value:o.hideLivservBranding,defaultValue:!1,onChange:n})]})})]})}function se(e){var o,n;let{values:t,touched:i,errors:l,handleBlur:s,handleChange:d,setFieldValue:c}=e;return(0,P.jsxs)(P.Fragment,{children:[(0,P.jsx)(r.Ay,{item:!0,xs:12,children:(0,P.jsx)(p.A,{children:(0,P.jsx)(a.A,{variant:"subtitle1",children:"Message Bubble Settings"})})}),(0,P.jsx)(r.Ay,{item:!0,xs:12,md:6,children:(0,P.jsxs)(A.A,{spacing:1,children:[(0,P.jsx)(b.A,{htmlFor:"messageBubbleLogo",children:"Show Message Bubble Logo"}),(0,P.jsx)(N,{id:"messageBubbleLogo",name:"messageBubbleLogo",value:t.messageBubbleLogo,defaultValue:!1,onChange:c})]})}),(0,P.jsx)(r.Ay,{item:!0,xs:12,md:6,children:(0,P.jsxs)(A.A,{spacing:1,children:[(0,P.jsx)(b.A,{htmlFor:"fontSize",children:"Font Size"}),(0,P.jsx)(C.A,{fullWidth:!0,type:"text",id:"fontSize",name:"fontSize",defaultValue:t.fontSize,onChange:d,placeholder:"12px"})]})}),(0,P.jsx)(r.Ay,{item:!0,xs:12,children:(0,P.jsx)(a.A,{variant:"overline",display:"block",style:{color:"#9C27B0"},children:"Visitor Bubble Settings"})}),t.messageBubbleLogo&&(0,P.jsxs)(r.Ay,{item:!0,xs:12,children:[(0,P.jsx)(b.A,{htmlFor:"uploadVisitorLogo",children:"Upload Visitor Logo"}),(0,P.jsx)(le,{imageUrl:null===(o=t.visitorMessageLogo)||void 0===o?void 0:o.url,imageName:"visitorMessageLogo",maxImageSize:5e4,onChange:c})]}),(0,P.jsx)(r.Ay,{item:!0,xs:12,md:6,children:(0,P.jsxs)(A.A,{spacing:1,children:[(0,P.jsx)(b.A,{htmlFor:"visitorBackgroundColor",children:"Background Color"}),(0,P.jsx)(V,{id:"visitorBackgroundColor",type:"color",value:t.visitorBackgroundColor,name:"visitorBackgroundColor",onBlur:s,onChange:c,placeholder:"",fullWidth:!0,error:Boolean(i.visitorBackgroundColor&&l.visitorBackgroundColor)}),i.visitorBackgroundColor&&l.visitorBackgroundColor&&(0,P.jsx)(v.A,{error:!0,id:"helper-text-bg-color",children:l.visitorBackgroundColor})]})}),(0,P.jsx)(r.Ay,{item:!0,xs:12,md:6,children:(0,P.jsxs)(A.A,{spacing:1,children:[(0,P.jsx)(b.A,{htmlFor:"visitorFontColor",children:"Font Color"}),(0,P.jsx)(V,{id:"visitorFontColor",type:"color",value:t.visitorFontColor,name:"visitorFontColor",onBlur:s,onChange:c,placeholder:"",fullWidth:!0,error:Boolean(i.visitorFontColor&&l.visitorFontColor)}),i.visitorFontColor&&l.visitorFontColor&&(0,P.jsx)(v.A,{error:!0,id:"helper-text-bg-color",children:l.visitorFontColor})]})}),t.visitorLogo&&(0,P.jsx)(r.Ay,{item:!0,xs:12,children:(0,P.jsxs)(A.A,{spacing:1,children:[(0,P.jsx)(b.A,{htmlFor:"visitorLogoImage",children:"Upload Visitor Logo"}),(0,P.jsx)(C.A,{fullWidth:!0,type:"file",id:"visitorLogoImage",name:"visitorLogoImage",onChange:d,placeholder:"0px"})]})}),(0,P.jsx)(r.Ay,{item:!0,xs:12,md:6,children:(0,P.jsxs)(A.A,{spacing:1,children:[(0,P.jsx)(b.A,{htmlFor:"visitorBorderColor",children:"Border Color"}),(0,P.jsx)(V,{id:"visitorBorderColor",type:"color",value:t.visitorBorderColor,name:"visitorBorderColor",onBlur:s,onChange:c,placeholder:"",fullWidth:!0,error:Boolean(i.visitorBorderColor&&l.visitorBorderColor)}),i.visitorBorderColor&&l.visitorBorderColor&&(0,P.jsx)(v.A,{error:!0,id:"helper-text-bg-color",children:l.visitorBorderColor})]})}),(0,P.jsx)(r.Ay,{item:!0,xs:12,md:6,children:(0,P.jsxs)(A.A,{spacing:1,children:[(0,P.jsx)(b.A,{htmlFor:"visitorBubbleBorderCurve",style:{paddingBottom:"6px"},children:"Border Radius"}),(0,P.jsx)(C.A,{id:"visitorBubbleBorderCurve",name:"visitorBubbleBorderCurve",value:t.visitorBubbleBorderCurve,onBlur:s,onChange:d,placeholder:"border : 1px 2px 3px 4px"}),i.visitorBubbleBorderCurve&&l.visitorBubbleBorderCurve&&(0,P.jsx)(v.A,{error:!0,id:"helper-text-bg-color",children:l.visitorBubbleBorderCurve})]})}),(0,P.jsx)(r.Ay,{item:!0,xs:12,children:(0,P.jsx)(a.A,{variant:"overline",display:"block",style:{color:"#9C27B0"},children:"Bot Bubble Settings"})}),t.messageBubbleLogo&&(0,P.jsxs)(r.Ay,{item:!0,xs:12,children:[(0,P.jsx)(b.A,{htmlFor:"uploadBotLogo",children:"Upload Bot Logo"}),(0,P.jsx)(le,{imageUrl:null===(n=t.botMessageLogo)||void 0===n?void 0:n.url,imageName:"botMessageLogo",maxImageSize:5e4,onChange:c})]}),(0,P.jsx)(r.Ay,{item:!0,xs:12,md:6,children:(0,P.jsxs)(A.A,{spacing:1,children:[(0,P.jsx)(b.A,{htmlFor:"botBackgroundColor",children:"Background Color"}),(0,P.jsx)(V,{id:"botBackgroundColor",type:"color",value:t.botBackgroundColor,name:"botBackgroundColor",onBlur:s,onChange:c,placeholder:"",fullWidth:!0,error:Boolean(i.botBackgroundColor&&l.botBackgroundColor)}),i.botBackgroundColor&&l.botBackgroundColor&&(0,P.jsx)(v.A,{error:!0,id:"helper-text-bg-color",children:l.botBackgroundColor})]})}),(0,P.jsx)(r.Ay,{item:!0,xs:12,md:6,children:(0,P.jsxs)(A.A,{spacing:1,children:[(0,P.jsx)(b.A,{htmlFor:"botFontColor",children:"Font Color"}),(0,P.jsx)(V,{id:"botFontColor",type:"color",value:t.botFontColor,name:"botFontColor",onBlur:s,onChange:c,placeholder:"",fullWidth:!0,error:Boolean(i.botFontColor&&l.botFontColor)}),i.botFontColor&&l.botFontColor&&(0,P.jsx)(v.A,{error:!0,id:"helper-text-bg-color",children:l.botFontColor})]})}),(0,P.jsx)(r.Ay,{item:!0,xs:12,md:6,children:(0,P.jsxs)(A.A,{spacing:1,children:[(0,P.jsx)(b.A,{htmlFor:"botBorderColor",children:"Border Color"}),(0,P.jsx)(V,{id:"botBorderColor",type:"color",value:t.botBorderColor,name:"botBorderColor",onBlur:s,onChange:c,placeholder:"",fullWidth:!0,error:Boolean(i.botBorderColor&&l.botBorderColor)}),i.botBorderColor&&l.botBorderColor&&(0,P.jsx)(v.A,{error:!0,id:"helper-text-bg-color",children:l.botBorderColor})]})}),(0,P.jsx)(r.Ay,{item:!0,xs:12,md:6,children:(0,P.jsxs)(A.A,{spacing:1,children:[(0,P.jsx)(b.A,{htmlFor:"botBubbleBorderCurve",style:{paddingBottom:"6px"},children:"Border Radius"}),(0,P.jsx)(C.A,{id:"botBubbleBorderCurve",name:"botBubbleBorderCurve",value:t.botBubbleBorderCurve,onBlur:s,onChange:d,placeholder:"border : 1px 2px 3px 4px"}),i.botBubbleBorderCurve&&l.botBubbleBorderCurve&&(0,P.jsx)(v.A,{error:!0,id:"helper-text-bg-color",children:l.botBubbleBorderCurve})]})})]})}function de(e){let{errors:o,isSubmitting:n}=e;return(0,P.jsx)(P.Fragment,{children:(0,P.jsxs)(r.Ay,{item:!0,xs:12,children:[(0,P.jsx)(v.A,{error:!0,children:o.submit}),(0,P.jsx)(h.A,{children:(0,P.jsx)(u.A,{disableElevation:!0,disabled:Boolean(o.submit),isLoading:n,fullWidth:!0,size:"large",type:"submit",variant:"contained",color:"primary",children:"Save Settings"})})]})})}function ce(e){var o;let{values:n,handleChange:t,setFieldValue:i}=e;return(0,P.jsxs)(P.Fragment,{children:[(0,P.jsx)(r.Ay,{item:!0,xs:12,children:(0,P.jsx)(p.A,{children:(0,P.jsx)(a.A,{variant:"subtitle1",children:"Chat Launcher Settings"})})}),(0,P.jsx)(r.Ay,{item:!0,xs:12,md:6,children:(0,P.jsxs)(A.A,{spacing:1,children:[(0,P.jsx)(b.A,{htmlFor:"messagePlaceholder",children:"Chat Launcher Type *"}),(0,P.jsxs)(f.A,{row:!0,name:"launcherType",defaultValue:n.launcherType,onChange:t,children:[(0,P.jsx)(y.A,{value:"icon",control:(0,P.jsx)(B.A,{}),label:"Button"}),(0,P.jsx)(y.A,{value:"bar",control:(0,P.jsx)(B.A,{}),label:"Bar"}),(0,P.jsx)(y.A,{value:"expand",control:(0,P.jsx)(B.A,{}),label:"Expand Button"})]})]})}),"bar"!==n.launcherType&&(0,P.jsxs)(r.Ay,{item:!0,xs:12,md:6,children:[(0,P.jsx)(b.A,{htmlFor:"uploadChatButton",children:"Upload Chat Button"}),(0,P.jsx)(le,{imageUrl:null===(o=n.botChatButton)||void 0===o?void 0:o.url,imageName:"botChatButton",onChange:i})]}),"bar"===n.launcherType&&(0,P.jsx)(r.Ay,{item:!0,xs:12,md:6,children:(0,P.jsxs)(A.A,{spacing:1,children:[(0,P.jsx)(b.A,{id:"buttonOnMobile",children:"Button on Mobile"}),(0,P.jsx)(N,{name:"buttonOnMobile",value:n.buttonOnMobile,defaultValue:!1,onChange:i})]})}),(0,P.jsx)(r.Ay,{item:!0,xs:12,md:6,children:(0,P.jsxs)(A.A,{spacing:1,children:[(0,P.jsx)(b.A,{htmlFor:"launcherSpacingCorner",children:"Spacing on corner"}),(0,P.jsx)(C.A,{fullWidth:!0,type:"text",id:"launcherSpacingCorner",name:"launcherSpacingCorner",defaultValue:n.launcherSpacingCorner,onChange:t,placeholder:"0px"})]})}),(0,P.jsx)(r.Ay,{item:!0,xs:12,md:6,children:(0,P.jsxs)(A.A,{spacing:1,children:[(0,P.jsx)(b.A,{htmlFor:"launcherSpacingBottom",children:"Spacing on Bottom"}),(0,P.jsx)(C.A,{fullWidth:!0,type:"text",id:"launcherSpacingBottom",name:"launcherSpacingBottom",defaultValue:n.launcherSpacingBottom,onChange:t,placeholder:"0px"})]})}),(0,P.jsx)(r.Ay,{item:!0,xs:12,md:6,children:(0,P.jsxs)(A.A,{spacing:1,children:[(0,P.jsx)(b.A,{id:"showMinimizeButtonToolTip",children:"Show We are online bubble"}),(0,P.jsx)(N,{value:n.showMinimizeButtonToolTip,name:"showMinimizeButtonToolTip",defaultValue:!1,onChange:i})]})})]})}function he(e){let{onChange:o}=e;const{values:n}=(0,W.j7)();return t.useEffect((()=>{n&&o((0,G.Y)(n))}),[n,o]),null}var ue=n(34735),xe=n(73225),ge=n(31739);const me=()=>{var e;const[o,n]=t.useState(),[m,j]=(0,t.useState)(!1),[p,A]=t.useState({}),[b,v]=t.useState(),[C,f]=(0,d.G)(),[y,B]=(0,t.useState)(!1),L=(0,l.nc)((e=>e.organizationId)),{isSuperUser:F}=(0,l.nc)();if(t.useEffect((()=>{L&&C&&i.Jt("/bot/".concat(L,"/").concat(C,"/chat/startup-flow"),{recipientId:(0,ge.J)()}).then((e=>v(e||!1)))}),[C,L]),void 0===b)return;const S=e=>{n(e),j(!0)};return(0,P.jsxs)(r.Ay,{container:!0,rowSpacing:4.5,columnSpacing:2.75,children:[(0,P.jsx)(r.Ay,{item:!0,xs:12,sx:{mb:-2.25},children:(0,P.jsxs)(r.Ay,{container:!0,alignItems:"center",justifyContent:"space-between",children:[(0,P.jsx)(r.Ay,{item:!0,xs:6,children:(0,P.jsx)(a.A,{variant:"h5",children:"Chat Window Design"})}),(0,P.jsxs)(r.Ay,{item:!0,xs:6,container:!0,justifyContent:"flex-end",children:[(0,P.jsx)(h.A,{children:(0,P.jsx)(u.A,{isLoading:y,disabled:y,variant:"contained",color:"success",size:"large",onClick:()=>B(!0),children:"Deploy Bot"})}),(0,P.jsx)(x.A,{openPopUpDialog:y,setPopUpDialog:B,title:"Add Bot Details",children:(0,P.jsx)(g.A,{setIsDeployBot:B,botId:C,organizationId:L})})]})]})}),(0,P.jsx)(r.Ay,{item:!0,xs:12,sm:12,md:12,lg:8,children:(0,P.jsx)(X,{onChange:A})}),(0,P.jsxs)(r.Ay,{item:!0,xs:12,sm:12,md:12,lg:4,children:[(0,P.jsx)(s.A,{botDetails:f,botDesign:p,startupFlow:b,autoLaunch:null===f||void 0===f||null===(e=f.botDesign)||void 0===e?void 0:e.autoLaunch,recipientId:(0,ge.J)(),onReceiveChatResponse:e=>(0,c.NC)(e.organization),onCallback:ge.u,optionsRenderer:e=>{const{role:o,type:n,passedDocIds:t,searchQuery:i}=e||{};if("assistant"===o&&"text"===n&&(null!==t&&void 0!==t&&t.length||i))return(0,P.jsx)("span",{className:"show-icon",onClick:()=>S(e),children:(0,P.jsx)(ue.A,{})})}}),(0,P.jsx)(x.A,{openPopUpDialog:m,setPopUpDialog:j,title:"View and update Knowledge base",children:o&&(0,P.jsx)(xe.A,{message:o,onClose:()=>o(null),isSuperUser:F})})]}),(0,P.jsx)(r.Ay,{item:!0,md:8,sx:{display:{sm:"none",md:"block",lg:"none"}}})]})}},6834:(e,o,n)=>{n.d(o,{A:()=>b});var t=n(9950),i=n(60899),l=n(3788),r=n(81616),a=n(2660),s=n(10226),d=n(29714),c=n(61467),h=n(24516),u=n(21788),x=n(32829),g=n(93383),m=n(77382),j=n(44414);const p=()=>d.Yj(),A=d.Ik().shape({question:p(),content:p()});const b=function(e){let{document:o={},onCancel:n,onUpdate:d}=e;const p=t.useCallback((()=>n(!1)),[n]);return(0,j.jsx)(c.l1,{initialValues:o,validationSchema:A,onSubmit:async(e,o)=>{let{setStatus:n,setSubmitting:t}=o;try{const o=await(0,m.Mk)(e);n({success:!1}),t(!1),p(),(0,u.i)(!0,"Content added successfully!","success"),null===d||void 0===d||d(o)}catch(i){console.error(i),(0,u.i)(!0,"Error occurred while trying to save content.","error")}},children:e=>{let{values:o,errors:n,handleChange:t,touched:d,isSubmitting:c,handleSubmit:u}=e;return(0,j.jsxs)("form",{noValidate:!0,onSubmit:u,children:[(0,j.jsxs)(i.Ay,{item:!0,xs:12,mt:5,children:[(0,j.jsx)(l.A,{htmlFor:"question",children:"Question"}),(0,j.jsxs)(r.A,{spacing:2,mb:3,children:[(0,j.jsx)(a.A,{multiline:!0,fullWidth:!0,id:"question",name:"question",value:o.question,onChange:t,placeholder:"Please enter the question"}),d.question&&n.question&&(0,j.jsx)(h.A,{error:!0,id:"helper-text-message-placeholder",children:n.question})]}),(0,j.jsx)(l.A,{htmlFor:"content",children:"Answer"}),(0,j.jsxs)(r.A,{spacing:2,mb:3,children:[(0,j.jsx)(a.A,{multiline:!0,rows:6,fullWidth:!0,id:"content",name:"content",value:o.content,onChange:t,placeholder:"Please enter the answer"}),d.content&&n.content&&(0,j.jsx)(h.A,{error:!0,id:"helper-text-message-placeholder",children:n.content})]})]}),(0,j.jsx)(i.Ay,{item:!0,xs:12,display:"flex",justifyContent:"flex-end",children:(0,j.jsxs)(r.A,{spacing:2,direction:"row",children:[(0,j.jsx)(s.A,{variant:"outlined",onClick:p,children:"Cancel"}),(0,j.jsx)(x.A,{children:(0,j.jsx)(g.A,{isLoading:c,color:"primary",size:"large",type:"submit",variant:"contained",onClick:u,children:"Save"})})]})})]})}})}},68033:(e,o,n)=>{n.d(o,{A:()=>B});var t=n(89379),i=n(9950),l=n(60899),r=n(82053),a=n(10226),s=n(63464),d=n(40033),c=n(79739),h=n(57988),u=n(7999),x=n(25333),g=n(63359),m=n(85967),j=n(74745),p=n(21788),A=n(32829),b=n(93383),v=n(70855),C=n(6834),f=n(77382),y=n(44414);const B=function(e){let{docsList:o,onUpdate:n}=e;const[,t]=(0,v.G)();return null===o||void 0===o?void 0:o.map(((e,o)=>(0,y.jsx)(L,{index:o,document:e,trainingMedia:t.trainingMedia,onUpdate:n},e._id)))};function L(e){let{document:o,index:n,trainingMedia:t,onUpdate:l}=e;const[r,a]=i.useState(!1);return r?(0,y.jsx)(C.A,{document:o,onCancel:a,onUpdate:l}):(0,y.jsx)(F,{index:n,document:o,trainingMedia:t,onEdit:a})}function F(e){let{document:o,index:n,trainingMedia:t,onEdit:a}=e;const s=i.useCallback((()=>a(!0)),[a]);return(0,y.jsxs)(l.Ay,{container:!0,mt:1,children:[(0,y.jsxs)(l.Ay,{item:!0,children:[(0,y.jsxs)(r.A,{variant:"h5",children:["Q",n+1," . ",o.question]}),(0,y.jsxs)(r.A,{variant:"body2",children:[(0,y.jsx)("b",{children:"Ans . "})," ",o.content]}),o.sourceDocument&&(null===t||void 0===t?void 0:t.length)>0&&(0,y.jsx)(S,{document:o,trainingMedia:t})]}),(0,y.jsxs)(l.Ay,{xs:12,item:!0,display:"flex",justifyContent:"flex-end",children:[(0,y.jsx)(x.A,{size:"small",sx:{color:g.A[500]},onClick:s,children:(0,y.jsx)(u.A,{})}),(0,y.jsx)(w,{documentId:o._id})]}),(0,y.jsx)(j.A,{xs:12,sx:{width:"100%",borderColor:"#b6abab"}})]})}function S(e){let{document:o,trainingMedia:n}=e;const l=o.sourceDocument,a=i.useMemo((()=>{const e=n.filter((e=>e.docId===l))[0];if(!e)return e;const o=decodeURIComponent(e.url.substring(e.url.lastIndexOf("/")+1));return(0,t.A)((0,t.A)({},e),{},{fileName:o})}),[l,n]);return a?(0,y.jsxs)(r.A,{variant:"body2",children:[(0,y.jsx)("b",{children:"Source Document:"})," ",(0,y.jsxs)("a",{href:a.url,rel:"noreferrer",target:"_blank",style:{cursor:"pointer"},children:[a.fileName,a.name?" ( ".concat(a.name," )"):""]})]}):null}function w(e){let{documentId:o}=e;const[n,t]=i.useState(!1),l=()=>t((e=>!e)),u=i.useCallback((async()=>{await(0,f.CA)(o),t(!1),(0,p.i)(!0,"Deleted response successfully","success")}),[o]);return(0,y.jsxs)(y.Fragment,{children:[(0,y.jsx)(x.A,{sx:{color:m.A[500]},onClick:l,children:(0,y.jsx)(h.A,{})}),n&&(0,y.jsxs)(s.A,{open:n,onClose:l,children:[(0,y.jsx)(d.A,{id:"delete-confirm-dialog-title",children:(0,y.jsx)(r.A,{gutterBottom:!0,children:"Are sure you want to delete the response ?"})}),(0,y.jsxs)(c.A,{children:[(0,y.jsx)(a.A,{onClick:l,children:"Cancel"}),(0,y.jsx)(A.A,{children:(0,y.jsx)(b.A,{color:"primary",type:"submit",variant:"contained",onClick:u,children:"Delete"})})]})]})]})}},73225:(e,o,n)=>{n.d(o,{A:()=>d});var t=n(9950),i=n(68033),l=n(77382),r=n(65387),a=n(93383),s=n(44414);const d=function(e){let{message:o,isSuperUser:n,onReplay:d}=e;const{content:c,searchQuery:h,passedDocIds:u,index:x,model:g}=o,[m,j]=(0,t.useState)([]),[p,A]=(0,t.useState)(g);(0,t.useEffect)((()=>{(0,l.L3)(u).then(j)}),[u]),(0,t.useEffect)((()=>{A(o.model)}),[o]);const b=t.useCallback((e=>{var o;return A(null===(o=e.target)||void 0===o?void 0:o.value)}),[]);return(0,s.jsxs)("div",{className:"kb-docs-editor",children:[(0,s.jsxs)("div",{children:[(0,s.jsx)("strong",{children:"Selected Bot: "}),(0,s.jsx)(r.A,{value:p,hideDescription:!0,onChange:b}),(0,s.jsx)(a.A,{style:{marginLeft:8},variant:"contained",color:"primary",size:"medium",onClick:()=>d(x,p),children:"Replay"})]}),(0,s.jsxs)("div",{className:"ellipsis",children:[(0,s.jsx)("strong",{children:"Message: "}),(0,s.jsx)("span",{title:c,children:c})]}),n&&h&&(0,s.jsxs)("div",{className:"ellipsis",children:[(0,s.jsx)("strong",{children:"Search Query: "}),(0,s.jsx)("span",{children:h})]}),(0,s.jsx)("div",{children:(0,s.jsx)(i.A,{docsList:m,onUpdate:e=>j((o=>o.map((o=>o._id===e._id?e:o))))})})]})}},41507:(e,o,n)=>{n.d(o,{Ds:()=>d,L_:()=>a,NC:()=>s,YS:()=>r,cw:()=>h,qb:()=>c});var t=n(89379),i=n(8478),l=n(33340);async function r(e,o){const n=await async function(){const e=l.nc.getState();let{organizationList:o,organizationId:n,organization:t}=e;if(!e.isSuperUser||Array.isArray(o))return;if(o=await i.bE("/organization/list"),o.length)if(n=n||sessionStorage.getItem("orgId"),n){if(!t){var r;t=null===(r=o)||void 0===r?void 0:r.filter((e=>e._id===n))[0]}}else{const e=o[0];n=e._id,t=e}return l.nc.setState({organizationList:o,organizationId:n,organization:t}),!0}(),{organizationId:t}=l.nc.getState();return e?e!==t&&l.nc.setState({organizationId:e}):e=t,!e||(n||await async function(e){const o=await i.bE("/organization/get-organization-by-id",{organizationId:e});l.nc.setState({organization:o})}(e),await d(e,o),!0)}async function a(e,o){o||(o=l.nc.getState().organizationId);const n=await i.yJ("/organization/".concat(o),e);l.nc.setState((e=>{const{organizationList:i,organizationId:l,organization:r}=e,a={};return l===o&&(a.organization=(0,t.A)((0,t.A)({},r),n)),i&&(a.organizationList=i.map((e=>e._id===o?(0,t.A)((0,t.A)({},e),n):e))),a}))}function s(e){if(!e||"object"!==typeof e)return;let{organization:o}=l.nc.getState();o&&(o=(0,t.A)((0,t.A)({},o),e),l.nc.setState({organization:o}))}async function d(e,o){var n;const t=await i.Jt("/bot/".concat(e,"/list")),r=o||(null===(n=t[0])||void 0===n?void 0:n._id),a=t.reduce(((e,o)=>(e[o._id]=o,e)),{});return l.nc.setState({organizationId:e,botsList:t,botsMap:a,selectedBotId:r}),r}function c(e){l.nc.setState({selectedBotId:e})}async function h(){const e=await i.Jt("/organization/invoice/list");l.nc.setState({organizationsInvoiceList:e})}},70855:(e,o,n)=>{n.d(o,{G:()=>i});var t=n(33340);function i(e){const o=(0,t.nc)((e=>e.selectedBotId)),n=(0,t.nc)((n=>n.botsMap[e||o]));return[e||o,n]}}}]);