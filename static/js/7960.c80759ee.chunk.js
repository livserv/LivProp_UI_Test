"use strict";(self.webpackChunklib_prop_ui=self.webpackChunklib_prop_ui||[]).push([[7960],{8478:(e,n,t)=>{t.d(n,{Jt:()=>d,TF:()=>h,bE:()=>c,yJ:()=>u});var a=t(89379),o=t(80045),r=t(32026),s=t(44364);const l=["headers","noAuth"],i=["data"];async function d(e,n){return m("GET",e,n,arguments.length>2&&void 0!==arguments[2]?arguments[2]:{})}async function c(e,n){return m("POST",e,n,arguments.length>2&&void 0!==arguments[2]?arguments[2]:{})}async function u(e,n){return m("PUT",e,n,arguments.length>2&&void 0!==arguments[2]?arguments[2]:{})}async function h(e,n){return m("DELETE",e,n,arguments.length>2&&void 0!==arguments[2]?arguments[2]:{})}async function m(e,n,t){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},{headers:s,noAuth:d}=r,c=(0,o.A)(r,l);const u="POST"===e||"PUT"===e||"DELETE"===e;n=function(e,n){if(!e)return e;const t=n&&Object.keys(n);if(null!==t&&void 0!==t&&t.length){const a=t.reduce((e,t)=>{let a=n[t];return null===a||void 0===a?e:(a="".concat(t,"=").concat(encodeURIComponent(a)),e?"".concat(e,"&").concat(a):a)},"");a&&(e="".concat(e).concat(e.includes("?")?"&":"?").concat(a))}if(e.startsWith("https://"))return e;return"".concat(A).concat(e)}(n,u?void 0:t);const h=t instanceof FormData;if(h||(t=t&&"object"===typeof t&&u?JSON.stringify(t):void 0),s||(s={}),h||(s["Content-Type"]="application/json"),s.Accept="application/json",!1!==d){const e=sessionStorage.getItem("token");e&&(s.Authorization="Bearer ".concat(e))}try{const r=await fetch(n,(0,a.A)((0,a.A)({},c),{},{headers:s,body:t,method:e}));if("blob"===c.responseType){const e=await r.blob(),n=function(e,n){var t;const a=e.headers.get("content-disposition");return(null===a||void 0===a||null===(t=a.match(/filename="?([^"]+)"?/))||void 0===t?void 0:t[1])||n||"download.xlsx"}(r,c.fileName);return void function(e,n){const t=URL.createObjectURL(e),a=document.createElement("a");a.href=t,a.download=n,a.click(),URL.revokeObjectURL(t)}(e,n)}const l=await r.json();if(r.ok){const{data:e}=l,n=(0,o.A)(l,i);return delete n.status,e&&!Object.keys(n).length?e:l}throw l.message?new Error(l.message):l}catch(x){var m;throw console.error("Error calling API: ",x),null!==(m=x.message)&&void 0!==m&&m.includes("fetch")?new Error("Unable to reach server. Please check your network connectivity and try again."):new Error(x.message)}}const A=(0,r.s8)(s.jn,"/")},32026:(e,n,t)=>{t.d(n,{G6:()=>i,Ke:()=>m,OX:()=>c,PE:()=>h,TZ:()=>A,Yq:()=>l,do:()=>u,qW:()=>d,s8:()=>r,wE:()=>x});var a=t(89379),o=t(44364);function r(e,n){return e.replace(new RegExp("".concat(s(n),"+$")),"")}function s(e){return e.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")}function l(e){const n=new Date(e),t=n.getDate(),a=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"][n.getMonth()],o=n.getFullYear();return"".concat(a," ").concat(t,", ").concat(o)}function i(e,n,t){if(!n&&!e)return t;e=e||{};const o=Array.isArray(e)?[...e]:(0,a.A)({},e);if(n.includes(".")){const a=n.indexOf("."),r=n.substring(0,a),s=n.substring(a+1);o[r]=i(e[r],s,t)}else o[n]=t;return o}function d(e,n){return btoa("".concat(e,"_").concat(n,"_whatsapp_int"))}function c(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:12;const n="abcdefghijklmnopqrstuvwxyz0123456789";let t="";for(let a=0;a<e;a++)t+=n.charAt(Math.floor(36*Math.random()));return t}function u(e,n,t){if(!n&&!e)return t;e=e||{};const o=Array.isArray(e)?[...e]:(0,a.A)({},e);if(n.includes(".")){const a=n.indexOf("."),r=n.substring(0,a),s=n.substring(a+1);o[r]=u(e[r],s,t)}else o[n]=t;return o}function h(e,n){const t=new Blob([e],{type:arguments.length>2&&void 0!==arguments[2]?arguments[2]:"text/csv"}),a=document.createElement("a");a.href=URL.createObjectURL(t),a.download=n,document.body.appendChild(a),a.click(),document.body.removeChild(a)}function m(e,n){return!n||n.startsWith("http")?n:(n.startsWith("/")&&(n=n.substring(1)),"".concat(o.J,"/").concat(e,"/").concat(n))}function A(e){let n=document.querySelector("link[rel~='icon']");n||(n=document.createElement("link"),n.rel="icon",document.getElementsByTagName("head")[0].appendChild(n)),null!==e&&void 0!==e&&e.domain?null!==e&&void 0!==e&&e.favicon&&(n.href=m(null===e||void 0===e?void 0:e.domain,null===e||void 0===e?void 0:e.favicon)):n.href="/favicon.png"}function x(e){null!==e&&void 0!==e&&e.domain?null!==e&&void 0!==e&&e.displayName&&(document.title=null===e||void 0===e?void 0:e.displayName):document.title="LivServ"}},32829:(e,n,t)=>{t.d(n,{A:()=>r});var a=t(79875),o=t(44414);function r(e){let{children:n,type:t}=e;return(0,o.jsx)(a.P.div,{whileHover:{scale:1},whileTap:{scale:.9},children:n})}r.defaultProps={type:"scale"}},44364:(e,n,t)=>{t.d(n,{DX:()=>d,J:()=>i,Og:()=>r,Rc:()=>c,jn:()=>a,mB:()=>l,pA:()=>s,pR:()=>o});const a="https://devbackend.livhousing.com",o="c17b949cf58c45cae47ce1cc65efc8240f77a2a69ca09ad4c4208852",r={NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0,REACT_APP_WEB_SOCKET_AUTH_KEY:"wFSMmt7sfsbNJLabQvVdKNrjga6diuvwuLaD3to2RbQ=",REACT_APP_RVM_BACKEND_URL:"https://devbackend.livhousing.com/",REACT_APP_IP_DATA_API_KEY:"c17b949cf58c45cae47ce1cc65efc8240f77a2a69ca09ad4c4208852",REACT_APP_VERSION:"1",REACT_APP_GOOGLE_MAPS_API_KEY:"AIzaSyAQMYGdP2AmloNtJm4ZDrJxPuSfuo2RSXM",REACT_APP_BACKEND_URL:"https://devbackend.livhousing.com",REACT_APP_RVM_WEB_SOCKET_URL:"wss://devbackend.livhousing.com/voice/ws"}.TRAINING_MEDIA_MAXSIZE,s={NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0,REACT_APP_WEB_SOCKET_AUTH_KEY:"wFSMmt7sfsbNJLabQvVdKNrjga6diuvwuLaD3to2RbQ=",REACT_APP_RVM_BACKEND_URL:"https://devbackend.livhousing.com/",REACT_APP_IP_DATA_API_KEY:"c17b949cf58c45cae47ce1cc65efc8240f77a2a69ca09ad4c4208852",REACT_APP_VERSION:"1",REACT_APP_GOOGLE_MAPS_API_KEY:"AIzaSyAQMYGdP2AmloNtJm4ZDrJxPuSfuo2RSXM",REACT_APP_BACKEND_URL:"https://devbackend.livhousing.com",REACT_APP_RVM_WEB_SOCKET_URL:"wss://devbackend.livhousing.com/voice/ws"}.CONVERSATION_MEDIA_MAXSIZE,l="AIzaSyAQMYGdP2AmloNtJm4ZDrJxPuSfuo2RSXM",i="https://livserv-organizations.s3.ap-south-1.amazonaws.com",d={NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0,REACT_APP_WEB_SOCKET_AUTH_KEY:"wFSMmt7sfsbNJLabQvVdKNrjga6diuvwuLaD3to2RbQ=",REACT_APP_RVM_BACKEND_URL:"https://devbackend.livhousing.com/",REACT_APP_IP_DATA_API_KEY:"c17b949cf58c45cae47ce1cc65efc8240f77a2a69ca09ad4c4208852",REACT_APP_VERSION:"1",REACT_APP_GOOGLE_MAPS_API_KEY:"AIzaSyAQMYGdP2AmloNtJm4ZDrJxPuSfuo2RSXM",REACT_APP_BACKEND_URL:"https://devbackend.livhousing.com",REACT_APP_RVM_WEB_SOCKET_URL:"wss://devbackend.livhousing.com/voice/ws"}.REACT_APP_NGROK_BACKEND_URL||"https://devbackend.livhousing.com",c="https://devbackend.livhousing.com/"},49823:(e,n,t)=>{t.d(n,{A:()=>c});var a=t(89379),o=t(80045),r=t(9950),s=t(70006),l=t(23266),i=t(44414);const d=["value","onChange"];const c=function(e){let{value:n,onChange:t}=e,c=(0,o.A)(e,d);const u=r.useCallback(e=>t(c.name,"yes"===e.target.value),[c.name,t]);return(0,i.jsxs)(s.A,(0,a.A)((0,a.A)({},c),{},{value:n?"yes":"no",defaultValue:n?"yes":"no",onChange:u,children:[(0,i.jsx)(l.A,{value:"no",children:"No"}),(0,i.jsx)(l.A,{value:"yes",children:"Yes"})]}))}},51637:(e,n,t)=>{t.d(n,{A:()=>A});var a=t(89379),o=t(80045),r=t(9950),s=t(14857),l=t(48089),i=t(45180),d=t(82053),c=t(50704),u=t(44414);const h=["border","boxShadow","children","content","contentSX","darkTitle","elevation","secondary","shadow","sx","title"],m={p:2.5,"& .MuiCardHeader-action":{m:"0px auto",alignSelf:"center"}},A=(0,r.forwardRef)((e,n)=>{let{border:t=!0,boxShadow:r,children:A,content:x=!0,contentSX:g={},darkTitle:p,elevation:y,secondary:v,shadow:f,sx:j={},title:C}=e,b=(0,o.A)(e,h);const w=(0,s.A)();return r="dark"===w.palette.mode?r||!0:r,(0,u.jsxs)(l.A,(0,a.A)((0,a.A)({elevation:y||0,ref:n},b),{},{sx:(0,a.A)({border:t?"1px solid":"none",borderRadius:2,borderColor:"dark"===w.palette.mode?w.palette.divider:w.palette.grey.A800,boxShadow:!r||t&&"dark"!==w.palette.mode?"inherit":f||w.customShadows.z1,":hover":{boxShadow:r?f||w.customShadows.z1:"inherit"},"& pre":{m:0,p:"16px !important",fontFamily:w.typography.fontFamily,fontSize:"0.75rem"}},j),children:[!p&&C&&(0,u.jsx)(i.A,{sx:m,titleTypographyProps:{variant:"subtitle1"},title:C,action:v}),p&&C&&(0,u.jsx)(i.A,{sx:m,title:(0,u.jsx)(d.A,{variant:"h3",children:C}),action:v}),x&&(0,u.jsx)(c.A,{sx:g,children:A}),!x&&A]}))})},64362:(e,n,t)=>{t.r(n),t.d(n,{default:()=>k});var a=t(80045),o=t(89379),r=t(9950),s=t(78317),l=t(60899),i=t(74745),d=t(82053),c=t(81616),u=t(3788),h=t(23114),m=t(16497),A=t(85815),x=t(93038),g=t(24516),p=t(2660),y=t(31446),v=t(61467),f=t(51637),j=t(32829),C=t(70855),b=t(98415),w=t(93383),_=t(97601),E=t(90771),P=t(33340),S=t(10226),T=t(47813),I=t(44414);const R=function(e){var n,t,a,o,r,s,d,h;let{tagManagerIds:m,index:A,handleBlur:x,handleChange:y,errors:v,touched:f,remove:j}=e;const C="urlBasedGoogleTagManagerIds.".concat(A),b=(null===f||void 0===f||null===(n=f.urlBasedGoogleTagManagerIds)||void 0===n||null===(t=n[A])||void 0===t?void 0:t.url)&&(null===v||void 0===v||null===(a=v.urlBasedGoogleTagManagerIds)||void 0===a||null===(o=a[A])||void 0===o?void 0:o.url),w=(null===f||void 0===f||null===(r=f.urlBasedGoogleTagManagerIds)||void 0===r||null===(s=r[A])||void 0===s?void 0:s.tagManagerId)&&(null===v||void 0===v||null===(d=v.urlBasedGoogleTagManagerIds)||void 0===d||null===(h=d[A])||void 0===h?void 0:h.tagManagerId);return(0,I.jsxs)(I.Fragment,{children:[(0,I.jsxs)(l.Ay,{container:!0,spacing:1,children:[(0,I.jsx)(l.Ay,{item:!0,xs:12,md:7,children:(0,I.jsxs)(c.A,{spacing:1,children:[(0,I.jsx)(u.A,{htmlFor:"".concat(C,".url"),children:"Page Url"}),(0,I.jsx)(p.A,{id:"".concat(C,".url"),name:"".concat(C,".url"),type:"text",value:m.url,autoComplete:"off",onBlur:x,onChange:y,placeholder:"www.url.com",fullWidth:!0,error:Boolean(b)}),b&&(0,I.jsx)(g.A,{error:!0,id:"helper-text-".concat(C,".url"),children:v.urlBasedGoogleTagManagerIds[A].url})]})}),(0,I.jsx)(l.Ay,{item:!0,xs:12,md:3,children:(0,I.jsxs)(c.A,{spacing:1,children:[(0,I.jsx)(u.A,{htmlFor:"".concat(C,".tagManagerId"),children:"Tag Manager Id"}),(0,I.jsx)(p.A,{id:"".concat(C,".tagManagerId"),name:"".concat(C,".tagManagerId"),type:"text",value:m.tagManagerId,autoComplete:"off",onBlur:x,onChange:y,placeholder:"GTM-XXXXXX",fullWidth:!0,error:Boolean(w)}),w&&(0,I.jsx)(g.A,{error:!0,id:"helper-text-".concat(C,".tagManagerId"),children:v.urlBasedGoogleTagManagerIds[A].tagManagerId})]})}),(0,I.jsx)(l.Ay,{item:!0,xs:12,md:1,children:(0,I.jsxs)(c.A,{spacing:1,children:[(0,I.jsx)(u.A,{children:"Delete"}),(0,I.jsx)(T.A,{sx:{cursor:"pointer",color:"#ee2a2a"},onClick:()=>j(A)})]})})]}),(0,I.jsx)(i.A,{sx:{mt:2,mb:2}})]})};const M=function(){const{values:e,errors:n,touched:t,handleBlur:a,handleChange:r,setFieldValue:s,isSubmitting:c}=(0,v.j7)(),u=e.urlBasedGoogleTagManagerIds||[];return(0,I.jsxs)(I.Fragment,{children:[(0,I.jsx)(l.Ay,{item:!0,xs:12,children:(0,I.jsx)(i.A,{children:(0,I.jsx)(d.A,{variant:"subtitle1",children:"Url based Tag Manager Id"})})}),(0,I.jsx)(l.Ay,{item:!0,xs:12,children:(0,I.jsx)(v.ED,{name:"urlBasedGoogleTagManagerIds",children:e=>{let{push:i}=e;return(0,I.jsxs)(I.Fragment,{children:[u.map((e,l)=>(0,I.jsx)(R,{tagManagerIds:e,index:l,handleBlur:a,handleChange:r,errors:n,touched:t,remove:e=>{const n=u.filter((n,t)=>t!==e);s("urlBasedGoogleTagManagerIds",n.map((e,n)=>(0,o.A)((0,o.A)({},e),{},{itemNo:n+1})))}},l)),(0,I.jsx)(l.Ay,{container:!0,justifyContent:"flex-end",children:(0,I.jsx)(l.Ay,{item:!0,children:(0,I.jsx)(S.A,{sx:{ml:2},variant:"contained",size:"large",onClick:()=>i({url:"",tagManagerId:""}),disabled:c,children:"Add Tag Manager Id"})})})]})}})})]})};t(13953);var F=t(49823);const D=["id","name","value","onChange"],K={margin:{xs:2.5,md:3},"& > *":{flexGrow:1,flexBasis:"50%"}},L={leadCaptureType:"flow",leadCaptureFormMode:"count",showFormAfterChats:3,defaultCountryCode:{countryId:"in",dialCode:"+91"},isWhatsAppEnabled:!1};const k=function(){const[e,n]=(0,C.G)();if(!n)return null;const{botSettings:t=L}=n;return(0,I.jsx)(f.A,{sx:K,content:!1,border:!1,boxShadow:!0,children:(0,I.jsx)(s.A,{sx:{p:{xs:2,sm:3,md:4,xl:5}},children:(0,I.jsx)(v.l1,{initialValues:t,onSubmit:async(n,t)=>{let{setErrors:a,setStatus:o,setSubmitting:r}=t;try{await(0,b.gR)(e,n),o({success:!1}),r(!1),(0,_.i)(!0,"Settings saved successfully!","success")}catch(s){console.error(s),(0,_.i)(!0,"Unable to save settings. Please try again later.","error"),o({success:!1}),a({submit:s.message}),r(!1)}},children:e=>(0,I.jsx)("form",{noValidate:!0,onSubmit:e.handleSubmit,children:(0,I.jsxs)(l.Ay,{container:!0,spacing:3,children:[(0,I.jsx)(B,(0,o.A)({},e)),(0,I.jsx)(O,(0,o.A)({},e)),(0,I.jsx)(U,(0,o.A)({},e)),(0,I.jsx)(V,(0,o.A)({},e)),(0,I.jsx)(M,(0,o.A)({},e)),(0,I.jsx)(G,(0,o.A)({},e))]})})})})})};function N(e){"Enter"===e.key&&e.preventDefault()}function B(e){var n,t,a,o;let{values:s,touched:p,errors:y,handleBlur:v,handleChange:f,setFieldValue:j}=e;const C="form"===s.leadCaptureType,b="form"!==s.leadCaptureType||"keyword"===s.leadCaptureFormMode,[w,_]=r.useState((null===(n=s.defaultCountryCode)||void 0===n?void 0:n.countryId)||"in"),[P,S]=r.useState((null===(t=s.defaultCountryCode)||void 0===t?void 0:t.dialCode)||"+91");return(0,I.jsxs)(I.Fragment,{children:[(0,I.jsx)(l.Ay,{item:!0,xs:12,children:(0,I.jsx)(i.A,{children:(0,I.jsx)(d.A,{variant:"subtitle1",children:"Lead Capture Settings"})})}),(0,I.jsx)(l.Ay,{item:!0,xs:12,md:6,children:(0,I.jsxs)(c.A,{spacing:1,children:[(0,I.jsx)(u.A,{htmlFor:"leadCaptureType",children:"Input Type"}),(0,I.jsxs)(h.A,{value:s.leadCaptureType,defaultValue:"flow",name:"leadCaptureType",onChange:f,children:[(0,I.jsx)(m.A,{value:"flow",control:(0,I.jsx)(A.A,{}),label:"Flow"}),(0,I.jsx)(m.A,{value:"form",control:(0,I.jsx)(A.A,{}),label:"Form"})]})]})}),C&&(0,I.jsx)(l.Ay,{item:!0,xs:12,md:6,children:(0,I.jsxs)(c.A,{spacing:1,children:[(0,I.jsx)(u.A,{htmlFor:"leadCaptureFormMode",children:"When you want the form to be displayed?"}),(0,I.jsxs)(h.A,{value:s.leadCaptureFormMode,defaultValue:"count",id:"leadCaptureFormMode",name:"leadCaptureFormMode",onChange:f,children:[(0,I.jsx)(m.A,{value:"keyword",control:(0,I.jsx)(A.A,{}),label:"Show form when the keyword matches"}),(0,I.jsx)(m.A,{value:"count",control:(0,I.jsx)(A.A,{}),label:(0,I.jsxs)(I.Fragment,{children:["Show form after conversations:"," ",(0,I.jsx)("input",{value:null===(a=s.showFormAfterChats)||void 0===a?void 0:a.toString(),maxLength:2,style:{width:"50px"},disabled:"form"!==s.leadCaptureType||s.leadCaptureFormMode&&"count"!==s.leadCaptureFormMode,onChange:e=>j("showFormAfterChats",W(e.target.value,s.showFormAfterChats)),onKeyDown:N})]})})]})]})}),!C&&(0,I.jsx)(l.Ay,{item:!0,xs:12,md:6,children:(0,I.jsxs)(c.A,{spacing:1,children:[(0,I.jsx)(u.A,{htmlFor:"leadCaptureFlowMandatory",children:"Can user proceed without providing contact details?"}),(0,I.jsx)(m.A,{value:"keyword",control:(0,I.jsx)(x.A,{checked:s.leadCaptureFlowMandatory,name:"leadCaptureFlowMandatory",onChange:f}),label:"Make the input mandatory"}),(0,I.jsx)(m.A,{value:"keyword",control:(0,I.jsx)(x.A,{checked:s.isWhatsAppEnabled,name:"isWhatsAppEnabled",onChange:f}),label:"Is WhatsApp Enabled"})]})}),(0,I.jsx)(l.Ay,{item:!0,xs:12,md:6,children:(0,I.jsxs)(c.A,{spacing:1,children:[(0,I.jsx)(u.A,{id:"validateContactForEachChat",children:"Validate Contact For Each Chat"}),(0,I.jsx)(F.A,{name:"validateContactForEachChat",value:s.validateContactForEachChat,defaultValue:!1,onChange:j})]})}),(0,I.jsx)(l.Ay,{item:!0,xs:12,md:12,children:"Default Phone number country code in contact form"}),(0,I.jsxs)(l.Ay,{item:!0,xs:12,md:3,sx:{position:"relative",display:"flex",alignItems:"center"},children:[(0,I.jsx)(E.cf,{selectedCountry:w,onSelect:e=>{let{iso2:n,dialCode:t}=e;_(n),j("defaultCountryCode",{countryId:n,dialCode:"+"+t}),S("+"+t)},onBlur:v,country:w,name:"defaultCountryCode",id:"defaultCountryCode"}),(0,I.jsxs)("span",{style:{marginLeft:"8px"},children:[" ",P]})]}),(0,I.jsxs)(l.Ay,{item:!0,xs:12,md:12,children:["Number of visitor messages send to GPT for answer"," ",(0,I.jsx)("input",{value:(null===(o=s.maxChatMessagesToSentToGPT)||void 0===o?void 0:o.toString())||17,maxLength:2,style:{width:"50px"},onChange:e=>j("maxChatMessagesToSentToGPT",W(e.target.value,s.maxChatMessagesToSentToGPT)),onKeyDown:N})]}),b&&(0,I.jsx)(l.Ay,{item:!0,xs:12,children:(0,I.jsxs)(c.A,{spacing:1,children:[(0,I.jsx)(u.A,{htmlFor:"phoneNumberKeywords",children:"Keywords for Phone Number Collection *"}),(0,I.jsx)(z,{name:"phoneNumberKeywords",value:s.phoneNumberKeywords||[],error:Boolean(p.phoneNumberKeywords&&y.phoneNumberKeywords),onBlur:v,onChange:j,placeholder:"Type keyword and press enter to add more...",inputProps:{maxLength:25}}),p.phoneNumberKeywords&&y.phoneNumberKeywords&&(0,I.jsx)(g.A,{error:!0,id:"helper-text-email-keywords",children:y.phoneNumberKeywords})]})}),b&&(0,I.jsx)(l.Ay,{item:!0,xs:12,children:(0,I.jsxs)(c.A,{spacing:1,children:[(0,I.jsx)(u.A,{htmlFor:"emailKeywords",children:"Keywords for Email Address Collection *"}),(0,I.jsx)(z,{name:"emailKeywords",value:s.emailKeywords||[],error:Boolean(p.emailKeywords&&y.emailKeywords),onBlur:v,onChange:j,placeholder:"Type keyword and press enter to add more...",inputProps:{maxLength:25}}),p.emailKeywords&&y.emailKeywords&&(0,I.jsx)(g.A,{error:!0,id:"helper-text-email-keywords",children:y.emailKeywords})]})})]})}function O(e){let{values:n,handleChange:t}=e;return(0,I.jsxs)(I.Fragment,{children:[(0,I.jsx)(l.Ay,{item:!0,xs:12,children:(0,I.jsx)(i.A,{children:(0,I.jsx)(d.A,{variant:"subtitle1",children:"Bot Industry and Role settings"})})}),(0,I.jsx)(l.Ay,{item:!0,xs:12,md:4,children:(0,I.jsxs)(c.A,{spacing:1,children:[(0,I.jsx)(u.A,{htmlFor:"industry",children:"Industry"}),(0,I.jsx)(p.A,{id:"industry",name:"industry",value:n.industry,onChange:t,"aria-label":"industry",onKeyDown:N})]})}),(0,I.jsx)(l.Ay,{item:!0,xs:12,md:4,children:(0,I.jsxs)(c.A,{spacing:1,children:[(0,I.jsx)(u.A,{htmlFor:"botRole",children:"Bot Role"}),(0,I.jsx)(p.A,{id:"botRole",name:"botRole",defaultValue:n.botRole,onChange:t,"aria-label":"bot role",onKeyDown:N})]})}),(0,I.jsx)(l.Ay,{item:!0,xs:12,md:4,children:(0,I.jsxs)(c.A,{spacing:1,children:[(0,I.jsx)(u.A,{htmlFor:"organizationName",children:"Organization Name"}),(0,I.jsx)(p.A,{id:"organizationName",name:"organizationName",defaultValue:n.organizationName,onChange:t,"aria-label":"organization name",onKeyDown:N})]})})]})}function V(e){let{values:n,handleChange:t}=e;const a=(0,P.nc)(e=>e.isSuperUser);return(0,I.jsxs)(I.Fragment,{children:[(0,I.jsx)(l.Ay,{item:!0,xs:12,children:(0,I.jsx)(i.A,{children:(0,I.jsx)(d.A,{variant:"subtitle1",children:"Allow / Block chat window"})})}),(0,I.jsx)(l.Ay,{item:!0,xs:12,md:6,children:(0,I.jsxs)(c.A,{spacing:1,children:[(0,I.jsx)(u.A,{htmlFor:"allowedIP",children:"Allowed IP"}),(0,I.jsx)(p.A,{id:"allowedIP",name:"allowedIP",value:n.allowedIP,onChange:t,"aria-label":"empty textarea",placeholder:"Ex: 192.167.22.340, 192.167.22.341",onKeyDown:N})]})}),(0,I.jsx)(l.Ay,{item:!0,xs:12,md:6,children:(0,I.jsxs)(c.A,{spacing:1,children:[(0,I.jsx)(u.A,{htmlFor:"deniedIP",children:"Denied IP"}),(0,I.jsx)(p.A,{id:"deniedIP",name:"deniedIP",defaultValue:n.deniedIP,onChange:t,"aria-label":"empty textarea",placeholder:"Ex: 192.167.22.340, 192.167.22.341",onKeyDown:N})]})}),a&&(0,I.jsxs)(I.Fragment,{children:[(0,I.jsx)(l.Ay,{item:!0,xs:12,md:6,children:(0,I.jsxs)(c.A,{spacing:1,children:[(0,I.jsx)(u.A,{htmlFor:"allowedPages",children:"Allowed Pages"}),(0,I.jsx)(p.A,{id:"allowedPages",name:"allowedPages",defaultValue:n.allowedPages,onChange:t,"aria-label":"empty textarea",placeholder:"Ex: https://xyz.com, https://abc.com",onKeyDown:N})]})}),(0,I.jsx)(l.Ay,{item:!0,xs:12,md:6,children:(0,I.jsxs)(c.A,{spacing:1,children:[(0,I.jsx)(u.A,{htmlFor:"deniedPages",children:"Denied Pages"}),(0,I.jsx)(p.A,{id:"deniedPages",name:"deniedPages",defaultValue:n.deniedPages,onChange:t,"aria-label":"empty textarea",placeholder:"Ex: https://xyz.com, https://abc.com",onKeyDown:N})]})}),(0,I.jsx)(l.Ay,{item:!0,xs:12,md:6,children:(0,I.jsxs)(c.A,{spacing:1,children:[(0,I.jsx)(u.A,{htmlFor:"allowedCountries",children:"Allowed Countries"}),(0,I.jsx)(p.A,{id:"allowedCountries",name:"allowedCountries",defaultValue:n.allowedCountries,onChange:t,"aria-label":"empty textarea",placeholder:"Ex: India, Oman, Australia",onKeyDown:N})]})}),(0,I.jsx)(l.Ay,{item:!0,xs:12,md:6,children:(0,I.jsxs)(c.A,{spacing:1,children:[(0,I.jsx)(u.A,{htmlFor:"deniedCountries",children:"Denied Countries"}),(0,I.jsx)(p.A,{id:"deniedCountries",name:"deniedCountries",defaultValue:n.deniedCountries,onChange:t,"aria-label":"empty textarea",placeholder:"Ex: Sri Lanka, Bhutan",onKeyDown:N})]})})]})]})}function U(e){let{values:n,setFieldValue:t}=e;return(0,I.jsxs)(I.Fragment,{children:[(0,I.jsx)(l.Ay,{item:!0,xs:12,children:(0,I.jsx)(i.A,{children:(0,I.jsx)(d.A,{variant:"subtitle1",children:"Activate Consolidated Leads Reports"})})}),(0,I.jsx)(l.Ay,{item:!0,xs:12,md:4,children:(0,I.jsxs)(c.A,{spacing:1,children:[(0,I.jsx)(u.A,{children:"Daily Consolidated Lead Email"}),(0,I.jsx)(F.A,{name:"sendDailyConsolidatedLeadEmail",value:n.sendDailyConsolidatedLeadEmail,defaultValue:!1,onChange:t})]})}),(0,I.jsx)(l.Ay,{item:!0,xs:12,md:4,children:(0,I.jsxs)(c.A,{spacing:1,children:[(0,I.jsx)(u.A,{children:"Weekly Consolidated Lead Email"}),(0,I.jsx)(F.A,{name:"sendWeeklyConsolidatedLeadEmail",value:n.sendWeeklyConsolidatedLeadEmail,defaultValue:!1,onChange:t})]})}),(0,I.jsx)(l.Ay,{item:!0,xs:12,md:4,children:(0,I.jsxs)(c.A,{spacing:1,children:[(0,I.jsx)(u.A,{children:"Monthly Consolidated Lead Email"}),(0,I.jsx)(F.A,{name:"sendMonthlyConsolidatedLeadEmail",value:n.sendMonthlyConsolidatedLeadEmail,defaultValue:!1,onChange:t})]})})]})}function G(e){let{errors:n,isSubmitting:t}=e;return(0,I.jsxs)(I.Fragment,{children:[n.submit&&(0,I.jsx)(l.Ay,{item:!0,xs:12,children:(0,I.jsx)(g.A,{error:!0,children:n.submit})}),(0,I.jsx)(l.Ay,{item:!0,xs:12,mt:2,children:(0,I.jsx)(j.A,{children:(0,I.jsx)(w.A,{disableElevation:!0,isLoading:t,fullWidth:!0,size:"large",type:"submit",variant:"contained",color:"primary",children:"Save Settings"})})})]})}function W(e,n){return e?isNaN(e)?n:Number(e):e}function z(e){let{id:n,name:t,value:s,onChange:l}=e,i=(0,a.A)(e,D);const d=r.useRef(),c=e=>l(t,e);return(0,I.jsx)(y.b,(0,o.A)({ref:d,id:n||t,name:t,addOnBlur:!0,value:s||[],onChange:c,onInputChange:e=>{e.endsWith(",")&&(s=[...s,e.substring(0,e.length-1)],c(s),d.current.value="")}},i))}},70855:(e,n,t)=>{t.d(n,{G:()=>o});var a=t(33340);function o(e){const n=(0,a.nc)(e=>e.selectedBotId),t=(0,a.nc)(t=>t.botsMap[e||n]);return[e||n,t]}},93383:(e,n,t)=>{t.d(n,{A:()=>c});var a=t(89379),o=t(80045),r=t(9950),s=t(10226),l=t(46639),i=t(44414);const d=["onClick","disabled","isLoading","children"];const c=function(e){let{onClick:n,disabled:t,isLoading:c,children:u}=e,h=(0,o.A)(e,d);const[m,A]=r.useState(c);return(0,i.jsxs)(s.A,(0,a.A)((0,a.A)({onClick:e=>{if(!n)return;const t=n(e);"function"===typeof(null===t||void 0===t?void 0:t.finally)&&(A(!0),t.finally(()=>A(!1)))},disabled:m||c||t},h),{},{children:[(m||c)&&(0,i.jsx)(l.A,{size:16,color:"primary",style:{marginRight:"10px"}}),u]}))}},98415:(e,n,t)=>{t.d(n,{Ci:()=>h,I4:()=>u,TF:()=>d,gI:()=>l,gR:()=>A,jo:()=>c,rv:()=>x,so:()=>m,yo:()=>i});var a=t(89379),o=t(8478),r=t(33340),s=t(32026);async function l(e){const{organization:{websiteUrl:n,_id:t}}=r.nc.getState(),a={organizationId:t,websiteUrl:n,botName:e,botDesign:{visitorMessageLogo:{name:"",url:""},botMessageLogo:{name:"",url:""},botChatButton:{name:"",url:""},botLogo:{name:"",url:""},backgroundColor:"#e7a654",textColor:"#ffffff",dimensions:{heightInPixel:"500px",heightInPercent:"70%",widthInPixel:"350px",widthInPercent:"25%"},botLogoDimensions:{heightInPixel:"30px",heightInPercent:"100%",widthInPixel:"30px",widthInPercent:"100%"}}};g(await o.bE("/bot/".concat(t),a),!0)}async function i(e,n,t){const{organizationId:a}=r.nc.getState();if(!a||!e)throw new Error("Bot details not found");const s=await o.yJ("/bot/".concat(a,"/").concat(e),n);return g(s,t),s}async function d(e){const{organizationId:n,selectedBotId:t}=r.nc.getState();if(!n||!e)throw new Error("Bot details not found");const{deleted:s}=await o.TF("/bot/".concat(n,"/").concat(e));if(s){let{botsMap:e,botsList:n}=r.nc.getState();e=(0,a.A)({},e),n=[...n],delete e[s];const o=n.findIndex(e=>e._id===s);o>=0&&n.splice(o,1);const i={botsMap:e,botsList:n};var l;if(t===s)i.selectedBotId=(null===(l=n[0])||void 0===l?void 0:l._id)||null;r.nc.setState(i)}return!!s}function c(e,n){let{botDesign:t}=r.nc.getState();return t=(0,a.A)((0,a.A)({},t),n),i(e,{botDesign:t})}async function u(e,n){const{organizationId:t,selectedBotId:a}=r.nc.getState(),s=new FormData;s.append("file",n);const l=await o.bE("/bot/".concat(t,"/").concat(a,"/update-logo/").concat(e),s);return x(a,l),l["botDesign.".concat(e)]}async function h(e){const{organizationId:n,selectedBotId:t}=r.nc.getState(),a=await o.TF("/bot/".concat(n,"/").concat(t,"/update-logo/").concat(e));return x(t,a),a["botDesign.".concat(e)]}function m(e,n){return i(e,{botName:n})}function A(e,n){let{botSettings:t={}}=r.nc.getState();return t=(0,a.A)((0,a.A)({},t),n),i(e,{botSettings:t})}function x(e,n){const{botsMap:t}=r.nc.getState(),a=t[e];if(!a)return;g(Object.keys(n).reduce((e,t)=>(0,s.G6)(e,t,n[t]),a))}function g(e){let n=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];const t=e._id;let{botsMap:o,botsList:s}=r.nc.getState();o=(0,a.A)((0,a.A)({},o),{},{[t]:e}),s=[...s];const l=s.findIndex(e=>e._id===t);l>=0?s[l]=e:s.push(e);const i={botsMap:o,botsList:s};n&&(i.selectedBotId=t),r.nc.setState(i)}}}]);