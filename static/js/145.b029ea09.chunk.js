"use strict";(self.webpackChunklib_prop_ui=self.webpackChunklib_prop_ui||[]).push([[145],{2145:(e,t,n)=>{n.r(t),n.d(t,{default:()=>F});var i=n(47313),s=n(9019),o=n(61113),r=n(42832),l=n(41806),a=n(50301),c=n(66149),d=n(33604),x=n(96467),h=n(49914),j=n(4117),m=n(31095),Z=n(42420),u=n(5211),p=n(65954),g=n(51997),f=n(29577),C=n(47131),b=n(15756),y=n(89994),v=n(11623),k=n(49709),w=n(78041),B=n(17592),P=n(70024),N=n(83929),S=n(26478),I=n(6505),W=n(23509),_=n(94100),z=n(45960),A=n(89637),D=n(78485),L=n(68200),V=n(46417);const F=()=>{const e=(0,W.tN)((e=>e.botsList)),t=(0,W.tN)((e=>e.organizationId)),[n,r]=(0,i.useState)(!1),[l,a]=(0,i.useState)(),c=e=>{r(!0),a(e)};return(0,V.jsxs)(V.Fragment,{children:[(0,V.jsxs)(s.ZP,{container:!0,rowSpacing:4.5,columnSpacing:2.75,children:[(0,V.jsxs)(s.ZP,{item:!0,xs:12,sx:{mb:-2.25},children:[(0,V.jsx)(o.Z,{variant:"h5",children:"Bots List"}),(0,V.jsx)(s.ZP,{item:!0,xs:12,display:"flex",justifyContent:"flex-end",children:(0,V.jsx)(M,{})})]}),e.map(((e,t)=>(0,V.jsx)(s.ZP,{item:!0,xs:12,sm:6,md:4,lg:3,children:(0,V.jsx)(U,{bot:e,verifyBot:c})},t))),(0,V.jsx)(s.ZP,{item:!0,md:8,sx:{display:{sm:"none",md:"block",lg:"none"}}})]}),(0,V.jsx)(L.Z,{openPopUpDialog:n,setPopUpDialog:r,title:"Verify Bot Details",children:(0,V.jsx)(D.Z,{setIsDeployBot:r,botId:l,organizationId:t})})]})},U=e=>{let{bot:t,verifyBot:n}=e;const{color:i,botName:a,createdAt:c,_id:d,verificationStatus:x}=t,h=(0,W.tN)((e=>e.isSuperUser)),j=async e=>await z.Vx(d,{[e.target.name]:e.target.checked},!1);return(0,V.jsxs)(I.Z,{contentSX:{p:2.25},children:[(0,V.jsxs)(r.Z,{spacing:.5,children:[(0,V.jsxs)(s.ZP,{container:!0,direction:"row",alignItems:"center",children:[(0,V.jsx)(o.Z,{variant:"h6",color:"textSecondary",children:"Bot Name"}),h&&(0,V.jsx)(k.Z,{title:"Verify the bot",children:(0,V.jsx)(f.Z,{style:{color:"#075C97",cursor:"pointer"},fontSize:"small",onClick:()=>n(d)})})]}),(0,V.jsx)(s.ZP,{container:!0,alignItems:"center",children:(0,V.jsxs)(s.ZP,{item:!0,children:[(0,V.jsx)(o.Z,{variant:"h4",color:"inherit",children:a}),x?(0,V.jsxs)(s.ZP,{container:!0,direction:"row",alignItems:"center",children:[(0,V.jsx)(b.Z,{style:{color:"#65EE55"}}),"\xa0Verified"]}):(0,V.jsxs)(s.ZP,{container:!0,direction:"row",alignItems:"center",children:[(0,V.jsx)(b.Z,{style:{color:"#ff0000"}}),"\xa0Not verified"]}),(0,V.jsx)(s.ZP,{item:!0,children:(0,V.jsx)(N.Z,{label:"Get Presale Lead",control:(0,V.jsx)(P.Z,{checked:t.isPresaleLead,onChange:j,name:"isPresaleLead"})})}),h&&(0,V.jsx)(s.ZP,{item:!0,children:(0,V.jsx)(N.Z,{label:"Is Bot Active",control:(0,V.jsx)(P.Z,{checked:t.isBotActivate,onChange:j,name:"isBotActivate"})})})]})}),(0,V.jsxs)(s.ZP,{alignItems:"right",children:[(0,V.jsx)(T,{bot:t}),(0,V.jsx)(G,{bot:t})]})]}),(0,V.jsx)(l.Z,{sx:{pt:2.25},children:(0,V.jsxs)(o.Z,{variant:"caption",color:"textSecondary",children:["Created on:"," ",(0,V.jsx)(o.Z,{component:"span",variant:"caption",sx:{color:"".concat(i||"primary",".main")},children:(0,A.p6)(c)})]})})]})},E=i.forwardRef((function(e,t){return(0,V.jsx)(a.Z,{direction:"up",ref:t,...e})}));function M(){const e=(0,B.ZP)((e=>{let{className:t,...n}=e;return(0,V.jsx)(k.Z,{...n,arrow:!0,classes:{popper:t}})}))((e=>{let{theme:t}=e;return{["& .".concat(w.Z.arrow)]:{color:t.palette.common.black},["& .".concat(w.Z.tooltip)]:{backgroundColor:t.palette.common.black}}})),[t,n]=(0,i.useState)(""),[s,r]=i.useState(!1),l=()=>r(!1);return(0,V.jsxs)(V.Fragment,{children:[(0,V.jsx)(e,{title:"Add new bot",placement:"right",children:(0,V.jsx)(Z.Z,{color:"primary",size:"medium",onClick:()=>r(!0),children:(0,V.jsx)(u.Z,{})})}),(0,V.jsxs)(c.Z,{open:s,TransitionComponent:E,keepMounted:!0,onClose:l,maxWidth:"md",children:[(0,V.jsx)(d.Z,{style:{width:"400px"},children:(0,V.jsx)(o.Z,{color:"inherit",children:"Create New Bot"})}),(0,V.jsx)(x.Z,{children:(0,V.jsx)(h.Z,{fullWidth:!0,type:"text",id:"botName",name:"botName",onChange:e=>n(e.target.value),placeholder:"Bot Name",autoComplete:"off"})}),(0,V.jsxs)(j.Z,{children:[(0,V.jsx)(m.Z,{onClick:l,children:"Cancel"}),(0,V.jsx)(_.Z,{variant:"contained",disabled:(null===t||void 0===t?void 0:t.trim().length)<3,onClick:async()=>{try{await(0,z.lz)(t),l(),(0,S.W)(!0,"New bot added successfully","success")}catch(e){(0,S.W)(!0,"Bot already exist","error")}},children:"Create"})]})]})]})}function T(e){let{bot:t}=e;const{_id:n,botName:s}=t,[r,l]=(0,i.useState)(""),[a,Z]=i.useState(!1),[u,g]=(0,i.useState)(),f=()=>{l(""),Z(!1)};return(0,V.jsxs)(V.Fragment,{children:[(0,V.jsx)(C.Z,{"aria-label":"edit",sx:{color:y.Z[500]},onClick:()=>Z(!0),children:(0,V.jsx)(p.Z,{})}),(0,V.jsxs)(c.Z,{open:a,TransitionComponent:E,keepMounted:!0,onClose:f,maxWidth:"md",children:[(0,V.jsx)(d.Z,{style:{width:"400px"},children:(0,V.jsx)(o.Z,{color:"inherit",children:"Edit Bot Name"})}),(0,V.jsx)(x.Z,{children:(0,V.jsx)(h.Z,{fullWidth:!0,type:"text",id:"editBotName",name:"editBotName",defaultValue:s,onChange:e=>{""===e.target.value?g("Invalid Bot Name"):(g(""),l(e.target.value))},placeholder:"Bot Name",autoComplete:"off"})}),(0,V.jsxs)(j.Z,{children:[u&&(0,V.jsxs)("div",{style:{color:"red"},children:[" *",u," "]}),(0,V.jsx)(m.Z,{onClick:f,children:"Cancel"}),(0,V.jsx)(_.Z,{variant:"contained",disabled:(null===r||void 0===r?void 0:r.trim().length)<3,onClick:async()=>{await(0,z.Iz)(n,r),f(),(0,S.W)(!0,"Bot name updated successfully","success")},children:"Update"})]})]})]})}function G(e){let{bot:t}=e;const{_id:n}=t,[s,r]=i.useState(!1),l=()=>{r(!1)};return(0,V.jsxs)(V.Fragment,{children:[(0,V.jsx)(C.Z,{"aria-label":"delete",sx:{color:v.Z[500]},onClick:()=>{r(!0)},children:(0,V.jsx)(g.Z,{})}),(0,V.jsxs)(c.Z,{open:s,onClose:l,children:[(0,V.jsx)(d.Z,{id:"alert-dialog-title",children:(0,V.jsx)(o.Z,{gutterBottom:!0,children:"Are sure you want to delete the bot ?"})}),(0,V.jsxs)(j.Z,{children:[(0,V.jsx)(m.Z,{onClick:l,children:"Cancel"}),(0,V.jsx)(_.Z,{variant:"contained",onClick:async()=>{await z.Od(n),r(!1)},children:"Delete"})]})]})]})}}}]);