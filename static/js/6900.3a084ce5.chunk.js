"use strict";(self.webpackChunklib_prop_ui=self.webpackChunklib_prop_ui||[]).push([[6900],{32829:(e,t,n)=>{n.d(t,{A:()=>r});var i=n(25371),a=n(44414);function r(e){let{children:t,type:n}=e;return(0,a.jsx)(i.P.div,{whileHover:{scale:1},whileTap:{scale:.9},children:t})}r.defaultProps={type:"scale"}},92728:(e,t,n)=>{n.d(t,{A:()=>o});var i=n(9950),a=n(48205),r=n(44414);const o=i.forwardRef((function(e,t){return(0,r.jsx)(a.A,{direction:"up",ref:t,...e})}))},51637:(e,t,n)=>{n.d(t,{A:()=>u});var i=n(9950),a=n(14857),r=n(48089),o=n(45180),l=n(82053),s=n(50704),d=n(44414);const c={p:2.5,"& .MuiCardHeader-action":{m:"0px auto",alignSelf:"center"}},u=(0,i.forwardRef)(((e,t)=>{let{border:n=!0,boxShadow:i,children:u,content:h=!0,contentSX:m={},darkTitle:g,elevation:p,secondary:x,shadow:A,sx:b={},title:v,...f}=e;const y=(0,a.A)();return i="dark"===y.palette.mode?i||!0:i,(0,d.jsxs)(r.A,{elevation:p||0,ref:t,...f,sx:{border:n?"1px solid":"none",borderRadius:2,borderColor:"dark"===y.palette.mode?y.palette.divider:y.palette.grey.A800,boxShadow:!i||n&&"dark"!==y.palette.mode?"inherit":A||y.customShadows.z1,":hover":{boxShadow:i?A||y.customShadows.z1:"inherit"},"& pre":{m:0,p:"16px !important",fontFamily:y.typography.fontFamily,fontSize:"0.75rem"},...b},children:[!g&&v&&(0,d.jsx)(o.A,{sx:c,titleTypographyProps:{variant:"subtitle1"},title:v,action:x}),g&&v&&(0,d.jsx)(o.A,{sx:c,title:(0,d.jsx)(l.A,{variant:"h3",children:v}),action:x}),h&&(0,d.jsx)(s.A,{sx:m,children:u}),!h&&u]})}))},26092:(e,t,n)=>{n.d(t,{A:()=>m});n(9950);var i=n(92728),a=n(63464),r=n(40033),o=n(28170),l=n(96319),s=n(59254),d=n(14857),c=n(25333),u=n(44414);const h=(0,s.Ay)(a.A)((e=>{let{theme:t}=e;return{"& .MuiDialogContent-root":{padding:t.spacing(2)},"& .MuiDialogActions-root":{padding:t.spacing(1)},zIndex:11010}}));function m(e){const t=(0,d.A)(),{breakpoints:n}=t,{openPopUpDialog:a,setPopUpDialog:s,onClose:m=()=>s(!1),title:g,width:p="70%"}=e;return(0,u.jsxs)(h,{TransitionComponent:i.A,"aria-labelledby":"customized-dialog-title",open:a,PaperProps:{sx:{width:{width:p},[n.down("sm")]:{width:"90%"}}},children:[(0,u.jsx)(r.A,{sx:{m:0,p:2},id:"customized-dialog-title",children:g}),(0,u.jsx)(c.A,{"aria-label":"close",onClick:m,sx:{position:"absolute",right:8,top:8},children:(0,u.jsx)(l.A,{})}),(0,u.jsx)(o.A,{dividers:!0,children:e.children})]})}},31408:(e,t,n)=>{n.d(t,{A:()=>r});var i=n(59051),a=n.n(i);const r=function(e){let{value:t,dateOnly:n}=e;return a()(t).format(n?"DD-MMM-YYYY":"DD-MMM-YYYY HH:mm:ss")}},3602:(e,t,n)=>{n.d(t,{Ay:()=>u});var i=n(9950),a=n(59051),r=n.n(a),o=n(32796),l=(n(52010),n(44414));const s=["This month","One month","Prev month","This week","Last 7 days","Prev week","Prev 2 weeks","Last 14 days"];function d(){return{"This month":[r()().startOf("month").toDate(),r()().endOf("month").toDate()],"One month":[r()().subtract(1,"months").toDate(),r()().toDate()],"Prev month":[r()().subtract(1,"months").startOf("month").toDate(),r()().subtract(1,"months").endOf("month").toDate()],"This week":[r()().startOf("week").toDate(),r()().endOf("week").toDate()],"Last 7 days":[r()().subtract(6,"days").toDate(),r()().toDate()],"Prev week":[r()().subtract(1,"weeks").startOf("week").toDate(),r()().subtract(1,"weeks").endOf("week").toDate()]}}function c(e){const t=i.useMemo(d,[]),{timePicker24Hour:n,displayFormat:a}=function(e){let t=c.defaultTimeFormat||" hh:mm tt";const n=-1===t.indexOf("tt");t=t.replace("tt","A").replace(".ss","").replace(":ss","");const i=e.dateFormat||`DD-MMM-YYYY${e.showTime?t:""}`;return{timePicker24Hour:n,displayFormat:i}}(e),{value:u,range:p}=e,[x,A]=i.useState((()=>h(u,p,a))),b=i.useCallback((e=>A((t=>({...t,...e})))),[A]),v=i.useRef(),f=i.useRef({props:e,state:x,displayFormat:a});f.current.state=x,f.current.props=e,f.current.displayFormat=a;const y=i.useCallback((()=>b(h(u,p,f.current.displayFormat))),[u,p,b]);i.useEffect((()=>{y()}),[y]);const j=i.useCallback(((e,t)=>{var n,i;const{props:a,displayFormat:r}=f.current;f.current.manuallyEdited=!1;const{range:o,field:l,args:d}=a;let c=t.startDate,u=null===(n=c)||void 0===n?void 0:n.toDate(),h="";if(o){const{chosenLabel:e,startDate:n,endDate:i}=t;if(n&&i){u={fromDate:n.toDate(),toDate:i.toDate()};const t=s.indexOf(e);t>=0&&(u.quickDate=t),h=`${n.format(r)} - ${i.format(r)}`,c=[u.fromDate,u.toDate]}}else null!==(i=c)&&void 0!==i&&i.isValid()&&(h=c.format(r));b({value:c,displayDate:h}),a.onChange(u,l,d)}),[b]),C=i.useCallback((e=>{const{manuallyEdited:t,props:n,state:i,displayFormat:a}=f.current;if(t){let{target:{value:t}}=e;if(t=t.trim(),!t&&!0===n.allowClear)return void j(null,{startDate:null});let o=r()(t,a);o.isValid()||(o=r()(t)),o.isValid()&&o.format(a)===t||(o=i.value),v.setStartDate(o),v.setEndDate(o),j(null,{fromDate:o})}else null!==e&&void 0!==e&&e.currentTarget&&n.onBlur&&n.onBlur(e)}),[j]),S=i.useCallback((e=>{const{props:t}=f.current,{keyCode:n}=e;13===n?C(e):t.onKeyDown&&(27===n&&(y(t),f.current.manuallyEdited=!1),t.onKeyDown(e))}),[C,y]),D=i.useCallback((()=>f.current.manuallyEdited=!0),[]),{disabled:T,style:w,className:E,autoFocus:I,fullWidth:_}=e,{displayDate:P}=x;return(0,l.jsx)("div",{className:"react-bootstrap-daterangepicker-container "+(E||""),children:(0,l.jsx)(o.A,{ref:v,style:w,className:E,disabled:T,initialSettings:g({timePicker24Hour:n,dateRange:t,props:e,state:x}),onApply:j,children:(0,l.jsx)("span",{children:(0,l.jsx)("input",{type:"text",className:"date-range-ctl",value:P,readOnly:p,placeholder:m(e),autoFocus:I,onChange:p?void 0:D,onBlur:p?void 0:C,onKeyDown:S,style:_?{width:"100%",height:"40px"}:null})})})})}const u=c;function h(e,t,n){const i={displayDate:""};return e?t?"object"===typeof e&&(e=e.quickDate>=0?function(e,t){if(0===e||e>0){const n=d(),i=s[e],a=i&&n[i]||[];return t?a.map((e=>r()(e))):a}}(e.quickDate,!0):"object"===typeof e&&e.fromDate?[r()(e.fromDate),r()(e.toDate)||null]:[],i.value=e,e[0]&&e[1]&&(i.displayDate=`${e[0].format(n)} - ${e[1].format(n)}`)):(i.value=r()(e),i.displayDate=i.value.format(n)):t&&(i.value=[]),i}function m(e){const{range:t}=e;let{placeholder:n}=e;return!0===t&&(n=n||"Select a date range"),n||"Select a date"}function g(e){let{dateRange:t,timePicker24Hour:n,props:{showTime:i,range:a,minDate:r,maxDate:o,maxSpan:l=6},state:{value:s}}=e;const d={showDropdowns:!0,timePicker:i||!1,alwaysShowCalendars:!1,maxSpan:l,autoApply:!0,linkedCalendars:!1,autoUpdateInput:!1,minDate:r,maxDate:o};let c=null;return c=a?{...d,fromDate:s[0],toDate:s[1],ranges:t,singleDatePicker:!1,showCustomRangeLabel:!0}:{...d,singleDatePicker:!0,fromDate:s,toDate:s,timePicker24Hour:n},c}},93383:(e,t,n)=>{n.d(t,{A:()=>l});var i=n(9950),a=n(10226),r=n(46639),o=n(44414);const l=function(e){let{onClick:t,disabled:n,isLoading:l,children:s,...d}=e;const[c,u]=i.useState(l);return(0,o.jsxs)(a.A,{onClick:e=>{if(!t)return;const n=t(e);"function"===typeof(null===n||void 0===n?void 0:n.finally)&&(u(!0),n.finally((()=>u(!1))))},disabled:c||l||n,...d,children:[(c||l)&&(0,o.jsx)(r.A,{size:16,color:"primary",style:{marginRight:"10px"}}),s]})}},50889:(e,t,n)=>{n.r(t),n.d(t,{default:()=>V});var i=n(9950),a=n(33340),r=n(9213),o=n(21671),l=n(16491),s=n(1320),d=n(15769),c=n(69780),u=n(7251),h=n(34075),m=n(72595),g=n(6258),p=n(55858),x=n(49321),A=n(80691),b=n(31408),v=n(26092),f=n(61467),y=n(60899),j=n(82053),C=n(16497),S=n(37324),D=n(93383),T=n(32829),w=n(21788),E=n(41507),I=n(74745),_=n(44414);const P=function(e){var t;let{organizationId:n,consoleDisplaySettings:i={},onDone:a}=e;const r={hideTrainingTab:(null===i||void 0===i?void 0:i.hideTrainingTab)||!1,hideSettingsTab:(null===i||void 0===i?void 0:i.hideSettingsTab)||!1,hideKBTab:(null===i||void 0===i?void 0:i.hideKBTab)||!1,hideMediaTab:(null===i||void 0===i?void 0:i.hideMediaTab)||!1,hideDesignTab:(null===i||void 0===i?void 0:i.hideDesignTab)||!1,hideFlowDesignTab:null===(t=null===i||void 0===i?void 0:i.hideFlowDesignTab)||void 0===t||t};return(0,_.jsx)(f.l1,{initialValues:r,onSubmit:async e=>{try{await(0,E.L_)({settings:e},n),(0,w.i)(!0,"Console display settings updated successfully","success"),a()}catch(t){(0,w.i)(!0,"Not able to update the console display settings. Try after sometime!","error")}},children:e=>{let{values:t,handleChange:n,isSubmitting:i,handleSubmit:a}=e;return(0,_.jsx)("form",{onSubmit:a,children:(0,_.jsxs)(y.Ay,{container:!0,spacing:2,children:[(0,_.jsx)(I.A,{variant:"middle"}),(0,_.jsx)(y.Ay,{item:!0,xs:12,children:(0,_.jsx)(I.A,{children:(0,_.jsx)(j.A,{variant:"subtitle1",children:"Console Settings"})})}),(0,_.jsx)(y.Ay,{item:!0,xs:12,children:(0,_.jsxs)(y.Ay,{container:!0,justifyContent:"space-between",alignItems:"center",children:[(0,_.jsx)(y.Ay,{item:!0,children:(0,_.jsx)(j.A,{children:"Hide Training Tab"})}),(0,_.jsx)(y.Ay,{item:!0,children:(0,_.jsx)(C.A,{control:(0,_.jsx)(f.D0,{as:S.A,name:"hideTrainingTab",checked:t.hideTrainingTab,onChange:n}),label:"",labelPlacement:"start"})})]})}),(0,_.jsx)(y.Ay,{item:!0,xs:12,children:(0,_.jsxs)(y.Ay,{container:!0,justifyContent:"space-between",alignItems:"center",children:[(0,_.jsx)(y.Ay,{item:!0,children:(0,_.jsx)(j.A,{children:"Hide Settings Tab"})}),(0,_.jsx)(y.Ay,{item:!0,children:(0,_.jsx)(C.A,{control:(0,_.jsx)(f.D0,{as:S.A,name:"hideSettingsTab",checked:t.hideSettingsTab,onChange:n}),label:"",labelPlacement:"start"})})]})}),(0,_.jsx)(y.Ay,{item:!0,xs:12,children:(0,_.jsxs)(y.Ay,{container:!0,justifyContent:"space-between",alignItems:"center",children:[(0,_.jsx)(y.Ay,{item:!0,children:(0,_.jsx)(j.A,{children:"Hide FAQ / Knowledge base"})}),(0,_.jsx)(y.Ay,{item:!0,children:(0,_.jsx)(C.A,{control:(0,_.jsx)(f.D0,{as:S.A,name:"hideKBTab",checked:t.hideKBTab,onChange:n}),label:"",labelPlacement:"start"})})]})}),(0,_.jsx)(y.Ay,{item:!0,xs:12,children:(0,_.jsxs)(y.Ay,{container:!0,justifyContent:"space-between",alignItems:"center",children:[(0,_.jsx)(y.Ay,{item:!0,children:(0,_.jsx)(j.A,{children:"Hide Conversation Media"})}),(0,_.jsx)(y.Ay,{item:!0,children:(0,_.jsx)(C.A,{control:(0,_.jsx)(f.D0,{as:S.A,name:"hideMediaTab",checked:t.hideMediaTab,onChange:n}),label:"",labelPlacement:"start"})})]})}),(0,_.jsx)(y.Ay,{item:!0,xs:12,children:(0,_.jsxs)(y.Ay,{container:!0,justifyContent:"space-between",alignItems:"center",children:[(0,_.jsx)(y.Ay,{item:!0,children:(0,_.jsx)(j.A,{children:"Hide Design Tab"})}),(0,_.jsx)(y.Ay,{item:!0,children:(0,_.jsx)(C.A,{control:(0,_.jsx)(f.D0,{as:S.A,name:"hideDesignTab",checked:t.hideDesignTab,onChange:n}),label:"",labelPlacement:"start"})})]})}),(0,_.jsx)(y.Ay,{item:!0,xs:12,children:(0,_.jsxs)(y.Ay,{container:!0,justifyContent:"space-between",alignItems:"center",children:[(0,_.jsx)(y.Ay,{item:!0,children:(0,_.jsx)(j.A,{children:"Hide Flow Designer"})}),(0,_.jsx)(y.Ay,{item:!0,children:(0,_.jsx)(C.A,{control:(0,_.jsx)(f.D0,{as:S.A,name:"hideFlowDesignTab",checked:t.hideFlowDesignTab,onChange:n}),label:"",labelPlacement:"start"})})]})}),(0,_.jsx)(y.Ay,{item:!0,xs:12,container:!0,justifyContent:"flex-end",children:(0,_.jsx)(T.A,{children:(0,_.jsx)(D.A,{isLoading:i,disabled:i,color:"primary",size:"large",type:"submit",variant:"contained",children:"Update"})})})]})})}})};var z=n(29714),k=n(93230),B=n(3788),O=n(2660),R=n(24516),M=n(70006),L=n(23266),F=n(3602),N=n(8478);const H=function(e){let{organizationId:t,onDone:n}=e;const r=(0,a.nc)((e=>e.organizationSettings));i.useEffect((()=>{(async function(e){const t=await N.Jt(`/organization-settings/${e}/`);a.nc.setState({organizationSettings:t})})(t).catch((e=>{console.error("Error fetching organization settings details:",e),(0,w.i)(!0,"Not able to fetch organization settings details. Try after sometime!","error")}))}),[t]);const o={_id:(null===r||void 0===r?void 0:r._id)||void 0,customerId:(null===r||void 0===r?void 0:r.customerId)||"",organizationId:(null===r||void 0===r?void 0:r.organizationId)||t,billingStartDate:(null===r||void 0===r?void 0:r.billingStartDate)||"",lastModified:(null===r||void 0===r?void 0:r.lastModified)||"",freeChatsCount:(null===r||void 0===r?void 0:r.freeChatsCount)||"",pricePerChat:(null===r||void 0===r?void 0:r.pricePerChat)||"",maxBotCount:(null===r||void 0===r?void 0:r.maxBotCount)||"",amount:(null===r||void 0===r?void 0:r.amount)||"",billingInterval:(null===r||void 0===r?void 0:r.billingInterval)||"",billingEmail:(null===r||void 0===r?void 0:r.billingEmail)||"",currency:(null===r||void 0===r?void 0:r.currency)||""};return(0,_.jsx)(f.l1,{initialValues:o,enableReinitialize:!0,validationSchema:z.Ik().shape({customerId:z.Yj().required("Customer id is required"),organizationId:z.Yj().required("Organization Id is required"),billingStartDate:z.p6().required("Billing Start Date is required"),freeChatsCount:z.ai().min(0,"Free chats count must be 0 or greater than 0").max(99999,"Free chats count must be less than or equal to 99999").required("Free chats count is required"),pricePerChat:z.ai().min(0,"Price per chat must be 0 or greater than 0").max(99999,"Price per chat must be less than or equal to 99999").required("Price per chat is required"),maxBotCount:z.ai().min(0,"Maximum bot count must be 0 or greater than 0").max(99999,"Maximum bot count must be less than or equal to 99999").required("Maximum bot count must is required"),billingInterval:z.ai().min(1,"Billing interval must be between 1 to 12").max(12,"Billing interval must be between 1 to 12").required("Free Chats Count is required"),amount:z.ai().min(0,"Monthly Rent must be 0 or greater than 0").max(99999,"Monthly Rent must be less than or equal to 99999").required("Monthly Rent is required"),currency:z.Yj().required("Currency Type is required"),billingEmail:z.Yj().test("is-emails","Billing email must be valid",(e=>{if(!e)return!0;return e.split(",").map((e=>e.trim())).every((e=>{if(!e)return!1;return/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(e)&&z.Yj().email().isValidSync(e)}))})).max(1e3,"Billing email must be at most 255 characters").required("Billing Email is required")}),onSubmit:async(e,t)=>{let{setErrors:i,setStatus:r,setSubmitting:o}=t;try{await async function(e){const t=await N.bE(`/organization-settings/${e.organizationId}/`,e);a.nc.setState({organizationSettings:t})}(e),r({success:!1}),o(!1),n(),(0,w.i)(!0,"Organization billing settings updated successfully.","success")}catch(l){r({success:!1}),i({submit:l.message}),o(!1),(0,w.i)(!0,"not able to update organization billing settings. Try after sometime!","error")}},children:e=>{let{errors:t,handleBlur:n,handleChange:i,handleSubmit:a,isSubmitting:r,touched:o,setFieldValue:l,values:s}=e;return(0,_.jsx)("form",{noValidate:!0,onSubmit:a,children:(0,_.jsxs)(y.Ay,{container:!0,spacing:2,children:[(0,_.jsx)(y.Ay,{item:!0,xs:12,md:12,children:(0,_.jsxs)(k.A,{spacing:1,children:[(0,_.jsx)(B.A,{htmlFor:"customerId",children:"Customer Id (Id from Tally)"}),(0,_.jsx)(O.A,{id:"customerId",type:"customerId",value:s.customerId,name:"customerId",onBlur:n,onChange:i,fullWidth:!0,autoComplete:"off",error:Boolean(o.customerId&&t.customerId)}),o.customerId&&t.customerId&&(0,_.jsx)(R.A,{error:!0,id:"helper-text-customer-id",children:t.customerId})]})}),(0,_.jsx)(y.Ay,{item:!0,xs:12,md:6,children:(0,_.jsxs)(k.A,{spacing:1,children:[(0,_.jsx)(B.A,{htmlFor:"organizationId",children:"Organization Id"}),(0,_.jsx)(O.A,{id:"organizationId",type:"organizationId",value:s.organizationId,name:"organizationId",onBlur:n,onChange:i,fullWidth:!0,autoComplete:"off",disabled:!0,error:Boolean(o.organizationId&&t.organizationId)}),o.organizationId&&t.organizationId&&(0,_.jsx)(R.A,{error:!0,id:"helper-text-organization-id",children:t.organizationId})]})}),(0,_.jsx)(y.Ay,{item:!0,xs:12,md:6,children:(0,_.jsxs)(k.A,{spacing:1,children:[(0,_.jsx)(B.A,{htmlFor:"billingStartDate",children:"Billing Start Date"}),(0,_.jsx)(F.Ay,{id:"billingStartDate",type:"billingStartDate",value:s.billingStartDate,name:"billingStartDate",onChange:e=>l("billingStartDate",e),fullWidth:!0,autoComplete:"off",error:Boolean(o.billingStartDate&&t.billingStartDate)}),o.billingStartDate&&t.billingStartDate&&(0,_.jsx)(R.A,{error:!0,id:"helper-text-billing-start-date",children:t.billingStartDate})]})}),(0,_.jsx)(y.Ay,{item:!0,xs:12,md:6,children:(0,_.jsxs)(k.A,{spacing:1,children:[(0,_.jsx)(B.A,{htmlFor:"freeChatsCount",children:"Free Chats Count"}),(0,_.jsx)(O.A,{id:"freeChatsCount",type:"Number",value:s.freeChatsCount,name:"freeChatsCount",onBlur:n,onChange:i,fullWidth:!0,autoComplete:"off",error:Boolean(o.freeChatsCount&&t.freeChatsCount)}),o.freeChatsCount&&t.freeChatsCount&&(0,_.jsx)(R.A,{error:!0,id:"helper-text-free-chats-count",children:t.freeChatsCount})]})}),(0,_.jsx)(y.Ay,{item:!0,xs:12,md:6,children:(0,_.jsxs)(k.A,{spacing:1,children:[(0,_.jsx)(B.A,{htmlFor:"pricePerChat",children:"Price Per Chat"}),(0,_.jsx)(O.A,{id:"pricePerChat",type:"Number",value:s.pricePerChat,name:"pricePerChat",onBlur:n,onChange:i,fullWidth:!0,autoComplete:"off",error:Boolean(o.pricePerChat&&t.pricePerChat)}),o.pricePerChat&&t.pricePerChat&&(0,_.jsx)(R.A,{error:!0,id:"helper-text-price-per-chat",children:t.pricePerChat})]})}),(0,_.jsx)(y.Ay,{item:!0,xs:12,md:6,children:(0,_.jsxs)(k.A,{spacing:1,children:[(0,_.jsx)(B.A,{htmlFor:"maxBotCount",children:"Maximum Bot Count"}),(0,_.jsx)(O.A,{id:"maxBotCount",type:"Number",value:s.maxBotCount,name:"maxBotCount",onBlur:n,onChange:i,fullWidth:!0,autoComplete:"off",error:Boolean(o.maxBotCount&&t.maxBotCount)}),o.maxBotCount&&t.maxBotCount&&(0,_.jsx)(R.A,{error:!0,id:"helper-text-max-bot-count",children:t.maxBotCount})]})}),(0,_.jsx)(y.Ay,{item:!0,xs:12,md:3,children:(0,_.jsxs)(k.A,{spacing:1,children:[(0,_.jsx)(B.A,{htmlFor:"amount",children:"Monthly Rent"}),(0,_.jsx)(O.A,{id:"amount",type:"Number",value:s.amount,name:"amount",onBlur:n,onChange:i,fullWidth:!0,autoComplete:"off",error:Boolean(o.amount&&t.amount)}),o.amount&&t.amount&&(0,_.jsx)(R.A,{error:!0,id:"helper-text-amount",children:t.amount})]})}),(0,_.jsx)(y.Ay,{item:!0,xs:12,md:3,children:(0,_.jsxs)(k.A,{spacing:1,children:[(0,_.jsx)(B.A,{htmlFor:"currencyType",children:"Currency Type"}),(0,_.jsxs)(M.A,{id:"currency",type:"currency",value:s.currency,name:"currency",label:"Currency Type",onBlur:n,onChange:i,children:[(0,_.jsx)(L.A,{value:"INR",children:"INR"}),(0,_.jsx)(L.A,{value:"USD",children:"USD"})]}),o.currency&&t.currency&&(0,_.jsx)(R.A,{error:!0,id:"helper-text-currency",children:t.currency})]})}),(0,_.jsx)(y.Ay,{item:!0,xs:12,md:6,children:(0,_.jsxs)(k.A,{spacing:1,children:[(0,_.jsx)(B.A,{htmlFor:"billingInterval",children:"Billing Interval (No of months)"}),(0,_.jsx)(O.A,{id:"billingInterval",type:"Number",value:s.billingInterval,name:"billingInterval",onBlur:n,onChange:i,fullWidth:!0,autoComplete:"off",error:Boolean(o.billingInterval&&t.billingInterval)}),o.billingInterval&&t.billingInterval&&(0,_.jsx)(R.A,{error:!0,id:"helper-text-billing-interval",children:t.billingInterval})]})}),(0,_.jsx)(y.Ay,{item:!0,xs:12,md:6,children:(0,_.jsxs)(k.A,{spacing:1,children:[(0,_.jsx)(B.A,{htmlFor:"billingEmail",children:"Billing Email"}),(0,_.jsx)(O.A,{id:"billingEmail",type:"billingEmail",value:s.billingEmail,name:"billingEmail",onBlur:n,onChange:i,fullWidth:!0,autoComplete:"off",error:Boolean(o.billingEmail&&t.billingEmail)}),o.billingEmail&&t.billingEmail&&(0,_.jsx)(R.A,{error:!0,id:"helper-text-billing-email",children:t.billingEmail})]})}),(0,_.jsx)(y.Ay,{item:!0,xs:12,container:!0,justifyContent:"flex-end",children:(0,_.jsx)(T.A,{children:(0,_.jsx)(D.A,{isLoading:r,disabled:r,color:"primary",size:"large",type:"submit",variant:"contained",children:"Update"})})})]})})}})};var U=n(90587);const $=[{id:"organizationName",label:"Name"},{id:"websiteUrl",label:"Website"},{id:"admins",label:"Email",sortable:!1},{id:"registeredAt",label:"Registered Date"},{id:"availableCredits",label:"Credits"},{id:"handledByLivServ",label:"Handled By LivServ"},{id:"consoleSettings",label:"Console Settings"},{id:"billingSettings",label:"Billing Settings"}];function q(e){const t=[];return e.map((e=>{t.push(function(e){const t=e.admins.map((e=>e.email)).join(",");return{organizationId:e._id,organizationName:e.organizationName,websiteUrl:e.websiteUrl,admins:t,registeredAt:e.registeredAt,availableCredits:e.availableCredits,handledByLivServ:e.handledByLivServ,settings:e.settings}}(e))})),t}function K(e){var t,n;let{row:i,index:a,isSelected:s,openSettingsDialog:d,openOrganizationBillingSettingsDialog:c,handleChange:u}=e;const h=`enhanced-table-checkbox-${a}`;return(0,_.jsxs)(r.A,{hover:!0,role:"checkbox",sx:{"&:last-child td, &:last-child th":{border:0},backgroundColor:i.handledByLivServ?"#F1EEED":"#fff"},"aria-checked":s,tabIndex:-1,selected:s,children:[(0,_.jsx)(o.A,{component:"th",id:h,scope:"row",align:"left",children:i.organizationName}),(0,_.jsx)(o.A,{align:"left",children:(0,_.jsx)("a",{href:i.websiteUrl,target:"_blank",rel:"noopener noreferrer",children:i.websiteUrl})}),(0,_.jsx)(o.A,{align:"left",children:i.admins.split(",").map(((e,t)=>(0,_.jsx)(l.A,{children:e},t)))}),(0,_.jsx)(o.A,{align:"left",children:(0,_.jsx)(b.A,{value:i.registeredAt})}),(0,_.jsxs)(o.A,{align:"left",sx:{color:(null===(t=i.availableCredits)||void 0===t?void 0:t.toFixed(3))<=5?"error.main":"success.main"},children:["$",i.availableCredits?null===(n=i.availableCredits)||void 0===n?void 0:n.toFixed(3):0]}),(0,_.jsx)(o.A,{align:"center",children:(0,_.jsx)(S.A,{checked:i.handledByLivServ,id:i.organizationId,onChange:u})}),(0,_.jsx)(o.A,{align:"center",children:(0,_.jsx)(p.A,{onClick:()=>d(i.organizationId,i.settings),sx:{color:i.settings?"#32b332":"#090a09",cursor:"pointer"},fontSize:"small"})}),(0,_.jsx)(o.A,{align:"center",sx:{cursor:"pointer"},children:(0,_.jsx)(x.A,{onClick:()=>c(i.organizationId),fontSize:"small"})})]},"row"+i.organizationId)}const W=function(e){let{defaultOrder:t,defaultOrderBy:n}=e;const[p,x]=(0,i.useState)(t),[b,f]=(0,i.useState)(n),[y]=(0,i.useState)([]),j=(0,a.nc)((e=>e.organizationList)),C=j.length,[S,D]=i.useState(0),[T,I]=i.useState(10),[z,k]=i.useState(!1),[B,O]=i.useState(),[R,M]=i.useState(),L=()=>k(!1),F=(e,t)=>{O(e),M(t),k(!0)},[N,W]=i.useState(!1),Y=e=>{W(!0),O(e)},V=()=>W(!1),J=async e=>{const t=e.target.checked,n=e.target.id;try{const e={handledByLivServ:t};await(0,E.L_)(e,n),(0,w.i)(!0,"Handled by Livserv updated successfully","success")}catch(i){(0,w.i)(!0,"Not able to update the Handled by Livserv. Try after sometime!","error")}};return(0,_.jsxs)(l.A,{children:[(0,_.jsx)(s.A,{sx:{width:"100%",overflowX:"auto",position:"relative",display:"block",maxWidth:"100%","& td, & th":{whiteSpace:"nowrap"}},children:(0,_.jsxs)(d.A,{"aria-labelledby":"organizationsList",sx:{"& .MuiTableCell-root:first-of-type":{pl:2},"& .MuiTableCell-root:last-of-type":{pr:3}},children:[(0,_.jsx)(c.A,{children:(0,_.jsx)(r.A,{children:$.map((e=>(0,_.jsxs)(o.A,{align:e.align||"left",padding:e.disablePadding?"none":"normal",sortDirection:b===e.id&&("desc"===p?"asc":"desc"),children:[!1===e.sortable&&e.label,!1!==e.sortable&&(0,_.jsxs)(u.A,{active:b===e.id,direction:b===e.id?"desc"===p?"asc":"desc":"asc",onClick:()=>((e,t)=>{x("asc"===t?"desc":"asc"),f(e)})(e.id,p),children:[e.label,b===e.id?(0,_.jsx)(l.A,{component:"span",sx:A.A,children:"desc"===p?"sorted descending":"sorted ascending"}):null]})]},e.id)))})}),(0,_.jsx)(h.A,{sx:{overflowY:"auto",maxHeight:"200px"},children:(T>0?(0,U.q)(q(j),(0,U.h)(p,b)).slice(S*T,S*T+T):q(j)).map(((e,t)=>{return(0,_.jsx)(K,{row:e,index:t,isSelected:(n=e._id,-1!==y.indexOf(n)),openSettingsDialog:F,openOrganizationBillingSettingsDialog:Y,handleChange:J},t);var n}))}),(0,_.jsx)(m.A,{children:(0,_.jsx)(r.A,{children:(0,_.jsx)(o.A,{colSpan:$.length,children:(0,_.jsx)(g.A,{component:"div",count:C,page:S,rowsPerPage:T,onPageChange:(e,t)=>D(t),onRowsPerPageChange:e=>{I(parseInt(e.target.value,10)),D(0)}})})})})]})}),(0,_.jsx)(v.A,{openPopUpDialog:z,onClose:L,title:"Console Display Settings",width:"300px",children:(0,_.jsx)(P,{organizationId:B,consoleDisplaySettings:R,onDone:L})}),(0,_.jsx)(v.A,{openPopUpDialog:N,onClose:V,title:"Organization Billing Settings",children:(0,_.jsx)(H,{organizationId:B,onDone:V})})]})};var Y=n(51637);const V=function(){return(0,_.jsxs)(y.Ay,{container:!0,rowSpacing:4.5,columnSpacing:2.75,children:[(0,_.jsx)(y.Ay,{item:!0,xs:12,sx:{mb:-2.25},children:(0,_.jsx)(y.Ay,{container:!0,alignItems:"center",justifyContent:"space-between",children:(0,_.jsx)(y.Ay,{item:!0,xs:12,lg:6,md:6,children:(0,_.jsx)(j.A,{variant:"h5",children:"All Organizations"})})})}),(0,_.jsx)(y.Ay,{item:!0,xs:12,zeroMinWidth:!0,children:(0,_.jsx)(Y.A,{sx:{mt:2},content:!1,children:(0,_.jsx)(W,{defaultOrder:"asc",defaultOrderBy:"organizationName"})})})]})}},8478:(e,t,n)=>{n.d(t,{Jt:()=>r,TF:()=>s,bE:()=>o,yJ:()=>l});var i=n(32026),a=n(44364);async function r(e,t){return d("GET",e,t,arguments.length>2&&void 0!==arguments[2]?arguments[2]:{})}async function o(e,t){return d("POST",e,t,arguments.length>2&&void 0!==arguments[2]?arguments[2]:{})}async function l(e,t){return d("PUT",e,t,arguments.length>2&&void 0!==arguments[2]?arguments[2]:{})}async function s(e,t){return d("DELETE",e,t,arguments.length>2&&void 0!==arguments[2]?arguments[2]:{})}async function d(e,t,n){let{headers:i,noAuth:a,...r}=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};const o="POST"===e||"PUT"===e||"DELETE"===e;t=function(e,t){if(!e)return e;const n=t&&Object.keys(t);if(null!==n&&void 0!==n&&n.length){const i=n.reduce(((e,n)=>{let i=t[n];return null===i||void 0===i?e:(i=`${n}=${encodeURIComponent(i)}`,e?`${e}&${i}`:i)}),"");i&&(e=`${e}${e.includes("?")?"&":"?"}${i}`)}if(e.startsWith("https://"))return e;return`${c}${e}`}(t,o?void 0:n);const l=n instanceof FormData;if(l||(n=n&&"object"===typeof n&&o?JSON.stringify(n):void 0),i||(i={}),l||(i["Content-Type"]="application/json"),i.Accept="application/json",!1!==a){const e=sessionStorage.getItem("token");e&&(i.Authorization=`Bearer ${e}`)}try{const a=await fetch(t,{...r,headers:i,body:n,method:e}),o=await a.json();if(a.ok){const{data:e,...t}=o;return delete t.status,e&&!Object.keys(t).length?e:o}throw o.message?new Error(o.message):o}catch(d){var s;throw console.error("Error calling API: ",d),null!==(s=d.message)&&void 0!==s&&s.includes("fetch")?new Error("Unable to reach server. Please check your network connectivity and try again."):new Error(d.message)}}const c=(0,i.s8)(a.jn,"/")},41507:(e,t,n)=>{n.d(t,{Ds:()=>s,L_:()=>o,NC:()=>l,YS:()=>r,cw:()=>c,qb:()=>d});var i=n(8478),a=n(33340);async function r(e,t){const n=await async function(){const e=a.nc.getState();let{organizationList:t,organizationId:n,organization:r}=e;if(!e.isSuperUser||Array.isArray(t))return;if(t=await i.bE("/organization/list"),t.length)if(n=n||sessionStorage.getItem("orgId"),n){if(!r){var o;r=null===(o=t)||void 0===o?void 0:o.filter((e=>e._id===n))[0]}}else{const e=t[0];n=e._id,r=e}return a.nc.setState({organizationList:t,organizationId:n,organization:r}),!0}(),{organizationId:r}=a.nc.getState();return e?e!==r&&a.nc.setState({organizationId:e}):e=r,!e||(n||await async function(e){const t=await i.bE("/organization/get-organization-by-id",{organizationId:e});a.nc.setState({organization:t})}(e),await s(e,t),!0)}async function o(e,t){t||(t=a.nc.getState().organizationId);const n=await i.yJ(`/organization/${t}`,e);a.nc.setState((e=>{const{organizationList:i,organizationId:a,organization:r}=e,o={};return a===t&&(o.organization={...r,...n}),i&&(o.organizationList=i.map((e=>e._id===t?{...e,...n}:e))),o}))}function l(e){if(!e||"object"!==typeof e)return;let{organization:t}=a.nc.getState();t&&(t={...t,...e},a.nc.setState({organization:t}))}async function s(e,t){var n;const r=await i.Jt(`/bot/${e}/list`),o=t||(null===(n=r[0])||void 0===n?void 0:n._id),l=r.reduce(((e,t)=>(e[t._id]=t,e)),{});return a.nc.setState({organizationId:e,botsList:r,botsMap:l,selectedBotId:o}),o}function d(e){a.nc.setState({selectedBotId:e})}async function c(){const e=await i.Jt("/organization/invoice/list");a.nc.setState({organizationsInvoiceList:e})}},32026:(e,t,n)=>{function i(e,t){return e.replace(new RegExp(`${a(t)}+$`),"")}function a(e){return e.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")}function r(e){const t=new Date(e),n=t.getDate();return`${["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"][t.getMonth()]} ${n}, ${t.getFullYear()}`}function o(e,t,n){if(!t&&!e)return n;e=e||{};const i=Array.isArray(e)?[...e]:{...e};if(t.includes(".")){const a=t.indexOf("."),r=t.substring(0,a),l=t.substring(a+1);i[r]=o(e[r],l,n)}else i[t]=n;return i}function l(e,t){return btoa(`${e}_${t}_whatsapp_int`)}function s(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:12;const t="abcdefghijklmnopqrstuvwxyz0123456789";let n="";for(let i=0;i<e;i++)n+=t.charAt(Math.floor(36*Math.random()));return n}function d(e,t,n){if(!t&&!e)return n;e=e||{};const i=Array.isArray(e)?[...e]:{...e};if(t.includes(".")){const a=t.indexOf("."),r=t.substring(0,a),o=t.substring(a+1);i[r]=d(e[r],o,n)}else i[t]=n;return i}function c(e,t){const n=new Blob([e],{type:arguments.length>2&&void 0!==arguments[2]?arguments[2]:"text/csv"}),i=document.createElement("a");i.href=URL.createObjectURL(n),i.download=t,document.body.appendChild(i),i.click(),document.body.removeChild(i)}n.d(t,{G6:()=>o,OX:()=>s,PE:()=>c,Yq:()=>r,do:()=>d,qW:()=>l,s8:()=>i})},44364:(e,t,n)=>{n.d(t,{DX:()=>s,Og:()=>r,jn:()=>i,mB:()=>l,pA:()=>o,pR:()=>a});const i="https://devbackend.livhousing.com:444",a="c17b949cf58c45cae47ce1cc65efc8240f77a2a69ca09ad4c4208852",r={NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0,REACT_APP_IP_DATA_API_KEY:"c17b949cf58c45cae47ce1cc65efc8240f77a2a69ca09ad4c4208852",REACT_APP_VERSION:"1",REACT_APP_BACKEND_URL:"https://devbackend.livhousing.com:444"}.TRAINING_MEDIA_MAXSIZE,o={NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0,REACT_APP_IP_DATA_API_KEY:"c17b949cf58c45cae47ce1cc65efc8240f77a2a69ca09ad4c4208852",REACT_APP_VERSION:"1",REACT_APP_BACKEND_URL:"https://devbackend.livhousing.com:444"}.CONVERSATION_MEDIA_MAXSIZE,l={NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0,REACT_APP_IP_DATA_API_KEY:"c17b949cf58c45cae47ce1cc65efc8240f77a2a69ca09ad4c4208852",REACT_APP_VERSION:"1",REACT_APP_BACKEND_URL:"https://devbackend.livhousing.com:444"}.GOOGLE_MAPS_API_KEY,s={NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0,REACT_APP_IP_DATA_API_KEY:"c17b949cf58c45cae47ce1cc65efc8240f77a2a69ca09ad4c4208852",REACT_APP_VERSION:"1",REACT_APP_BACKEND_URL:"https://devbackend.livhousing.com:444"}.REACT_APP_NGROK_BACKEND_URL||"https://devbackend.livhousing.com:444"},90587:(e,t,n)=>{function i(e,t){return"desc"===e?(e,n)=>a(e,n,t):(e,n)=>-a(e,n,t)}function a(e,t,n){return t[n]<e[n]?-1:t[n]>e[n]?1:0}function r(e,t){const n=e.map(((e,t)=>[e,t]));return n.sort(((e,n)=>{const i=t(e[0],n[0]);return 0!==i?i:e[1]-n[1]})),n.map((e=>e[0]))}n.d(t,{h:()=>i,q:()=>r})},96319:(e,t,n)=>{var i=n(24994);t.A=void 0;var a=i(n(79526)),r=n(44414);t.A=(0,a.default)((0,r.jsx)("path",{d:"M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"}),"Close")},49321:(e,t,n)=>{var i=n(24994);t.A=void 0;var a=i(n(79526)),r=n(44414);t.A=(0,a.default)([(0,r.jsx)("path",{d:"M19.5 3.5 18 2l-1.5 1.5L15 2l-1.5 1.5L12 2l-1.5 1.5L9 2 7.5 3.5 6 2v14H3v3c0 1.66 1.34 3 3 3h12c1.66 0 3-1.34 3-3V2zM19 19c0 .55-.45 1-1 1s-1-.45-1-1v-3H8V5h11z"},"0"),(0,r.jsx)("path",{d:"M9 7h6v2H9zm7 0h2v2h-2zm-7 3h6v2H9zm7 0h2v2h-2z"},"1")],"ReceiptLong")},55858:(e,t,n)=>{var i=n(24994);t.A=void 0;var a=i(n(79526)),r=n(44414);t.A=(0,a.default)((0,r.jsx)("path",{d:"M19.14 12.94c.04-.3.06-.61.06-.94 0-.32-.02-.64-.07-.94l2.03-1.58c.18-.14.23-.41.12-.61l-1.92-3.32c-.12-.22-.37-.29-.59-.22l-2.39.96c-.5-.38-1.03-.7-1.62-.94l-.36-2.54c-.04-.24-.24-.41-.48-.41h-3.84c-.24 0-.43.17-.47.41l-.36 2.54c-.59.24-1.13.57-1.62.94l-2.39-.96c-.22-.08-.47 0-.59.22L2.74 8.87c-.12.21-.08.47.12.61l2.03 1.58c-.05.3-.09.63-.09.94s.02.64.07.94l-2.03 1.58c-.18.14-.23.41-.12.61l1.92 3.32c.12.22.37.29.59.22l2.39-.96c.5.38 1.03.7 1.62.94l.36 2.54c.05.24.24.41.48.41h3.84c.24 0 .44-.17.47-.41l.36-2.54c.59-.24 1.13-.56 1.62-.94l2.39.96c.22.08.47 0 .59-.22l1.92-3.32c.12-.22.07-.47-.12-.61zM12 15.6c-1.98 0-3.6-1.62-3.6-3.6s1.62-3.6 3.6-3.6 3.6 1.62 3.6 3.6-1.62 3.6-3.6 3.6"}),"Settings")},28170:(e,t,n)=>{n.d(t,{A:()=>A});var i=n(98587),a=n(58168),r=n(9950),o=n(72004),l=n(88465),s=n(59254),d=n(18463),c=n(1763),u=n(423);function h(e){return(0,u.Ay)("MuiDialogContent",e)}(0,c.A)("MuiDialogContent",["root","dividers"]);var m=n(23025),g=n(44414);const p=["className","dividers"],x=(0,s.Ay)("div",{name:"MuiDialogContent",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.root,n.dividers&&t.dividers]}})((e=>{let{theme:t,ownerState:n}=e;return(0,a.A)({flex:"1 1 auto",WebkitOverflowScrolling:"touch",overflowY:"auto",padding:"20px 24px"},n.dividers?{padding:"16px 24px",borderTop:`1px solid ${(t.vars||t).palette.divider}`,borderBottom:`1px solid ${(t.vars||t).palette.divider}`}:{[`.${m.A.root} + &`]:{paddingTop:0}})})),A=r.forwardRef((function(e,t){const n=(0,d.b)({props:e,name:"MuiDialogContent"}),{className:r,dividers:s=!1}=n,c=(0,i.A)(n,p),u=(0,a.A)({},n,{dividers:s}),m=(e=>{const{classes:t,dividers:n}=e,i={root:["root",n&&"dividers"]};return(0,l.A)(i,h,t)})(u);return(0,g.jsx)(x,(0,a.A)({className:(0,o.A)(m.root,r),ownerState:u,ref:t},c))}))},80691:(e,t,n)=>{n.d(t,{A:()=>i});const i={border:0,clip:"rect(0 0 0 0)",height:"1px",margin:"-1px",overflow:"hidden",padding:0,position:"absolute",whiteSpace:"nowrap",width:"1px"}}}]);