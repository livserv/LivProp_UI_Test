"use strict";(self.webpackChunklib_prop_ui=self.webpackChunklib_prop_ui||[]).push([[982],{88983:(e,o,t)=>{t.d(o,{Z:()=>l});var n=t(93701),r=t(46417);function l(e){let{children:o,type:t}=e;return(0,r.jsx)(n.E.div,{whileHover:{scale:1},whileTap:{scale:.9},children:o})}l.defaultProps={type:"scale"}},97316:(e,o,t)=>{t.d(o,{Z:()=>h});var n=t(47313),r=t(19860),l=t(73428),i=t(54641),s=t(61113),a=t(93405),d=t(46417);const c={p:2.5,"& .MuiCardHeader-action":{m:"0px auto",alignSelf:"center"}},h=(0,n.forwardRef)(((e,o)=>{let{border:t=!0,boxShadow:n,children:h,content:u=!0,contentSX:g={},darkTitle:x,elevation:m,secondary:p,shadow:b,sx:v={},title:j,...f}=e;const C=(0,r.Z)();return n="dark"===C.palette.mode?n||!0:n,(0,d.jsxs)(l.Z,{elevation:m||0,ref:o,...f,sx:{border:t?"1px solid":"none",borderRadius:2,borderColor:"dark"===C.palette.mode?C.palette.divider:C.palette.grey.A800,boxShadow:!n||t&&"dark"!==C.palette.mode?"inherit":b||C.customShadows.z1,":hover":{boxShadow:n?b||C.customShadows.z1:"inherit"},"& pre":{m:0,p:"16px !important",fontFamily:C.typography.fontFamily,fontSize:"0.75rem"},...v},children:[!x&&j&&(0,d.jsx)(i.Z,{sx:c,titleTypographyProps:{variant:"subtitle1"},title:j,action:p}),x&&j&&(0,d.jsx)(i.Z,{sx:c,title:(0,d.jsx)(s.Z,{variant:"h3",children:j}),action:p}),u&&(0,d.jsx)(a.Z,{sx:g,children:h}),!u&&h]})}))},63089:(e,o,t)=>{t.d(o,{Z:()=>s});var n=t(47313),r=t(31095),l=t(85281),i=t(46417);const s=function(e){let{onClick:o,disabled:t,isLoading:s,children:a,...d}=e;const[c,h]=n.useState(s);return(0,i.jsxs)(r.Z,{onClick:e=>{if(!o)return;const t=o(e);"function"===typeof(null===t||void 0===t?void 0:t.finally)&&(h(!0),t.finally((()=>h(!1))))},disabled:c||s||t,...d,children:[(c||s)&&(0,i.jsx)(l.Z,{size:16,color:"primary",style:{marginRight:"10px"}}),a]})}},51198:(e,o,t)=>{t.r(o),t.d(o,{default:()=>Ae});var n=t(47313),r=t(9019),l=t(61113),i=t(46417);const s=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"16px",o=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"0 0 24 24";return(0,i.jsx)("svg",{width:e,height:e,viewBox:o,fill:"none",xmlns:"http://www.w3.org/2000/svg",children:(0,i.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",fill:"currentColor",d:"M19.207 6.207a1 1 0 0 0-1.414-1.414L12 10.586 6.207 4.793a1 1 0 0 0-1.414 1.414L10.586 12l-5.793 5.793a1 1 0 1 0 1.414 1.414L12 13.414l5.793 5.793a1 1 0 0 0 1.414-1.414L13.414 12l5.793-5.793z"})})},a=s(),d=(0,i.jsx)("svg",{fill:"currentColor",width:"16px",height:"16px",viewBox:"0 0 1920 1920",xmlns:"http://www.w3.org/2000/svg",children:(0,i.jsx)("path",{d:"M960 0v213.333c411.627 0 746.667 334.934 746.667 746.667S1371.627 1706.667 960 1706.667 213.333 1371.733 213.333 960c0-197.013 78.4-382.507 213.334-520.747v254.08H640V106.667H53.333V320h191.04C88.64 494.08 0 720.96 0 960c0 529.28 430.613 960 960 960s960-430.72 960-960S1489.387 0 960 0",fillRule:"evenodd"})}),c=(0,i.jsxs)("svg",{stroke:"currentColor",fill:"currentColor",strokeWidth:0,viewBox:"0 0 1024 1024",version:"1.1",height:"1.5em",width:"1.5em",xmlns:"http://www.w3.org/2000/svg",children:[(0,i.jsx)("defs",{}),(0,i.jsx)("path",{d:"M931.4 498.9L94.9 79.5c-3.4-1.7-7.3-2.1-11-1.2-8.5 2.1-13.8 10.7-11.7 19.3l86.2 352.2c1.3 5.3 5.2 9.6 10.4 11.3l147.7 50.7-147.6 50.7c-5.2 1.8-9.1 6-10.3 11.3L72.2 926.5c-0.9 3.7-0.5 7.6 1.2 10.9 3.9 7.9 13.5 11.1 21.5 7.2l836.5-417c3.1-1.5 5.6-4.1 7.2-7.1 3.9-8 0.7-17.6-7.2-21.6zM170.8 826.3l50.3-205.6 295.2-101.3c2.3-0.8 4.2-2.6 5-5 1.4-4.2-0.8-8.7-5-10.2L221.1 403 171 198.2l628 314.9-628.2 313.2z"})]}),h=(0,i.jsx)("span",{style:{fontSize:"22px"},children:"\ud83d\udfe2"}),u=(0,i.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 48 48",height:"24px",width:"24px",children:[(0,i.jsx)("path",{fill:"#42c3cf",d:"M31.64,27.72a13.94,13.94,0,0,1-15.28,0A18,18,0,0,0,6.05,42.94a1,1,0,0,0,.27.75,1,1,0,0,0,.73.31H41a1,1,0,0,0,.73-.31,1,1,0,0,0,.27-.75A18,18,0,0,0,31.64,27.72Z"}),(0,i.jsx)("circle",{cx:24,cy:16,r:12,fill:"#42c3cf"})]}),g=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"24px";return(0,i.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 32 32",height:e,width:e,children:[(0,i.jsx)("path",{fill:"#8a6845",d:"M7 23V9C7 4.3 10.8.5 15.5.5S24 4.3 24 9v14"}),(0,i.jsx)("path",{fill:"#745539",d:"M11 9.5V12c0 2.3 1.2 4.3 3 5.5v3.6l-2 .1v.5c.1.3.2 1.6.3 1.8h10.3c.1-.3.2-.6.3-.8l-1.9-.6v-4.6c1.8-1.2 3-3.2 3-5.5V9.5H11z"}),(0,i.jsx)("path",{fill:"#745539",d:"M16.5.6c-.3 0-.7-.1-1-.1C10.8.5 7 4.3 7 9v14h2V9c0-4.4 3.3-7.9 7.5-8.4z"}),(0,i.jsx)("path",{fill:"#607d95",d:"M24.6 22.4L21 21.2c-.5 2.8-5.4 5-5.4 5s-4.9-2.2-5.4-5l-3.6 1.2C4.4 23 3 25 3 27.1v4.4h25v-4.4c0-2.1-1.4-4.1-3.4-4.7z"}),(0,i.jsx)("path",{fill:"#4b6c85",d:"M14.5 25.7c-1.1-.6-2.8-1.7-3.8-3.1-.3-.5-.6-.9-.7-1.4l-3.6 1.2C4.4 23 3 25 3 27.1v4.4h2v-4.1c0-1.7 1.1-3.3 2.7-3.8.8-.3 1.7-.1 2.4.5l1.2.9c1.2.8 2.7 1.2 4.2 1.2 0 0-.7-.3-1-.5z"}),(0,i.jsx)("path",{fill:"#004463",d:"M20.5 16h-3c-.3 0-.5-.2-.5-.5s.2-.5.5-.5h3c1.4 0 2.5-1.1 2.5-2.5v-2c0-.3.2-.5.5-.5s.5.2.5.5v2c0 1.9-1.6 3.5-3.5 3.5z"}),(0,i.jsx)("path",{fill:"#f0c9ae",d:"M19 20.5v-3h-7v3l-2 .6c.5 2.8 5.4 5 5.4 5s4.9-2.2 5.4-5l-1.8-.6zM20.9 21.2h.1z"}),(0,i.jsx)("path",{fill:"#4b6c85",d:"M28 31.5v-4.4c0-.9-.3-1.8-.7-2.6-3 .4-5.3 2.9-5.3 6v1h6zM3 31.5v-4.4c0-.9.3-1.8.7-2.6 3 .4 5.3 2.9 5.3 6v1H3z"}),(0,i.jsx)("path",{fill:"#40657c",d:"M5.7 25.2c-.6-.3-1.3-.5-2-.6l-.3.6v.1c-.1.2-.1.4-.2.5 0 .1 0 .2-.1.2 0 .1-.1.3-.1.4V31.5h2v-4.1c0-.8.3-1.6.7-2.2z"}),(0,i.jsx)("path",{fill:"#607d95",d:"M10 12.5H8c-.6 0-1-.4-1-1v-1c0-.6.4-1 1-1h2v3zM24 12.5h-3v-3h2c.6 0 1 .4 1 1v2z"}),(0,i.jsx)("path",{fill:"#e2b698",d:"M14 18.5v-1h-2v3l-2 .6c.5 2.8 5.4 5 5.4 5h.1c.2-.1.5-.2.9-.5-1.1-.6-2.8-1.7-3.8-3-.2-.3-.1-.7.2-.8l.3-.1c.4-.1.7-.5.7-.9v-2.3z"}),(0,i.jsx)("path",{fill:"#e2b698",d:"M19 17.5h-7v1c1 .6 2.2 1 3.5 1 1.3 0 2.5-.4 3.5-1v-1z"}),(0,i.jsx)("path",{fill:"#f0c9ae",d:"M20.9 21.2h.1zM15 9.5c-1.9 0-3.4-1.3-3.9-3H11v1c0 1.1-.9 2-2 2V12c0 3.6 2.9 6.5 6.5 6.5S22 15.6 22 12V9.5h-7z"}),(0,i.jsx)("path",{fill:"#e2b698",d:"M13.6 17.9C11.9 16 11 13.6 11 11.1v-.9c.3-.2.5-.4.7-.6.7 1.1 1.9 1.9 3.3 1.9h7v-2h-7c-.2 0-.4 0-.6-.1-.1 0-.3-.1-.4-.1-.1 0-.1 0-.2-.1-.2-.1-.3-.1-.5-.2h-.1c-.2-.1-.3-.2-.4-.3-.1 0-.1-.1-.2-.1-.2-.2-.5-.4-.7-.7-.1-.2-.3-.4-.4-.6 0-.1-.1-.1-.1-.2-.1-.3-.2-.5-.3-.8H11v1c0 1.1-.9 2-2 2V12.9c0 .2 0 .3.1.5 0 .1 0 .2.1.2 0 .1.1.3.1.4 0 .1.1.2.1.2.1.1.1.3.2.4 0 .1.1.1.1.2.1.2.2.3.2.4l.1.1c.1.2.2.3.4.5.9 1.1 2.1 1.9 3.6 2.3l-.4-.2z"}),(0,i.jsx)("path",{fill:"#004463",d:"M22.4 14.1c-.5.5-1.1.9-1.9.9h-3c-.3 0-.5.2-.5.5s.2.5.5.5h3c1.3 0 2.5-.8 3.1-1.9h-1.2z"}),(0,i.jsx)("path",{fill:"#607d95",d:"M17.5 16.5h-1c-.6 0-1-.4-1-1s.4-1 1-1h1c.6 0 1 .4 1 1s-.4 1-1 1z"})]})},x=g(),m=(0,i.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"75",height:"75",viewBox:"0 0 1792 1792",children:(0,i.jsx)("path",{fill:"currentColor",d:"M1171 960q0 13-10 23l-466 466q-10 10-23 10t-23-10l-50-50q-10-10-10-23t10-23l393-393-393-393q-10-10-10-23t10-23l50-50q10-10 23-10t23 10l466 466q10 10 10 23z"})}),p=(0,i.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"75",height:"75",viewBox:"0 0 1792 1792",children:(0,i.jsx)("path",{fill:"currentColor",d:"M1203 544q0 13-10 23L800 960l393 393q10 10 10 23t-10 23l-50 50q-10 10-23 10t-23-10L631 983q-10-10-10-23t10-23l466-466q10-10 23-10t23 10l50 50q10 10 10 23z"})}),b=(0,i.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"36",height:"32",viewBox:"4 6 18 12",className:"svg-icon-caret-up",children:(0,i.jsx)("path",{fill:"currentColor",d:"M5.161 14.908c-.707.809-.133 2.073.94 2.073h11.797c1.074 0 1.648-1.265.94-2.073l-5.521-6.31a1.75 1.75 0 00-2.634 0l-5.522 6.31zm1.492.573l5.159-5.896a.25.25 0 01.376 0l5.16 5.896H6.652z"})}),v=t.p+"static/media/pdf.c65c4221835f46233e5f.png",j={pdf:v},f={display:"block",marginBottom:"15px"};const C=function(e){let{media:o=[],content:t}=e;const{type:n,name:r,url:l}=o[0]||{},s=j[null===n||void 0===n?void 0:n.toLowerCase()]||v;return(0,i.jsxs)("div",{children:[(0,i.jsx)("span",{style:f,children:t||"For more information, please refer to below ".concat(n.toUpperCase()," for more details")}),(0,i.jsx)("a",{href:l,rel:"noreferrer",target:"_blank",width:200,children:(0,i.jsx)("img",{src:s,alt:r,width:60,className:"media-style"})}),(null===o||void 0===o?void 0:o.length)>1&&o.map(((e,o)=>(0,i.jsx)("a",{href:e.url,rel:"noreferrer",target:"_blank",style:{display:"block"},children:e.name},o)))]})},Z=(e,o)=>"image"===e.type?(0,i.jsx)("img",{className:"media-renderer",src:e.url,alt:e.name,onLoad:o}):"video"===e.type?(0,i.jsx)("video",{className:"media-renderer",src:e.url,title:e.name}):"pdf"===e.type?(0,i.jsx)("iframe",{className:"media-renderer",src:e.url,title:e.name,onLoad:o}):null,y=s("52px","0 0 24 24");const B=function(e){let{onClose:o,media:t}=e;const[r,l]=n.useState(0),[s,a]=n.useState(!1),d=t[r];return(0,i.jsxs)("div",{className:"lp-light-box",children:[(0,i.jsx)("div",{className:"close-icon",onClick:o,title:"Click to close",children:y}),(0,i.jsxs)("div",{className:"nav-button-container "+(t.length>1?"multi":"single"),children:[(0,i.jsx)("div",{className:"nav-icon",onClick:()=>{a(!0);const e=(r-1+t.length)%t.length;l(e)},children:p}),(0,i.jsxs)("div",{className:"media-container",children:[s&&(0,i.jsx)("div",{children:"Loading..."}),Z(d,(()=>{a(!1)}))]}),(0,i.jsx)("div",{className:"nav-icon",onClick:()=>{a(!0);const e=(r+1)%t.length;l(e)},children:m})]})]})},w={display:"block",marginBottom:"15px"};const P=function(e){let{media:o=[],content:t}=e;const[r,l]=n.useState(!1),s=n.useCallback((()=>l(!0)),[]),a=n.useCallback((()=>l(!1)),[]),{url:d,name:c}=o[0]||{};return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsxs)("div",{children:[(0,i.jsx)("span",{style:w,children:t||"Please refer to below image for more details"}),(0,i.jsx)("img",{alt:c,src:d,width:200,className:"media-style",tabIndex:0,onClick:s})]}),r&&(0,i.jsx)(B,{media:o,type:"image",onClose:a})]})};var k=t(99007);t(35724);const L=function(e){let{content:o}=e;return o.split("\n").map(((e,o)=>{if(!e)return(0,i.jsx)("br",{},o);const t=/((https?:\/\/[^\s]+)|(?:\[.*?\]\(.*?\)))/g,r=e.split(t).filter(((e,o,t)=>e&&t.indexOf(e)===o));return(0,i.jsxs)(n.Fragment,{children:[!!o&&(0,i.jsx)("br",{}),(0,i.jsx)("span",{children:r.map(((e,o)=>{if(e.match(t)){if(e.startsWith("[")&&e.endsWith(")")){const t=e.match(/\[(.*?)\]\((.*?)\)/),n=t[1],r=t[2];return(0,i.jsx)(S,{href:r,children:n},o)}return(0,i.jsx)(S,{href:e.endsWith(".")?e.substring(0,e.length-1):e,children:e},o)}return(0,i.jsx)("span",{children:e},o)}))})]},o)}))};function S(e){let{href:o,children:t,...n}=e;return(0,i.jsx)("a",{href:o,rel:"noreferrer",target:"_blank",style:{cursor:"pointer"},...n,children:t})}const F={default:L,image:P,form:L,lead:function(e){let{content:o,profile:t,updateContact:r}=e;const[l,s]=n.useState({name:"",email:"",phone:""}),[a,d]=n.useState({}),[c,h]=n.useState(!1),{isNameTaken:u,isPhoneNumberTaken:g,isEmailTaken:x}=t||{},{name:m,email:p,phone:b}=l,v=!((u||m.trim())&&(x||p.trim())&&(g||b.trim().length>=5));return(0,i.jsx)("div",{className:"message-box-form",children:(0,i.jsxs)("div",{className:"block",style:{boxSizing:"border-box"},children:[(0,i.jsx)("span",{className:"info-text",children:o||"Please enter your contact Information"}),!u&&(0,i.jsx)("input",{type:"text",className:"text-box mb-2"+(a.name?" error":""),value:l.name,onChange:e=>{s((o=>({...o,name:e.target.value}))),d((e=>({...e,name:!1})))},placeholder:"Name *"}),!x&&(0,i.jsx)("input",{type:"text",className:"text-box mb-2"+(a.email?" error":""),value:l.email,onChange:e=>{s((o=>({...o,email:e.target.value}))),d((e=>({...e,email:!1})))},placeholder:"Email *"}),!g&&(0,i.jsx)(k.sb,{className:a.email?" error":"",value:l.phone||"",defaultCountry:"in",onChange:(e,o)=>{let{inputValue:t}=o;e&&e!==t&&(s((o=>({...o,phone:e.trim(),dialCode:t}))),d((e=>({...e,phone:!1}))))},disableFormatting:!0,inputProps:{placeholder:"Phone number *"}}),(0,i.jsx)("button",{className:"save-form",onClick:async()=>{const e=function(e,o){const t={},{isNameTaken:n,isPhoneNumberTaken:r,isEmailTaken:l}=o||{};var i,s;n||(t.name=!(null!==(i=e.name)&&void 0!==i&&i.trim().length));l||(t.email=!function(e){var o;if(e=null===(o=e)||void 0===o?void 0:o.trim(),!e)return!1;return/^[a-zA-Z0-9._-]+@[a-zA-Z0-9.-]+\.[a-zA-Z]{2,4}$/.test(e)}(e.email));r||(t.phone=(null===(s=e.phone)||void 0===s?void 0:s.length)<8);return!!Object.values(t).some((e=>e))&&t}(l,t);d(e||{}),e||(h(!0),await r({method:"lead-form",contact:l}),h(!1))},disabled:v||c,children:c?"Please wait...":"Submit"})]})})},file:C,pdf:C,text:L,video:function(e){let{media:o=[],content:t}=e;const[r,l]=n.useState(!1),s=n.useCallback((()=>l(!0)),[]),a=n.useCallback((()=>l(!1)),[]),{url:d,name:c}=o[0]||{};return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsxs)("div",{children:[(0,i.jsx)("span",{style:{display:"block",marginBottom:"5px"},children:t||"Please refer to below video for more details"}),(0,i.jsx)("video",{src:d,width:200,className:"media-style",title:c,onClick:s})]}),r&&(0,i.jsx)(B,{media:o,type:"image",onClose:a})]})}},T=t.p+"static/media/typing.2ce5c7c546f39287aac0.gif";const _=function(e){let{botDesign:o,messages:t,showTime:r,displayComponents:l,onUserMessage:s,onHistoryChange:a,onClear:d,onHide:c}=e;const[h,u]=n.useState([]),[g,x]=n.useState(!1),m=n.useRef({});m.current.history=h;const{window:p={},header:b,body:v,composer:j}=o||{},f={width:p.width,height:p.height,marginBottom:p.spacingBottom,paddingRight:p.spacingCorner,paddingLeft:p.spacingCorner,fontFamily:p.fontFamily,bottom:(parseFloat(p.height)||500)+(parseFloat(p.spacingBottom)||5)+"px"};n.useEffect((()=>{u(t||[])}),[t]);const C=n.useMemo((()=>({...F,...l})),[l]);return(0,i.jsx)("div",{className:"chat-container",style:f,children:(0,i.jsxs)("div",{className:"chat-window",children:[(0,i.jsx)(N,{design:b,onClear:d,onHide:c}),(0,i.jsx)(I,{design:v,messages:h,displayComponents:C,showTime:r,showLoader:g}),(0,i.jsx)(E,{design:j,onSend:s?e=>{const o=[...m.current.history,{role:"user",type:"text",content:e}],t=o.length;u(o),null===a||void 0===a||a(o),x(!0),s(e).then((e=>{const o=[...m.current.history];Array.isArray(e)?o.splice(t,0,...e):o.splice(t,0,e),u(o),null===a||void 0===a||a(o)})).finally((()=>{x(!1)}))}:void 0})]})})};function N(e){let{design:o,onClear:t,onHide:n}=e;const{logo:r,bgColor:l,fontColor:s,titleText:c="Live Chat",padding:u}=o||{};return(0,i.jsxs)("div",{className:"header",style:{backgroundColor:l,padding:u,height:u?"initial":void 0},children:[(0,i.jsxs)("div",{className:"icon-block",children:[!r&&h,r&&(0,i.jsx)("img",{src:r.url,alt:"",style:{width:r.width,height:r.height,margin:r.margin}})]}),(0,i.jsx)("div",{className:"title-block",children:(0,i.jsx)("span",{className:"title",style:{color:s},children:c})}),(0,i.jsxs)("div",{className:"controls-block",children:[(0,i.jsx)("span",{tabIndex:0,className:"icon icon-close",title:"Hide chat",onClick:n,children:a}),(0,i.jsx)("span",{tabIndex:0,className:"icon icon-send",title:"Restart conversation",onClick:t,children:d})]})]})}function I(e){let{messages:o,showTime:t,displayComponents:r,showLoader:l,design:s={}}=e;const a=n.useRef();return n.useEffect((()=>{a.current&&setTimeout((()=>a.current.scrollTo({top:a.current.scrollHeight,behavior:"smooth"})),30)}),[o]),(0,i.jsxs)("div",{className:"chat-body",ref:a,children:[null===o||void 0===o?void 0:o.map(((e,n)=>(0,i.jsx)(M,{message:e,prevMessage:o[n-1],displayComponents:r,showTime:t,design:s},n))),l&&(0,i.jsx)(M,{message:{role:"assistant",type:"loader"},design:s,children:(0,i.jsx)("img",{src:T,alt:"",style:{height:"42px"}})})]})}function M(e){let{message:o,prevMessage:t,displayComponents:n,showTime:r,children:l,design:s}=e;const{role:a,contentType:d,type:c,createdAt:h,...g}=o,m="user"===a,p=(null===t||void 0===t?void 0:t.role)!==a,b=(m?null===s||void 0===s?void 0:s.visitorBlock:null===s||void 0===s?void 0:s.assistantBlock)||{},{useLogo:v,logoUrl:j,...f}=b,C={width:"24px",height:"24px"};if(!l){const e=n[d||c]||n.default;l=(0,i.jsx)(i.Fragment,{children:(0,i.jsxs)("div",{className:"content",style:f,children:[(0,i.jsx)(e,{...g,type:c,isUser:m,showIcon:p}),r&&(0,i.jsx)("div",{className:"message-time "+(m?"user":"system"),children:A(h)})]})})}return(0,i.jsx)(i.Fragment,{children:(0,i.jsxs)("div",{className:"message "+(m?"user-message":"system-message"),children:[!m&&(0,i.jsx)("div",{className:"chat-logo",children:v?(0,i.jsx)("img",{src:j,alt:"assistant",style:C}):x}),l,m&&(0,i.jsx)("div",{className:"chat-logo",children:v?(0,i.jsx)("img",{src:j,alt:"assistant",style:C}):u})]})})}function A(e){if("string"===typeof e&&(e=new Date(e)),!(e instanceof Date)||isNaN(e))return null;let o=e.getHours(),t=e.getMinutes();const n=o>=12?"PM":"AM";o%=12,o=o||12,t=t<10?"0"+t:t;return"".concat(o,":").concat(t," ").concat(n)}function E(e){let{design:o,onSend:t}=e;const{placeholder:r="Type your message..."}=o||{},[l,s]=n.useState(""),a=()=>{t&&(t(l),s(""))},d=e=>{13===e.keyCode&&a()},h=n.useCallback((e=>{const o=e.currentTarget.value;s(o)}),[]);return(0,i.jsxs)("div",{className:"message-block",children:[(0,i.jsx)("input",{value:l,placeholder:r,disabled:!t,onChange:h,onKeyDown:d}),(0,i.jsx)("div",{role:"button",tabIndex:0,className:"send-icon",disabled:!t,onClick:a,onKeyDown:d,children:c})]})}var R=t(91318),W=t(32203),z=t(69753);function H(){return sessionStorage.getItem("temporary-app-id")}function V(){return localStorage.getItem("permanent-app-id")}async function O(){var e,o,t;const n=W.lB||"d5f26b13e02d0e43f0870c726797b2c2f726b739a4c91bf9e4bb59c2";let r=await z.U2("https://api.ipdata.co?api-key=".concat(n));const l=(new R.UAParser).getResult()||{},{ip:i,is_eu:s,city:a,region:d,region_code:c,region_type:h,country_name:u,country_code:g,continent_name:x,continent_code:m,latitude:p,longitude:b,postal:v,calling_code:j,time_zone:f,currency:C}=r,Z={ipAddress:i,deviceType:null===(e=l.device)||void 0===e?void 0:e.type,browserName:null===(o=l.browser)||void 0===o?void 0:o.name,osName:null===(t=l.os)||void 0===t?void 0:t.name,...D()};return Z.locationDetails={is_eu:s,city:a,region:d,region_code:c,region_type:h,country_name:u,country_code:g,continent_name:x,continent_code:m,latitude:p,longitude:b,postal:v,calling_code:j,time_zone:f,currency:C},Z}function D(){const e=new URLSearchParams(window.location.search),o=e.get("sourceUrl"),t=e.get("referrerUrl");return{utmParameters:Array.from(e.keys()).reduce(((o,t)=>{if(t.startsWith("utm_")){const n=e.get(t);n&&"null"!==n&&(o[t]=n)}return o}),{}),sourceUrl:o,referrerUrl:t}}const U=function(e){var o;let{botDetails:t,botDesign:r,onReceiveChatResponse:l}=e;const[s,a]=n.useState(!1),[d,c]=n.useState(!1),[h,u]=n.useState(t),[g,x]=n.useState([]),[m,p]=n.useState(),b=n.useCallback((()=>{a((e=>!e)),c(!0),setTimeout((()=>c(!1)),1e3)}),[]);n.useEffect((()=>{O().then(p)}),[]);const v=n.useRef({});v.current.bot=h,v.current.onReceiveChatResponse=l;const j=n.useCallback((async e=>{const{updateContact:o,onReceiveChatResponse:t,bot:n}=v.current;return await async function(e,o,t,n){const r=V(),l=H(),i=O(),{_id:s,organizationId:a}=o,d={userQuery:e,recipientDetails:{recipientId:r,conversationId:l,...i}};t&&(d.testMode=!0);const c=await z.v_("/bot/".concat(a,"/").concat(s,"/chat"),d,{noAuth:!0});return null===t||void 0===t||t(c),function(e,o){const{chatRefId:t,recipientId:n,messages:r}=e;return function(e){sessionStorage.setItem("temporary-app-id",e)}(t),function(e){localStorage.setItem("permanent-app-id",e)}(n),q(r,o)}(c,n)}(e,n,t,o)}),[]);if(v.current.updateContact=n.useCallback((async e=>{const o=await j(e);x((e=>e.filter((e=>"lead"!==e.type)).concat(...o)))}),[j]),n.useEffect((()=>{const{updateContact:e}=v.current;t?$(t,e).then(x):async function(){try{const e={authToken:token};return await z.U2("/bot/get-bot-details-by-auth-token",e,{noAuth:!0})}catch(e){console.log("Failed to init chat:-",e)}}().then((o=>{u(o),$(t,e).then(x)}))}),[t]),!h||!m)return null;let f="hide-chat";return s&&d?f="opening":s&&!d?f="show-chat":!s&&d&&(f="closing"),f+="bottomLeft"===(null===r||void 0===r||null===(o=r.window)||void 0===o?void 0:o.align)?" bottom-left ":" bottom-right ",(0,i.jsxs)("div",{className:"chat-handler "+f,children:[(0,i.jsx)(_,{botDesign:r,messages:g,showTime:!0,onUserMessage:j,onHistoryChange:x,onClear:()=>{x([]),sessionStorage.removeItem("temporary-app-id")},onHide:b}),!s&&!d&&(0,i.jsx)(G,{design:r,onToggle:b})]})},K=g("42px");function G(e){let{design:o,onToggle:t}=e;const{launcher:{useBar:n=!1,buttonLogoUrl:r,buttonOnMobile:l,barText:s}={},header:{bgColor:a,fontColor:d}={}}=o||{};return!n||l?(0,i.jsxs)("div",{className:"lp-launcher button",onClick:t,style:{borderColor:a},children:[r&&(0,i.jsx)("img",{src:r,alt:"Live Chat"}),!r&&K]}):(0,i.jsx)("div",{className:"lp-launcher bar",onClick:t,style:{backgroundColor:a,color:d},children:(0,i.jsxs)("span",{children:[b," ",s||"Live Chat"]})})}function q(e,o){if(null===e||void 0===e||!e.length)return e;const t=e[e.length-1];return"form"===t.type&&e.push({role:"user",type:"lead",content:"",profile:t.media,updateContact:o}),e}async function $(e,o){const{_id:t,organizationId:n}=e,r=V(),l=H();if(!r||!l)return[];try{return q(await z.U2("/bot/".concat(n,"/").concat(t,"/chat/history/").concat(r,"/").concat(l),null,{noAuth:!0}),o)}catch(i){console.log("Failed to fetch chat history:-",i)}}var X=t(41806),Y=t(19536),J=t(42832),Q=t(23306),ee=t(15480),oe=t(37843),te=t(55685),ne=t(83929),re=t(74268),le=t(21933),ie=t(24977),se=t(97316),ae=t(88983),de=t(4450);const ce=function(e){let{value:o,onChange:t,...r}=e;const[l,s]=n.useState(!1),a=n.useRef(),d=n.useRef(),c=e=>{let{hex:o}=e;t(r.name,o)};return n.useEffect((()=>{const e=e=>{a.current&&!a.current.contains(e.target)&&s(!1)};return document.addEventListener("click",e),()=>{document.removeEventListener("click",e)}}),[]),(0,i.jsxs)("div",{ref:a,style:{position:"relative"},children:[(0,i.jsx)("div",{style:{backgroundColor:o,height:"35px",width:"35px",position:"absolute",top:"3px",left:"3px"}}),(0,i.jsx)(oe.Z,{inputRef:d,value:o,onChange:e=>c({hex:e.currentTarget.value}),maxLength:9,...r,type:"text",onFocus:()=>s(!0),style:{paddingLeft:"32px"}}),l&&(0,i.jsx)("div",{style:{position:"absolute",zIndex:1,top:"45px"},children:(0,i.jsx)(de.AI,{color:o,onChange:c})})]})};var he=t(969),ue=t(45960),ge=t(24256),xe=t(51405);const me=function(e){let{value:o,onChange:t,...r}=e;const l=n.useCallback((e=>t(r.name,"yes"===e.target.value)),[r.name,t]);return(0,i.jsxs)(ge.Z,{...r,value:o?"yes":"no",defaultValue:o?"yes":"no",onChange:l,children:[(0,i.jsx)(xe.Z,{value:"no",children:"No"}),(0,i.jsx)(xe.Z,{value:"yes",children:"Yes"})]})};const pe=[{value:"gpt-3.5-turbo-16k",label:"GPT 3.5 Latest Stable (default)",description:"Latest stable model of GPT 3.5. Cheapest and more performant. Random minor inconsistency observed sometimes."},{value:"gpt-3.5-turbo-1106",label:"GPT 3.5 Latest Preview",description:"Latest preview model of GPT 3.5. This is more accurate than latest stable, but some times non responsive while on peek loads."},{value:"gpt-4",label:"GPT 4 Latest Stable",description:"Latest stable model of GPT 4. More capable, but is 5 times costly then 3.5 models."},{value:"gpt-4-1106-preview",label:"GPT 4 Latest Preview (suggested)",description:"Latest preview model of GPT 4. Most capable model, but is 3 times costly then 3.5 models."}],be=pe.reduce(((e,o)=>(e[o.value]=o,e)),{});const ve=function(e){var o;let{value:t,...n}=e;return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(ge.Z,{...n,value:t,defaultValue:pe[0].value,children:pe.map((e=>(0,i.jsx)(xe.Z,{value:e.value,children:e.label},e.value)))}),(0,i.jsx)(ee.Z,{id:"bot-model-description",children:t?null===(o=be[t])||void 0===o?void 0:o.description:pe[0].description})]})};var je=t(63089);const fe=()=>le.Z_().matches(/^#([A-Fa-f0-9]{6}|[A-Fa-f0-9]{8})$/,"Is not a valid color code").required("Background color is required"),Ce=e=>le.Z_().matches(/^(\d+px|\d+%) (\d+px|\d+%) (\d+px|\d+%) (\d+px|\d+%|\d+%)$/,"Invalid ".concat(e,"! Use the format: 1px 2px 3px 4px not a valid code")),Ze=le.Ry().shape({bgColor:fe(),fontColor:fe(),headerPadding:Ce("padding"),headerLogoMargin:Ce("margin"),visitorBubbleBorderCurve:Ce("border-radius"),botBubbleBorderCurve:Ce("border-radius")}),ye={maxWidth:{xs:400,lg:475},margin:{xs:2.5,md:3},"& > *":{flexGrow:1,flexBasis:"50%"}};const Be=function(e){let{onChange:o}=e;const[t,n]=(0,he.g)(),{botName:l,botDesign:s={}}=n,a={bgColor:s.backgroundColor||"#484a49",botBorderColor:s.botBorderColor||"#484a49",botBackgroundColor:s.botBackgroundColor||"#9c27b0",botFontColor:s.botFontColor||"#000000",visitorBorderColor:s.visitorBorderColor||"#000000",visitorBackgroundColor:s.visitorBackgroundColor||"#ffffff",visitorFontColor:s.visitorFontColor||"#000000",fontType:s.fontType||"normal-font",windowAlign:s.windowAlign||"bottomRight",fontColor:s.textColor||"#484a49",titleText:l,placeholder:"Type your message...",launcherType:"bar",...s};return(0,i.jsx)(se.Z,{sx:ye,content:!1,border:!1,boxShadow:!0,children:(0,i.jsx)(X.Z,{sx:{p:{xs:2,sm:3,md:4,xl:5}},children:(0,i.jsx)(ie.J9,{initialValues:a,validationSchema:Ze,onSubmit:async(e,o)=>{let{setErrors:n,setStatus:r,setSubmitting:l}=o;try{await(0,ue.Bc)(t,e),r({success:!1}),l(!1)}catch(i){console.error(i),r({success:!1}),n({submit:i.message}),l(!1)}},children:e=>(0,i.jsxs)("form",{noValidate:!0,onSubmit:e.handleSubmit,children:[(0,i.jsxs)(r.ZP,{container:!0,spacing:3,children:[(0,i.jsx)(we,{...e}),(0,i.jsx)(Pe,{...e}),(0,i.jsx)(ke,{...e}),(0,i.jsx)(Ne,{...e}),(0,i.jsx)(Se,{...e}),(0,i.jsx)(Fe,{...e}),(0,i.jsx)(Le,{...e}),(0,i.jsx)(Te,{...e}),(0,i.jsx)(_e,{...e})]}),(0,i.jsx)(Ie,{onChange:o})]})})})})};function we(e){let{values:o,touched:t,errors:n,handleBlur:s,handleChange:a}=e;return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(r.ZP,{item:!0,xs:12,children:(0,i.jsx)(Y.Z,{children:(0,i.jsx)(l.Z,{variant:"subtitle1",children:"General Settings"})})}),(0,i.jsx)(r.ZP,{item:!0,xs:12,children:(0,i.jsxs)(J.Z,{spacing:1,children:[(0,i.jsx)(Q.Z,{htmlFor:"bg-color",children:"Underlying GPT Model *"}),(0,i.jsx)(ve,{id:"botModelName",value:o.botModelName,name:"botModelName",onBlur:s,onChange:a,error:Boolean(t.botModelName&&n.botModelName)}),t.botModelName&&n.botModelName&&(0,i.jsx)(ee.Z,{error:!0,id:"helper-text-bg-color",children:n.botModelName})]})})]})}function Pe(e){let{values:o,touched:t,errors:n,handleBlur:s,handleChange:a,setFieldValue:d}=e;return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(r.ZP,{item:!0,xs:12,children:(0,i.jsx)(Y.Z,{children:(0,i.jsx)(l.Z,{variant:"subtitle1",children:"Header Settings"})})}),(0,i.jsx)(r.ZP,{item:!0,xs:12,md:6,children:(0,i.jsxs)(J.Z,{spacing:1,children:[(0,i.jsx)(Q.Z,{htmlFor:"bg-color",children:"Background Color *"}),(0,i.jsx)(ce,{id:"bg-color",type:"color",value:o.bgColor,name:"bgColor",onBlur:s,onChange:d,placeholder:"",fullWidth:!0,error:Boolean(t.bgColor&&n.bgColor)}),t.bgColor&&n.bgColor&&(0,i.jsx)(ee.Z,{error:!0,id:"helper-text-bg-color",children:n.bgColor})]})}),(0,i.jsx)(r.ZP,{item:!0,xs:12,md:6,children:(0,i.jsxs)(J.Z,{spacing:1,children:[(0,i.jsx)(Q.Z,{htmlFor:"font-color",children:"Font Color *"}),(0,i.jsx)(ce,{id:"font-color",type:"color",value:o.fontColor,name:"fontColor",onBlur:s,onChange:d,placeholder:"",fullWidth:!0,error:Boolean(t.fontColor&&n.fontColor)}),t.fontColor&&n.fontColor&&(0,i.jsx)(ee.Z,{error:!0,id:"helper-text-font-color",children:n.fontColor})]})}),(0,i.jsx)(r.ZP,{item:!0,xs:12,children:(0,i.jsxs)(J.Z,{spacing:1,children:[(0,i.jsx)(Q.Z,{htmlFor:"headerPadding",style:{paddingBottom:"6px"},children:"Chat Window Header Padding"}),(0,i.jsx)(oe.Z,{id:"headerPadding",name:"headerPadding",value:o.headerPadding,onBlur:s,onChange:a,placeholder:"padding: 2px 5px 2px 5px"}),t.headerPadding&&n.headerPadding&&(0,i.jsx)(ee.Z,{error:!0,id:"helper-text-bg-color",children:n.headerPadding})]})}),(0,i.jsx)(r.ZP,{item:!0,xs:12,children:(0,i.jsxs)(J.Z,{spacing:1,children:[(0,i.jsx)(Q.Z,{htmlFor:"bot-title",children:"Chat Window Title *"}),(0,i.jsx)(oe.Z,{fullWidth:!0,error:Boolean(t.titleText&&n.titleText),id:"bot-title",value:o.titleText,name:"titleText",onBlur:s,onChange:a,placeholder:"Provide your bot title text",inputProps:{maxLength:25}}),t.titleText&&n.titleText&&(0,i.jsx)(ee.Z,{error:!0,id:"helper-text-bot-title",children:n.titleText})]})}),(0,i.jsx)(r.ZP,{item:!0,xs:12,md:6,children:(0,i.jsxs)(J.Z,{spacing:1,children:[(0,i.jsx)(Q.Z,{htmlFor:"chatWindowWidth",children:"Chat Window Width"}),(0,i.jsx)(oe.Z,{fullWidth:!0,type:"text",id:"chatWindowWidth",name:"chatWindowWidth",defaultValue:o.chatWindowWidth,onChange:a,placeholder:"300px"})]})}),(0,i.jsx)(r.ZP,{item:!0,xs:12,md:6,children:(0,i.jsxs)(J.Z,{spacing:1,children:[(0,i.jsx)(Q.Z,{htmlFor:"chatWindowHeight",children:"Chat Window Height"}),(0,i.jsx)(oe.Z,{fullWidth:!0,type:"text",id:"chatWindowHeight",name:"chatWindowHeight",defaultValue:o.chatWindowHeight,onChange:a,placeholder:"320px"})]})})]})}function ke(e){let{values:o,touched:t,errors:n,handleBlur:s,handleChange:a}=e;return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(r.ZP,{item:!0,xs:12,children:(0,i.jsx)(Y.Z,{children:(0,i.jsx)(l.Z,{variant:"subtitle1",children:"Composer Settings"})})}),(0,i.jsx)(r.ZP,{item:!0,xs:12,children:(0,i.jsxs)(J.Z,{spacing:1,children:[(0,i.jsx)(Q.Z,{htmlFor:"placeholder",children:"Placeholder Text *"}),(0,i.jsx)(oe.Z,{fullWidth:!0,error:Boolean(t.placeholder&&n.placeholder),id:"placeholder",defaultValue:o.placeholder,name:"placeholder",onBlur:s,onChange:a,placeholder:"Type your message...",inputProps:{maxLength:30}}),t.placeholder&&n.placeholder&&(0,i.jsx)(ee.Z,{error:!0,id:"helper-text-message-placeholder",children:n.placeholder})]})}),(0,i.jsx)(r.ZP,{item:!0,xs:12,children:(0,i.jsxs)(J.Z,{spacing:1,children:[(0,i.jsx)(Q.Z,{htmlFor:"fontType",children:"Font Name / Google Font Link"}),(0,i.jsxs)(te.Z,{row:!0,id:"fontType",name:"fontType",defaultValue:o.fontType,onChange:a,children:[(0,i.jsx)(ne.Z,{value:"normal-font",control:(0,i.jsx)(re.Z,{}),label:"Normal Font"}),(0,i.jsx)(ne.Z,{value:"google-font",control:(0,i.jsx)(re.Z,{}),label:"Google Font"})]}),(0,i.jsx)(oe.Z,{fullWidth:!0,id:"fontName",name:"fontName",defaultValue:o.fontName,onChange:a,placeholder:"Provide Font Name"}),"google-font"==o.fontType&&(0,i.jsx)(r.ZP,{item:!0,xs:12,children:(0,i.jsxs)(J.Z,{spacing:1,children:[(0,i.jsx)(Q.Z,{htmlFor:"googleFontLink",children:"Paste Google Font Link"}),(0,i.jsx)(oe.Z,{multiline:!0,id:"googleFontLink",name:"googleFontLink",defaultValue:o.googleFontLink,onChange:a,placeholder:"Ex: <link rel='preconnect' href='https://fonts.googleapis.com'>"})]})})]})})]})}function Le(e){let{values:o,handleChange:t}=e;return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(r.ZP,{item:!0,xs:12,children:(0,i.jsx)(Y.Z,{children:(0,i.jsx)(l.Z,{variant:"subtitle1",children:"Allow / Block chat window"})})}),(0,i.jsx)(r.ZP,{item:!0,xs:12,children:(0,i.jsxs)(J.Z,{spacing:1,children:[(0,i.jsx)(Q.Z,{htmlFor:"allowedIP",children:"Allowed IP"}),(0,i.jsx)(oe.Z,{multiline:!0,id:"allowedIP",name:"allowedIP",value:o.allowedIP,onChange:t,"aria-label":"empty textarea",placeholder:"Ex: 192.167.22.340, 192.167.22.341"})]})}),(0,i.jsx)(r.ZP,{item:!0,xs:12,children:(0,i.jsxs)(J.Z,{spacing:1,children:[(0,i.jsx)(Q.Z,{htmlFor:"deniedIP",children:"Denied IP"}),(0,i.jsx)(oe.Z,{multiline:!0,id:"deniedIP",name:"deniedIP",defaultValue:o.deniedIP,onChange:t,"aria-label":"empty textarea",placeholder:"Ex: 192.167.22.340, 192.167.22.341"})]})}),(0,i.jsx)(r.ZP,{item:!0,xs:12,children:(0,i.jsxs)(J.Z,{spacing:1,children:[(0,i.jsx)(Q.Z,{htmlFor:"allowedPages",children:"Allowed Pages"}),(0,i.jsx)(oe.Z,{multiline:!0,id:"allowedPages",name:"allowedPages",defaultValue:o.allowedPages,onChange:t,"aria-label":"empty textarea",placeholder:"Ex: https://xyz.com, https://abc.com"})]})}),(0,i.jsx)(r.ZP,{item:!0,xs:12,children:(0,i.jsxs)(J.Z,{spacing:1,children:[(0,i.jsx)(Q.Z,{htmlFor:"deniedPages",children:"Denied Pages"}),(0,i.jsx)(oe.Z,{multiline:!0,id:"deniedPages",name:"deniedPages",defaultValue:o.deniedPages,onChange:t,"aria-label":"empty textarea",placeholder:"Ex: https://xyz.com, https://abc.com"})]})})]})}function Se(e){let{values:o,handleChange:t}=e;return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(r.ZP,{item:!0,xs:12,children:(0,i.jsx)(Y.Z,{children:(0,i.jsx)(l.Z,{variant:"subtitle1",children:"Chat Window Position"})})}),(0,i.jsx)(r.ZP,{item:!0,xs:12,md:6,children:(0,i.jsxs)(J.Z,{spacing:1,children:[(0,i.jsx)(Q.Z,{id:"windowAlign",children:"Window Align"}),(0,i.jsxs)(ge.Z,{labelId:"windowAlign",defaultValue:o.windowAlign,name:"windowAlign",onChange:t,children:[(0,i.jsx)(xe.Z,{value:"bottomLeft",children:"Bottom Left"}),(0,i.jsx)(xe.Z,{value:"bottomRight",children:"Bottom Right"})]})]})}),(0,i.jsx)(r.ZP,{item:!0,xs:12,md:6,children:(0,i.jsxs)(J.Z,{spacing:1,children:[(0,i.jsx)(Q.Z,{id:"minimizeOnClick",children:"Window Minimized on Click"}),(0,i.jsx)(me,{value:o.minimizeOnClick,name:"minimizeOnClick",defaultValue:!1,onChange:t})]})}),(0,i.jsx)(r.ZP,{item:!0,xs:12,md:6,children:(0,i.jsxs)(J.Z,{spacing:1,children:[(0,i.jsx)(Q.Z,{htmlFor:"paddingLeft",children:"Spacing on corner"}),(0,i.jsx)(oe.Z,{fullWidth:!0,type:"text",id:"paddingLeft",name:"paddingLeft",defaultValue:o.paddingLeft,onChange:t,placeholder:"0px"})]})}),(0,i.jsx)(r.ZP,{item:!0,xs:12,md:6,children:(0,i.jsxs)(J.Z,{spacing:1,children:[(0,i.jsx)(Q.Z,{htmlFor:"paddingBottom",children:"Spacing on Bottom"}),(0,i.jsx)(oe.Z,{fullWidth:!0,type:"text",id:"paddingBottom",name:"paddingBottom",defaultValue:o.paddingBottom,onChange:t,placeholder:"0px"})]})})]})}function Fe(e){let{values:o,errors:t,handleBlur:n,touched:s,handleChange:a}=e;return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(r.ZP,{item:!0,xs:12,children:(0,i.jsx)(Y.Z,{children:(0,i.jsx)(l.Z,{variant:"subtitle1",children:"Chat Window Header Logo Settings"})})}),(0,i.jsx)(r.ZP,{item:!0,xs:12,md:6,children:(0,i.jsxs)(J.Z,{spacing:1,children:[(0,i.jsx)(Q.Z,{htmlFor:"logoWidth",children:"Width"}),(0,i.jsx)(oe.Z,{fullWidth:!0,type:"text",id:"logoWidth",name:"logoWidth",defaultValue:o.logoWidth,onChange:a,placeholder:"64px"})]})}),(0,i.jsx)(r.ZP,{item:!0,xs:12,md:6,children:(0,i.jsxs)(J.Z,{spacing:1,children:[(0,i.jsx)(Q.Z,{htmlFor:"logoHeight",children:"Height"}),(0,i.jsx)(oe.Z,{fullWidth:!0,type:"text",id:"logoHeight",name:"logoHeight",defaultValue:o.logoHeight,onChange:a,placeholder:"64px"})]})}),(0,i.jsx)(r.ZP,{item:!0,xs:12,children:(0,i.jsxs)(J.Z,{spacing:1,children:[(0,i.jsx)(Q.Z,{htmlFor:"headerLogoMargin",children:"Header Logo Margin"}),(0,i.jsx)(oe.Z,{id:"headerLogoMargin",name:"headerLogoMargin",value:o.headerLogoMargin,onBlur:n,onChange:a,placeholder:"border : 1px 2px 3px 4px"}),s.headerLogoMargin&&t.headerLogoMargin&&(0,i.jsx)(ee.Z,{error:!0,id:"helper-text-bg-color",children:t.headerLogoMargin})]})})]})}function Te(e){let{values:o,touched:t,errors:n,handleBlur:s,handleChange:a,setFieldValue:d}=e;return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(r.ZP,{item:!0,xs:12,children:(0,i.jsx)(Y.Z,{children:(0,i.jsx)(l.Z,{variant:"subtitle1",children:"Message Bubble Settings"})})}),(0,i.jsx)(r.ZP,{item:!0,xs:12,children:(0,i.jsx)(l.Z,{variant:"overline",display:"block",style:{color:"#9C27B0"},children:"Visitor Bubble Settings"})}),(0,i.jsx)(r.ZP,{item:!0,xs:12,md:6,children:(0,i.jsxs)(J.Z,{spacing:1,children:[(0,i.jsx)(Q.Z,{htmlFor:"visitorBorderColor",children:"Border Color"}),(0,i.jsx)(ce,{id:"visitorBorderColor",type:"color",value:o.visitorBorderColor,name:"visitorBorderColor",onBlur:s,onChange:d,placeholder:"",fullWidth:!0,error:Boolean(t.visitorBorderColor&&n.visitorBorderColor)}),t.visitorBorderColor&&n.visitorBorderColor&&(0,i.jsx)(ee.Z,{error:!0,id:"helper-text-bg-color",children:n.visitorBorderColor})]})}),(0,i.jsx)(r.ZP,{item:!0,xs:12,md:6,children:(0,i.jsxs)(J.Z,{spacing:1,children:[(0,i.jsx)(Q.Z,{htmlFor:"visitorBackgroundColor",children:"Background Color"}),(0,i.jsx)(ce,{id:"visitorBackgroundColor",type:"color",value:o.visitorBackgroundColor,name:"visitorBackgroundColor",onBlur:s,onChange:d,placeholder:"",fullWidth:!0,error:Boolean(t.visitorBackgroundColor&&n.visitorBackgroundColor)}),t.visitorBackgroundColor&&n.visitorBackgroundColor&&(0,i.jsx)(ee.Z,{error:!0,id:"helper-text-bg-color",children:n.visitorBackgroundColor})]})}),(0,i.jsx)(r.ZP,{item:!0,xs:12,md:6,children:(0,i.jsxs)(J.Z,{spacing:1,children:[(0,i.jsx)(Q.Z,{htmlFor:"visitorFontColor",children:"Font Color"}),(0,i.jsx)(ce,{id:"visitorFontColor",type:"color",value:o.visitorFontColor,name:"visitorFontColor",onBlur:s,onChange:d,placeholder:"",fullWidth:!0,error:Boolean(t.visitorFontColor&&n.visitorFontColor)}),t.visitorFontColor&&n.visitorFontColor&&(0,i.jsx)(ee.Z,{error:!0,id:"helper-text-bg-color",children:n.visitorFontColor})]})}),(0,i.jsx)(r.ZP,{item:!0,xs:12,md:6,children:(0,i.jsxs)(J.Z,{spacing:1,children:[(0,i.jsx)(Q.Z,{htmlFor:"visitorLogo",children:"Visitor Logo"}),(0,i.jsx)(me,{name:"visitorLogo",value:o.visitorLogo,defaultValue:!1,onChange:d})]})}),"yes"==o.visitorLogo&&(0,i.jsx)(r.ZP,{item:!0,xs:12,children:(0,i.jsxs)(J.Z,{spacing:1,children:[(0,i.jsx)(Q.Z,{htmlFor:"visitorLogoImage",children:"Upload Visitor Logo"}),(0,i.jsx)(oe.Z,{fullWidth:!0,type:"file",id:"visitorLogoImage",name:"visitorLogoImage",onChange:a,placeholder:"0px"})]})}),(0,i.jsx)(r.ZP,{item:!0,xs:12,children:(0,i.jsxs)(J.Z,{spacing:1,children:[(0,i.jsx)(Q.Z,{htmlFor:"visitorBubbleBorderCurve",style:{paddingBottom:"6px"},children:"Border Radius"}),(0,i.jsx)(oe.Z,{id:"visitorBubbleBorderCurve",name:"visitorBubbleBorderCurve",value:o.visitorBubbleBorderCurve,onBlur:s,onChange:a,placeholder:"border : 1px 2px 3px 4px"}),t.visitorBubbleBorderCurve&&n.visitorBubbleBorderCurve&&(0,i.jsx)(ee.Z,{error:!0,id:"helper-text-bg-color",children:n.visitorBubbleBorderCurve})]})}),(0,i.jsx)(r.ZP,{item:!0,xs:12,children:(0,i.jsx)(l.Z,{variant:"overline",display:"block",style:{color:"#9C27B0"},children:"Bot Bubble Settings"})}),(0,i.jsx)(r.ZP,{item:!0,xs:12,md:6,children:(0,i.jsxs)(J.Z,{spacing:1,children:[(0,i.jsx)(Q.Z,{htmlFor:"botBorderColor",children:"Border Color"}),(0,i.jsx)(ce,{id:"botBorderColor",type:"color",value:o.botBorderColor,name:"botBorderColor",onBlur:s,onChange:d,placeholder:"",fullWidth:!0,error:Boolean(t.botBorderColor&&n.botBorderColor)}),t.botBorderColor&&n.botBorderColor&&(0,i.jsx)(ee.Z,{error:!0,id:"helper-text-bg-color",children:n.botBorderColor})]})}),(0,i.jsx)(r.ZP,{item:!0,xs:12,md:6,children:(0,i.jsxs)(J.Z,{spacing:1,children:[(0,i.jsx)(Q.Z,{htmlFor:"botBackgroundColor",children:"Background Color"}),(0,i.jsx)(ce,{id:"botBackgroundColor",type:"color",value:o.botBackgroundColor,name:"botBackgroundColor",onBlur:s,onChange:d,placeholder:"",fullWidth:!0,error:Boolean(t.botBackgroundColor&&n.botBackgroundColor)}),t.botBackgroundColor&&n.botBackgroundColor&&(0,i.jsx)(ee.Z,{error:!0,id:"helper-text-bg-color",children:n.botBackgroundColor})]})}),(0,i.jsx)(r.ZP,{item:!0,xs:12,md:6,children:(0,i.jsxs)(J.Z,{spacing:1,children:[(0,i.jsx)(Q.Z,{htmlFor:"botFontColor",children:"Font Color"}),(0,i.jsx)(ce,{id:"botFontColor",type:"color",value:o.botFontColor,name:"botFontColor",onBlur:s,onChange:d,placeholder:"",fullWidth:!0,error:Boolean(t.botFontColor&&n.botFontColor)}),t.botFontColor&&n.botFontColor&&(0,i.jsx)(ee.Z,{error:!0,id:"helper-text-bg-color",children:n.botFontColor})]})}),(0,i.jsx)(r.ZP,{item:!0,xs:12,md:6,children:(0,i.jsxs)(J.Z,{spacing:1,children:[(0,i.jsx)(Q.Z,{htmlFor:"botLogo",children:"Bot Logo"}),(0,i.jsx)(me,{name:"botLogo",value:o.botLogo,onChange:d,defaultValue:!0})]})}),"yes"==o.botLogo&&(0,i.jsx)(r.ZP,{item:!0,xs:12,children:(0,i.jsxs)(J.Z,{spacing:1,children:[(0,i.jsx)(Q.Z,{htmlFor:"botLogoImage",children:"Upload Bot Logo"}),(0,i.jsx)(oe.Z,{fullWidth:!0,type:"file",id:"botLogoImage",name:"botLogoImage",onChange:a,placeholder:"upload image"})]})}),"yes"==o.botLogo&&(0,i.jsx)(r.ZP,{item:!0,xs:12,children:(0,i.jsxs)(J.Z,{spacing:1,children:[(0,i.jsx)(Q.Z,{htmlFor:"botLogoImage",children:"Upload Bot Logo"}),(0,i.jsx)(oe.Z,{fullWidth:!0,type:"file",id:"botLogoImage",name:"botLogoImage",onChange:a,placeholder:"upload image"})]})}),(0,i.jsxs)(r.ZP,{item:!0,xs:12,children:[(0,i.jsxs)(J.Z,{spacing:1,children:[(0,i.jsx)(Q.Z,{htmlFor:"botBubbleBorderCurve",style:{paddingBottom:"6px"},children:"Border Radius"}),(0,i.jsx)(oe.Z,{id:"botBubbleBorderCurve",name:"botBubbleBorderCurve",value:o.botBubbleBorderCurve,onBlur:s,onChange:a,placeholder:"border : 1px 2px 3px 4px"}),t.botBubbleBorderCurve&&n.botBubbleBorderCurve&&(0,i.jsx)(ee.Z,{error:!0,id:"helper-text-bg-color",children:n.botBubbleBorderCurve})]}),(0,i.jsx)(l.Z,{variant:"caption",display:"block",gutterBottom:!0,children:"border: top-left top-right bottom-right bottom-left"})]})]})}function _e(e){let{errors:o,isSubmitting:t}=e;return(0,i.jsx)(i.Fragment,{children:(0,i.jsxs)(r.ZP,{item:!0,xs:12,children:[(0,i.jsx)(ee.Z,{error:!0,children:o.submit}),(0,i.jsx)(ae.Z,{children:(0,i.jsx)(je.Z,{disableElevation:!0,disabled:Boolean(o.submit),isLoading:t,fullWidth:!0,size:"large",type:"submit",variant:"contained",color:"primary",children:"Save Settings"})})]})})}function Ne(e){let{values:o,handleChange:t,setFieldValue:n}=e;return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(r.ZP,{item:!0,xs:12,children:(0,i.jsx)(Y.Z,{children:(0,i.jsx)(l.Z,{variant:"subtitle1",children:"Chat Launcher Settings"})})}),(0,i.jsx)(r.ZP,{item:!0,xs:12,children:(0,i.jsxs)(J.Z,{spacing:1,children:[(0,i.jsx)(Q.Z,{htmlFor:"message-placeholder",children:"Launcher Type *"}),(0,i.jsxs)(te.Z,{row:!0,name:"launcherType",defaultValue:o.launcherType,onChange:t,children:[(0,i.jsx)(ne.Z,{value:"icon",control:(0,i.jsx)(re.Z,{}),label:"Chat Button"}),(0,i.jsx)(ne.Z,{value:"bar",control:(0,i.jsx)(re.Z,{}),label:"Launch with Bar"})]})]})}),"bar"==o.launcherType&&(0,i.jsx)(r.ZP,{item:!0,xs:12,children:(0,i.jsxs)(J.Z,{spacing:1,children:[(0,i.jsx)(Q.Z,{id:"buttonOnMobile",children:"Button on Mobile"}),(0,i.jsx)(me,{name:"buttonOnMobile",value:o.buttonOnMobile,defaultValue:!1,onChange:n})]})})]})}function Ie(e){let{onChange:o}=e;const{values:t}=(0,ie.u6)();return n.useEffect((()=>{t&&o(function(e){if(!e)return;const{chatWindowWidth:o,chatWindowHeight:t,windowAlign:n,minimizeOnClick:r,paddingLeft:l,paddingBottom:i,fontType:s,fontName:a,googleFontLink:d,launcherType:c,buttonOnMobile:h,barText:u,buttonLogoUrl:g,titleText:x,bgColor:m,fontColor:p,headerPadding:b,logoWidth:v,logoHeight:j,headerLogoMargin:f,headerLogoUrl:C,visitorBorderColor:Z,visitorBackgroundColor:y,visitorFontColor:B,visitorLogo:w,visitorLogoImage:P,visitorBubbleBorderCurve:k,botBorderColor:L,botBackgroundColor:S,botFontColor:F,botLogo:T,botLogoImage:_,botBubbleBorderCurve:N,placeholder:I}=e,M="bar"===c,A={useBar:M,buttonLogoUrl:g};return M&&(A.buttonOnMobile=h,A.barText=u),{window:{width:o,height:t,align:n,minimizeOnClick:r,spacingCorner:l,spacingBottom:i,fontFamily:a},webLink:"google-font"===s?d:void 0,launcher:A,header:{titleText:x,bgColor:m,fontColor:p,padding:b,logo:C?{width:v,height:j,margin:f,url:C}:void 0},body:{visitorBlock:{borderColor:Z,backgroundColor:y,color:B,useLogo:w&&P,logoUrl:P,borderRadius:k},assistantBlock:{borderColor:L,backgroundColor:S,color:F,useLogo:T&&_,logoUrl:_,borderRadius:N}},composer:{placeholder:I}}}(t))}),[t,o]),null}var Me=t(49542);const Ae=()=>{const[e,o]=n.useState({}),[,t]=(0,he.g)();return(0,i.jsxs)(r.ZP,{container:!0,rowSpacing:4.5,columnSpacing:2.75,children:[(0,i.jsx)(r.ZP,{item:!0,xs:12,sx:{mb:-2.25},children:(0,i.jsx)(l.Z,{variant:"h5",children:"Chat Window Design"})}),(0,i.jsx)(r.ZP,{item:!0,xs:12,sm:12,md:12,lg:6,children:(0,i.jsx)(Be,{onChange:o})}),(0,i.jsx)(r.ZP,{item:!0,xs:12,sm:12,md:12,lg:6,children:(0,i.jsx)(U,{botDetails:t,botDesign:e,onReceiveChatResponse:e=>(0,Me.gy)(e.organization)})}),(0,i.jsx)(r.ZP,{item:!0,md:8,sx:{display:{sm:"none",md:"block",lg:"none"}}})]})}},69753:(e,o,t)=>{function n(e){return e.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")}t.d(o,{U2:()=>l,v_:()=>i,TY:()=>u,Od:()=>s});var r=t(32203);async function l(e,o){return a("GET",e,o,arguments.length>2&&void 0!==arguments[2]?arguments[2]:{})}async function i(e,o){return a("POST",e,o,arguments.length>2&&void 0!==arguments[2]?arguments[2]:{})}async function s(e,o){return a("DELETE",e,o,arguments.length>2&&void 0!==arguments[2]?arguments[2]:{})}async function a(e,o,t){let{headers:n,noAuth:r,...l}=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};const i="POST"===e||"PUT"===e||"DELETE"===e;if(o=u(o),t=t&&"object"===typeof t&&i?JSON.stringify(t):void 0,n||(n={}),n["Content-Type"]="application/json",n.Accept="application/json",!1!==r){const e=sessionStorage.getItem("token");e&&(n.Authorization="Bearer ".concat(e))}const s=await fetch(o,{...l,headers:n,body:t,method:e}),a=await s.json();if(s.ok){const{data:e,...o}=a;return delete o.status,e&&!Object.keys(o).length?e:a}throw a.message?new Error(a.message):a}const d=(c=r.Hi,h="/",c.replace(new RegExp("".concat(n(h),"+$")),""));var c,h;function u(e){return e?e.startsWith("https://")?e:"".concat(d).concat(e):e}},45960:(e,o,t)=>{t.d(o,{Bc:()=>i,Iz:()=>s,lz:()=>l,pb:()=>a});var n=t(69753),r=t(23509);async function l(e){const{organization:{websiteUrl:o,_id:t}}=r.tN.getState(),l={organizationId:t,websiteUrl:o,botName:e,botDesign:{botLogo:{name:"",url:""},backgroundColor:"coral",textColor:"#fff",dimensions:{heightInPixel:"500px",heightInPercent:"70%",widthInPixel:"350px",widthInPercent:"25%"},botLogoDimensions:{heightInPixel:"30px",heightInPercent:"100%",widthInPixel:"30px",widthInPercent:"100%"}}},i=await n.v_("/bot/initialize-create-bot",l),s=i._id;let{botsMap:a,botsList:d}=r.tN.getState();a={...a,[s]:i},d=[...d],d.push(i._doc),r.tN.setState({selectedBotId:s,botsMap:a,botsList:d})}async function i(e,o){let{botDesign:t}=r.tN.getState();t={...t,...o};d(await n.v_("/bot/save-bot-design",{botDesign:t},{headers:{botId:e}}))}async function s(e,o){const t=await n.v_("/bot/edit-bot-details",o);let{botsMap:l,botsList:i}=r.tN.getState();l={...l,[e]:t},i=[...i];const s=i.findIndex((o=>o._id===e));s>=0&&(i[s]=t[s]),r.tN.setState({selectedBotId:e,botsMap:l,botsList:i})}async function a(e,o){let{botSettings:t={}}=r.tN.getState();t={...t,...o};d(await n.v_("/bot/save-bot-settings",{botSettings:t},{headers:{botId:e}}))}function d(e){const o=e._id;let{botsMap:t,botsList:n}=r.tN.getState();t={...t,[o]:e},n=[...n];const l=n.findIndex((e=>e._id===o));l>=0?n[l]=e:n.push(e),r.tN.setState({selectedBotId:o,botsMap:t,botsList:n})}},49542:(e,o,t)=>{t.d(o,{$9:()=>s,RF:()=>l,gy:()=>i,vv:()=>a});var n=t(69753),r=t(23509);async function l(e,o){const{organizationId:t}=r.tN.getState();return e?e!==t&&r.tN.setState({organizationId:e}):e=t,await async function(e,o){var t;const l=await n.v_("/bot/get-all-bots",{organizationId:e}),i=o||(null===(t=l[0])||void 0===t?void 0:t._id),s=l.reduce(((e,o)=>(e[o._id]=o,e)),{});r.tN.setState({organizationId:e,botsList:l,botsMap:s,selectedBotId:i})}(e,o),!0}function i(e){if(!e||"object"!==typeof e)return;let{organization:o}=r.tN.getState();o&&(o={...o,...e},r.tN.setState({organization:o}))}async function s(e){const o=await n.v_("/organization/get-organization-by-id",{organizationId:e});r.tN.setState({organization:o})}function a(e){r.tN.setState({selectedBotId:e})}},969:(e,o,t)=>{t.d(o,{g:()=>r});var n=t(23509);function r(e){const o=(0,n.tN)((e=>e.selectedBotId)),t=(0,n.tN)((t=>t.botsMap[e||o]));return[e||o,t]}},32203:(e,o,t)=>{t.d(o,{Hi:()=>n,LC:()=>s,lB:()=>r,rn:()=>i,yu:()=>l});const n="https://devbackend.livhousing.com",r={NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0,REACT_APP_NGROK_BACKEND_URL:"https://60f1-203-192-224-75.ngrok-free.app",REACT_APP_VERSION:"1",REACT_APP_BACKEND_URL:"https://devbackend.livhousing.com"}.REACT_APP_IP_DATA_API_KEY,l={NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0,REACT_APP_NGROK_BACKEND_URL:"https://60f1-203-192-224-75.ngrok-free.app",REACT_APP_VERSION:"1",REACT_APP_BACKEND_URL:"https://devbackend.livhousing.com"}.TRAINING_MEDIA_MAXSIZE,i={NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0,REACT_APP_NGROK_BACKEND_URL:"https://60f1-203-192-224-75.ngrok-free.app",REACT_APP_VERSION:"1",REACT_APP_BACKEND_URL:"https://devbackend.livhousing.com"}.CONVERSATION_MEDIA_MAXSIZE,s="https://60f1-203-192-224-75.ngrok-free.app"}}]);