"use strict";(self.webpackChunklib_prop_ui=self.webpackChunklib_prop_ui||[]).push([[7331],{8478:(e,t,n)=>{n.d(t,{Jt:()=>i,TF:()=>s,bE:()=>r,yJ:()=>a});var o=n(32026),c=n(44364);async function i(e,t){return d("GET",e,t,arguments.length>2&&void 0!==arguments[2]?arguments[2]:{})}async function r(e,t){return d("POST",e,t,arguments.length>2&&void 0!==arguments[2]?arguments[2]:{})}async function a(e,t){return d("PUT",e,t,arguments.length>2&&void 0!==arguments[2]?arguments[2]:{})}async function s(e,t){return d("DELETE",e,t,arguments.length>2&&void 0!==arguments[2]?arguments[2]:{})}async function d(e,t,n){let{headers:o,noAuth:c,...i}=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};const r="POST"===e||"PUT"===e||"DELETE"===e;t=function(e,t){if(!e)return e;const n=t&&Object.keys(t);if(null!==n&&void 0!==n&&n.length){const o=n.reduce(((e,n)=>{let o=t[n];return null===o||void 0===o?e:(o=`${n}=${encodeURIComponent(o)}`,e?`${e}&${o}`:o)}),"");o&&(e=`${e}${e.includes("?")?"&":"?"}${o}`)}if(e.startsWith("https://"))return e;return`${l}${e}`}(t,r?void 0:n);const a=n instanceof FormData;if(a||(n=n&&"object"===typeof n&&r?JSON.stringify(n):void 0),o||(o={}),a||(o["Content-Type"]="application/json"),o.Accept="application/json",!1!==c){const e=sessionStorage.getItem("token");e&&(o.Authorization=`Bearer ${e}`)}try{const c=await fetch(t,{...i,headers:o,body:n,method:e}),r=await c.json();if(c.ok){const{data:e,...t}=r;return delete t.status,e&&!Object.keys(t).length?e:r}throw r.message?new Error(r.message):r}catch(d){var s;throw console.error("Error calling API: ",d),null!==(s=d.message)&&void 0!==s&&s.includes("fetch")?new Error("Unable to reach server. Please check your network connectivity and try again."):new Error(d.message)}}const l=(0,o.s8)(c.jn,"/")},32026:(e,t,n)=>{n.d(t,{G6:()=>a,Ke:()=>A,OX:()=>d,PE:()=>u,Yq:()=>r,do:()=>l,qW:()=>s,s8:()=>c});var o=n(44364);function c(e,t){return e.replace(new RegExp(`${i(t)}+$`),"")}function i(e){return e.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")}function r(e){const t=new Date(e),n=t.getDate();return`${["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"][t.getMonth()]} ${n}, ${t.getFullYear()}`}function a(e,t,n){if(!t&&!e)return n;e=e||{};const o=Array.isArray(e)?[...e]:{...e};if(t.includes(".")){const c=t.indexOf("."),i=t.substring(0,c),r=t.substring(c+1);o[i]=a(e[i],r,n)}else o[t]=n;return o}function s(e,t){return btoa(`${e}_${t}_whatsapp_int`)}function d(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:12;const t="abcdefghijklmnopqrstuvwxyz0123456789";let n="";for(let o=0;o<e;o++)n+=t.charAt(Math.floor(36*Math.random()));return n}function l(e,t,n){if(!t&&!e)return n;e=e||{};const o=Array.isArray(e)?[...e]:{...e};if(t.includes(".")){const c=t.indexOf("."),i=t.substring(0,c),r=t.substring(c+1);o[i]=l(e[i],r,n)}else o[t]=n;return o}function u(e,t){const n=new Blob([e],{type:arguments.length>2&&void 0!==arguments[2]?arguments[2]:"text/csv"}),o=document.createElement("a");o.href=URL.createObjectURL(n),o.download=t,document.body.appendChild(o),o.click(),document.body.removeChild(o)}function A(e,t){return!t||t.startsWith("http")?t:(t.startsWith("/")&&(t=t.substring(1)),`${o.J}/${e}/${t}`)}},32829:(e,t,n)=>{n.d(t,{A:()=>i});var o=n(25371),c=n(44414);function i(e){let{children:t,type:n}=e;return(0,c.jsx)(o.P.div,{whileHover:{scale:1},whileTap:{scale:.9},children:t})}i.defaultProps={type:"scale"}},44364:(e,t,n)=>{n.d(t,{DX:()=>d,J:()=>s,Og:()=>i,jn:()=>o,mB:()=>a,pA:()=>r,pR:()=>c});const o="https://devbackend.livhousing.com:444",c="c17b949cf58c45cae47ce1cc65efc8240f77a2a69ca09ad4c4208852",i={NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0,REACT_APP_IP_DATA_API_KEY:"c17b949cf58c45cae47ce1cc65efc8240f77a2a69ca09ad4c4208852",REACT_APP_VERSION:"1",REACT_APP_GOOGLE_MAPS_API_KEY:"AIzaSyAQMYGdP2AmloNtJm4ZDrJxPuSfuo2RSXM",REACT_APP_BACKEND_URL:"https://devbackend.livhousing.com:444"}.TRAINING_MEDIA_MAXSIZE,r={NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0,REACT_APP_IP_DATA_API_KEY:"c17b949cf58c45cae47ce1cc65efc8240f77a2a69ca09ad4c4208852",REACT_APP_VERSION:"1",REACT_APP_GOOGLE_MAPS_API_KEY:"AIzaSyAQMYGdP2AmloNtJm4ZDrJxPuSfuo2RSXM",REACT_APP_BACKEND_URL:"https://devbackend.livhousing.com:444"}.CONVERSATION_MEDIA_MAXSIZE,a="AIzaSyAQMYGdP2AmloNtJm4ZDrJxPuSfuo2RSXM",s="https://livserv-organizations.s3.ap-south-1.amazonaws.com",d={NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0,REACT_APP_IP_DATA_API_KEY:"c17b949cf58c45cae47ce1cc65efc8240f77a2a69ca09ad4c4208852",REACT_APP_VERSION:"1",REACT_APP_GOOGLE_MAPS_API_KEY:"AIzaSyAQMYGdP2AmloNtJm4ZDrJxPuSfuo2RSXM",REACT_APP_BACKEND_URL:"https://devbackend.livhousing.com:444"}.REACT_APP_NGROK_BACKEND_URL||"https://devbackend.livhousing.com:444"},57331:(e,t,n)=>{n.r(t),n.d(t,{default:()=>l});var o=n(9950),c=n(60899),i=n(8478),r=n(32829),a=n(93383),s=n(28429),d=n(44414);const l=function(){var e;const{invoiceId:t}=(0,s.g)(),[n,l]=o.useState(),[u,A]=o.useState();if(o.useEffect((()=>{!async function(e){let t=document.querySelector('script[id="razorpay-script"]');if(t)return!0;new Promise((n=>{t=document.createElement("script"),t.id="razorpay-script",t.src=e,t.onload=()=>{n(!0)},t.onerror=()=>{n(!1)},document.body.appendChild(t)}))}("https://checkout.razorpay.com/v1/checkout.js")}),[]),o.useEffect((()=>{i.Jt(`/organization/invoice/view/${t}`).then(l)}),[t]),n)return(0,d.jsxs)(c.Ay,{item:!0,xs:12,children:[(0,d.jsx)("div",{children:(0,d.jsx)("iframe",{src:n.pdfUrl,title:"View Invoice",style:{width:"100%",height:n.isPaid?"calc(100vh - 12px)":"calc(100vh - 60px)"}})}),!n.isPaid&&(0,d.jsx)(c.Ay,{item:!0,xs:12,children:(0,d.jsx)("div",{style:{width:"260px",marginLeft:"auto",padding:"5px 25px"},children:(0,d.jsx)(r.A,{children:(0,d.jsxs)(a.A,{disableElevation:!0,isLoading:u,fullWidth:!0,size:"large",type:"submit",variant:"contained",color:"primary",onClick:async()=>{A(!0);const e=await i.bE(`/organization/invoice/${n.invoiceId}/make-payment`);new window.Razorpay(e).open(),A(!1)},children:["Pay ",n.currencyPrefix," ",null===(e=n.amount)||void 0===e?void 0:e.toFixed(2)]})})})})]})}},93383:(e,t,n)=>{n.d(t,{A:()=>a});var o=n(9950),c=n(10226),i=n(46639),r=n(44414);const a=function(e){let{onClick:t,disabled:n,isLoading:a,children:s,...d}=e;const[l,u]=o.useState(a);return(0,r.jsxs)(c.A,{onClick:e=>{if(!t)return;const n=t(e);"function"===typeof(null===n||void 0===n?void 0:n.finally)&&(u(!0),n.finally((()=>u(!1))))},disabled:l||a||n,...d,children:[(l||a)&&(0,r.jsx)(i.A,{size:16,color:"primary",style:{marginRight:"10px"}}),s]})}}}]);