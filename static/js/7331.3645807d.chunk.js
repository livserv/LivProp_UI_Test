"use strict";(self.webpackChunklib_prop_ui=self.webpackChunklib_prop_ui||[]).push([[7331],{32829:(e,t,n)=>{n.d(t,{A:()=>i});var c=n(79875),o=n(44414);function i(e){let{children:t,type:n}=e;return(0,o.jsx)(c.P.div,{whileHover:{scale:1},whileTap:{scale:.9},children:t})}i.defaultProps={type:"scale"}},93383:(e,t,n)=>{n.d(t,{A:()=>l});var c=n(89379),o=n(80045),i=n(9950),a=n(10226),r=n(46639),s=n(44414);const d=["onClick","disabled","isLoading","children"];const l=function(e){let{onClick:t,disabled:n,isLoading:l,children:u}=e,A=(0,o.A)(e,d);const[_,E]=i.useState(l);return(0,s.jsxs)(a.A,(0,c.A)((0,c.A)({onClick:e=>{if(!t)return;const n=t(e);"function"===typeof(null===n||void 0===n?void 0:n.finally)&&(E(!0),n.finally((()=>E(!1))))},disabled:_||l||n},A),{},{children:[(_||l)&&(0,s.jsx)(r.A,{size:16,color:"primary",style:{marginRight:"10px"}}),u]}))}},57331:(e,t,n)=>{n.r(t),n.d(t,{default:()=>l});var c=n(9950),o=n(60899),i=n(8478),a=n(32829),r=n(93383),s=n(28429),d=n(44414);const l=function(){var e;const{invoiceId:t}=(0,s.g)(),[n,l]=c.useState(),[u,A]=c.useState();if(c.useEffect((()=>{!async function(e){let t=document.querySelector('script[id="razorpay-script"]');if(t)return!0;new Promise((n=>{t=document.createElement("script"),t.id="razorpay-script",t.src=e,t.onload=()=>{n(!0)},t.onerror=()=>{n(!1)},document.body.appendChild(t)}))}("https://checkout.razorpay.com/v1/checkout.js")}),[]),c.useEffect((()=>{i.Jt("/organization/invoice/view/".concat(t)).then(l)}),[t]),n)return(0,d.jsxs)(o.Ay,{item:!0,xs:12,children:[(0,d.jsx)("div",{children:(0,d.jsx)("iframe",{src:n.pdfUrl,title:"View Invoice",style:{width:"100%",height:n.isPaid?"calc(100vh - 12px)":"calc(100vh - 60px)"}})}),!n.isPaid&&(0,d.jsx)(o.Ay,{item:!0,xs:12,children:(0,d.jsx)("div",{style:{width:"260px",marginLeft:"auto",padding:"5px 25px"},children:(0,d.jsx)(a.A,{children:(0,d.jsxs)(r.A,{disableElevation:!0,isLoading:u,fullWidth:!0,size:"large",type:"submit",variant:"contained",color:"primary",onClick:async()=>{A(!0);const e=await i.bE("/organization/invoice/".concat(n.invoiceId,"/make-payment"));new window.Razorpay(e).open(),A(!1)},children:["Pay ",n.currencyPrefix," ",null===(e=n.amount)||void 0===e?void 0:e.toFixed(2)]})})})})]})}},8478:(e,t,n)=>{n.d(t,{Jt:()=>d,TF:()=>A,bE:()=>l,yJ:()=>u});var c=n(89379),o=n(80045),i=n(32026),a=n(44364);const r=["headers","noAuth"],s=["data"];async function d(e,t){return _("GET",e,t,arguments.length>2&&void 0!==arguments[2]?arguments[2]:{})}async function l(e,t){return _("POST",e,t,arguments.length>2&&void 0!==arguments[2]?arguments[2]:{})}async function u(e,t){return _("PUT",e,t,arguments.length>2&&void 0!==arguments[2]?arguments[2]:{})}async function A(e,t){return _("DELETE",e,t,arguments.length>2&&void 0!==arguments[2]?arguments[2]:{})}async function _(e,t,n){let i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},{headers:a,noAuth:d}=i,l=(0,o.A)(i,r);const u="POST"===e||"PUT"===e||"DELETE"===e;t=function(e,t){if(!e)return e;const n=t&&Object.keys(t);if(null!==n&&void 0!==n&&n.length){const c=n.reduce(((e,n)=>{let c=t[n];return null===c||void 0===c?e:(c="".concat(n,"=").concat(encodeURIComponent(c)),e?"".concat(e,"&").concat(c):c)}),"");c&&(e="".concat(e).concat(e.includes("?")?"&":"?").concat(c))}if(e.startsWith("https://"))return e;return"".concat(E).concat(e)}(t,u?void 0:n);const A=n instanceof FormData;if(A||(n=n&&"object"===typeof n&&u?JSON.stringify(n):void 0),a||(a={}),A||(a["Content-Type"]="application/json"),a.Accept="application/json",!1!==d){const e=sessionStorage.getItem("token");e&&(a.Authorization="Bearer ".concat(e))}try{const i=await fetch(t,(0,c.A)((0,c.A)({},l),{},{headers:a,body:n,method:e})),r=await i.json();if(i.ok){const{data:e}=r,t=(0,o.A)(r,s);return delete t.status,e&&!Object.keys(t).length?e:r}throw r.message?new Error(r.message):r}catch(f){var _;throw console.error("Error calling API: ",f),null!==(_=f.message)&&void 0!==_&&_.includes("fetch")?new Error("Unable to reach server. Please check your network connectivity and try again."):new Error(f.message)}}const E=(0,i.s8)(a.jn,"/")},32026:(e,t,n)=>{n.d(t,{G6:()=>r,OX:()=>d,PE:()=>u,Yq:()=>a,do:()=>l,qW:()=>s,s8:()=>o});var c=n(89379);function o(e,t){return e.replace(new RegExp("".concat(i(t),"+$")),"")}function i(e){return e.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")}function a(e){const t=new Date(e),n=t.getDate(),c=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"][t.getMonth()],o=t.getFullYear();return"".concat(c," ").concat(n,", ").concat(o)}function r(e,t,n){if(!t&&!e)return n;e=e||{};const o=Array.isArray(e)?[...e]:(0,c.A)({},e);if(t.includes(".")){const c=t.indexOf("."),i=t.substring(0,c),a=t.substring(c+1);o[i]=r(e[i],a,n)}else o[t]=n;return o}function s(e,t){return btoa("".concat(e,"_").concat(t,"_whatsapp_int"))}function d(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:12;const t="abcdefghijklmnopqrstuvwxyz0123456789";let n="";for(let c=0;c<e;c++)n+=t.charAt(Math.floor(36*Math.random()));return n}function l(e,t,n){if(!t&&!e)return n;e=e||{};const o=Array.isArray(e)?[...e]:(0,c.A)({},e);if(t.includes(".")){const c=t.indexOf("."),i=t.substring(0,c),a=t.substring(c+1);o[i]=l(e[i],a,n)}else o[t]=n;return o}function u(e,t){const n=new Blob([e],{type:arguments.length>2&&void 0!==arguments[2]?arguments[2]:"text/csv"}),c=document.createElement("a");c.href=URL.createObjectURL(n),c.download=t,document.body.appendChild(c),c.click(),document.body.removeChild(c)}},44364:(e,t,n)=>{n.d(t,{DX:()=>s,Og:()=>i,jn:()=>c,mB:()=>r,pA:()=>a,pR:()=>o});const c="https://devbackend.livhousing.com:444",o="c17b949cf58c45cae47ce1cc65efc8240f77a2a69ca09ad4c4208852",i={NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0,REACT_APP_IP_DATA_API_KEY:"c17b949cf58c45cae47ce1cc65efc8240f77a2a69ca09ad4c4208852",REACT_APP_VERSION:"1",REACT_APP_GOOGLE_MAPS_API_KEY:"AIzaSyAQMYGdP2AmloNtJm4ZDrJxPuSfuo2RSXM",REACT_APP_BACKEND_URL:"https://devbackend.livhousing.com:444"}.TRAINING_MEDIA_MAXSIZE,a={NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0,REACT_APP_IP_DATA_API_KEY:"c17b949cf58c45cae47ce1cc65efc8240f77a2a69ca09ad4c4208852",REACT_APP_VERSION:"1",REACT_APP_GOOGLE_MAPS_API_KEY:"AIzaSyAQMYGdP2AmloNtJm4ZDrJxPuSfuo2RSXM",REACT_APP_BACKEND_URL:"https://devbackend.livhousing.com:444"}.CONVERSATION_MEDIA_MAXSIZE,r="AIzaSyAQMYGdP2AmloNtJm4ZDrJxPuSfuo2RSXM",s={NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0,REACT_APP_IP_DATA_API_KEY:"c17b949cf58c45cae47ce1cc65efc8240f77a2a69ca09ad4c4208852",REACT_APP_VERSION:"1",REACT_APP_GOOGLE_MAPS_API_KEY:"AIzaSyAQMYGdP2AmloNtJm4ZDrJxPuSfuo2RSXM",REACT_APP_BACKEND_URL:"https://devbackend.livhousing.com:444"}.REACT_APP_NGROK_BACKEND_URL||"https://devbackend.livhousing.com:444"}}]);