"use strict";(self.webpackChunklib_prop_ui=self.webpackChunklib_prop_ui||[]).push([[3770],{8478:(e,n,t)=>{t.d(n,{Jt:()=>a,TF:()=>s,bE:()=>i,yJ:()=>l});var o=t(32026),r=t(44364);async function a(e,n){return d("GET",e,n,arguments.length>2&&void 0!==arguments[2]?arguments[2]:{})}async function i(e,n){return d("POST",e,n,arguments.length>2&&void 0!==arguments[2]?arguments[2]:{})}async function l(e,n){return d("PUT",e,n,arguments.length>2&&void 0!==arguments[2]?arguments[2]:{})}async function s(e,n){return d("DELETE",e,n,arguments.length>2&&void 0!==arguments[2]?arguments[2]:{})}async function d(e,n,t){let{headers:o,noAuth:r,...a}=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};const i="POST"===e||"PUT"===e||"DELETE"===e;n=function(e,n){if(!e)return e;const t=n&&Object.keys(n);if(null!==t&&void 0!==t&&t.length){const o=t.reduce(((e,t)=>{let o=n[t];return null===o||void 0===o?e:(o=`${t}=${encodeURIComponent(o)}`,e?`${e}&${o}`:o)}),"");o&&(e=`${e}${e.includes("?")?"&":"?"}${o}`)}if(e.startsWith("https://"))return e;return`${c}${e}`}(n,i?void 0:t);const l=t instanceof FormData;if(l||(t=t&&"object"===typeof t&&i?JSON.stringify(t):void 0),o||(o={}),l||(o["Content-Type"]="application/json"),o.Accept="application/json",!1!==r){const e=sessionStorage.getItem("token");e&&(o.Authorization=`Bearer ${e}`)}try{const r=await fetch(n,{...a,headers:o,body:t,method:e}),i=await r.json();if(r.ok){const{data:e,...n}=i;return delete n.status,e&&!Object.keys(n).length?e:i}throw i.message?new Error(i.message):i}catch(d){var s;throw console.error("Error calling API: ",d),null!==(s=d.message)&&void 0!==s&&s.includes("fetch")?new Error("Unable to reach server. Please check your network connectivity and try again."):new Error(d.message)}}const c=(0,o.s8)(r.jn,"/")},22403:(e,n,t)=>{t.r(n),t.d(n,{default:()=>U});var o=t(9950),r=t(78317),a=t(60899),i=t(74745),l=t(82053),s=t(81616),d=t(3788),c=t(23114),u=t(16497),h=t(85815),p=t(93038),m=t(24516),A=t(2660),x=t(44414),f=t(25277),g=t(59254),y=t(96319),C=t(39325),b=t(25333),v=t(8145);const w={enter:"Enter",backspace:"Backspace"},j=229,P={ChipStyled:(0,g.Ay)(f.A)((e=>{let{theme:n,size:t}=e;return`\n    max-width: 100%;\n    margin: 2px 4px;\n    height: ${"small"===t?"26px":"32px"};\n\n\n    &[aria-disabled="true"] > svg {\n      color: ${n.palette.action.disabled};\n      cursor: default;\n    }\n\n    &.MuiChipsInput-Chip-Editing {\n      background-color: ${n.palette.primary.light};\n      color: ${n.palette.primary.contrastText};\n    }\n  `}))},S=e=>{let{className:n,index:t,onDelete:o,disabled:r,onEdit:a,isEditing:i,disableEdition:l,...s}=e;return(0,x.jsx)(P.ChipStyled,{className:`MuiChipsInput-Chip ${i?"MuiChipsInput-Chip-Editing":""} ${n||""}`,onKeyDown:e=>{e.key===w.enter&&o(t)},disabled:r,onDoubleClick:l?void 0:e=>{e.target.textContent===s.label&&(r||a(t))},tabIndex:r?-1:0,"aria-disabled":r,onDelete:e=>{e?.preventDefault?.(),e?.stopPropagation?.(),o(t)},...s})};function E(e,n){"function"==typeof n?n(e):n&&function(e){return"object"==typeof e&&!Array.isArray(e)&&null!==e}(n)&&"current"in n&&(n.current=e)}const _=(0,g.Ay)("div")`
  top: 50%;
  transform: translateY(-50%);
  right: 10px;
  position: absolute;
`,I=(0,g.Ay)(v.A)((e=>`\n    max-width: 100%;\n\n    .MuiInputBase-root {\n      display: flex;\n      flex-wrap: wrap;\n      align-items: flex-start;\n      row-gap: 5px;\n      padding-top: ${"small"===e.size?"5px":"9px"};\n      padding-right: ${e.InputProps?.endAdornment?"30px":"9px"};\n      padding-bottom: ${"small"===e.size?"5px":"9px"};\n      padding-left: 10px;\n\n      input {\n        min-width: 30px;\n        width: auto;\n        flex-grow: 1;\n        text-overflow: ellipsis;\n        padding: ${"small"===e.size?"3.5px 4px":"7.5px 4px"};\n        align-self: center;\n      }\n    }\n  `)),T={ChipStyled:(0,g.Ay)(f.A)((e=>{let{theme:n,size:t}=e;return`\n    max-width: 100%;\n    margin: 2px 4px;\n    height: ${"small"===t?"26px":"32px"};\n\n    &[aria-disabled="true"] > svg.MuiChip-deleteIcon {\n      color: ${n.palette.action.disabled};\n      cursor: default;\n    }\n  `})),TextFieldStyled:I,EndAdornmentClose:_},D=o.forwardRef(((e,n)=>{let{chips:t,onAddChip:r,onEditChip:a,onDeleteChip:i,InputProps:l,onInputChange:s,disabled:d,clearInputOnBlur:c,addOnBlur:u,validate:h,error:p,helperText:m,hideClearAll:A,inputProps:f,size:g,disableDeleteOnBackspace:v,disableEdition:P,className:_,renderChip:I,addOnWhichKey:D,onFocus:R,onDeleteAllChips:k,inputRef:O,inputValue:F,...K}=e;const[M,N]=o.useState(""),[$,z]=o.useState(""),B=o.useRef(null),L=o.useRef(!1),V=o.useRef("string"==typeof F),[G,U]=o.useState(null),{onKeyDown:W,...H}=f||{},{inputRef:J,...Y}=l||{},X=()=>{z("")},Z=V.current,q=Z?F:M,Q=e=>{s?.(e),Z||N(e)},ee=()=>{U(null)},ne=()=>{X(),Q("")},te=(e,n)=>t=>{if("function"==typeof h){const t=h(e);if(!1===t)return void n?.preventDefault();if(!function(e){return"boolean"==typeof e}(t)&&t.isError)return n?.preventDefault(),void z(t.textError)}t()},oe=(e,n,t)=>{te(e,t)((()=>{a?.(e,n),ee(),ne()}))},re=(e,n)=>{te(e,n)((()=>{r?.(q.trim()),ne()}))},ae=()=>{if(L.current){if(null!==G)ee(),ne();else if(u){if(q.length>0){const e=q.trim();0===e.length?ne():null!==G?oe(e,G):re(e)}}else c&&ne();L.current=!1}},ie=e=>{e===G?(ne(),ee()):(e=>{Q(t[e]),U(e),X()})(e),B.current?.focus()},le=e=>{d||(i?.(e),null!==G&&(ee(),ne()))},se=t.length>0;return(0,x.jsx)(C.x,{onClickAway:ae,children:(0,x.jsx)(T.TextFieldStyled,{value:q,onChange:e=>{Q(e.target.value)},ref:n,className:`MuiChipsInput-TextField ${_||""}`,size:g,placeholder:"Type and press enter",onFocus:e=>{e.preventDefault(),R?.(e),L.current=!0},inputProps:{onKeyDown:e=>{const n=((e,n)=>n!==j&&(D?Array.isArray(D)?D.some((n=>n===e)):D===e:e===w.enter))(e.key,e.keyCode),o=e.key===w.backspace,r=q.trim();if(n||"Tab"!==e.code){if(n&&e.preventDefault(),q.length>0&&n)0===r.length?ne():null!==G?oe(r,G,e):re(r,e);else if(o&&0===q.length&&t.length>0&&!v){const e=t.length-1;i?.(e),G===e&&ee()}W?.(e)}else ae()},enterKeyHint:"done",...H},disabled:d,error:!!$||p,helperText:$||m,InputProps:{inputRef:e=>{B.current=e,O&&E(e,O),n&&E(e,n)},startAdornment:se?t.map(((e,n)=>{const t=`chip-${n}`,r={index:n,onEdit:ie,label:e,title:e,isEditing:n===G,size:g,disabled:d,disableEdition:P,onDelete:le};return I?I(S,t,r):(0,o.createElement)(S,{...r,key:t})})):null,endAdornment:A?null:(0,x.jsx)(T.EndAdornmentClose,{style:{visibility:se?"visible":"hidden"},children:(0,x.jsx)(b.A,{"aria-label":"Clear",title:"Clear",disabled:d,size:"small",onClick:e=>{e.preventDefault(),!A&&!d&&(k?.(),ne(),ee())},children:(0,x.jsx)(y.A,{fontSize:"small"})})}),...Y},...K})})}));const R=[],k=o.forwardRef(((e,n)=>{let{value:t=R,onChange:o,onAddChip:r,onInputChange:a,onDeleteChip:i,disabled:l,validate:s,clearInputOnBlur:d,addOnBlur:c,hideClearAll:u,disableDeleteOnBackspace:h,onEditChip:p,renderChip:m,disableEdition:A,addOnWhichKey:f=w.enter,inputValue:g,...y}=e;return(0,x.jsx)(D,{chips:t,onAddChip:e=>{if(l)return;const n=function(e,n){return[...e,n]}(t,e),a=n.length-1;r?.(e,a),o?.(n)},onInputChange:a,disableDeleteOnBackspace:h,onDeleteChip:e=>{if(l)return;const n=t[e];o?.(function(e,n){return e.filter(((e,t)=>n!==t))}(t,e)),i?.(n,e)},onEditChip:(e,n)=>{l||A||(o?.(function(e,n,t){return e.map(((e,o)=>n===o?t:e))}(t,n,e)),p?.(e,n))},renderChip:m,onDeleteAllChips:()=>{o?.([])},clearInputOnBlur:d,addOnBlur:c,disabled:l,disableEdition:A,validate:s,inputValue:g,hideClearAll:u,addOnWhichKey:f,...y,ref:n})}));var O=t(61467),F=t(51637),K=t(32829),M=t(70855),N=t(98415),$=t(93383),z=t(21788),B=t(90771),L=t(33340);t(13953);const V={margin:{xs:2.5,md:3},"& > *":{flexGrow:1,flexBasis:"50%"}},G={leadCaptureType:"flow",leadCaptureFormMode:"count",showFormAfterChats:3,defaultCountryCode:{countryId:"in",dialCode:"+91"}};const U=function(){const[e,n]=(0,M.G)();if(!n)return null;const{botSettings:t=G}=n;return(0,x.jsx)(F.A,{sx:V,content:!1,border:!1,boxShadow:!0,children:(0,x.jsx)(r.A,{sx:{p:{xs:2,sm:3,md:4,xl:5}},children:(0,x.jsx)(O.l1,{initialValues:t,onSubmit:async(n,t)=>{let{setErrors:o,setStatus:r,setSubmitting:a}=t;try{await(0,N.gR)(e,n),r({success:!1}),a(!1),(0,z.i)(!0,"Settings saved successfully!","success")}catch(i){console.error(i),(0,z.i)(!0,"Unable to save settings. Please try again later.","error"),r({success:!1}),o({submit:i.message}),a(!1)}},children:e=>(0,x.jsx)("form",{noValidate:!0,onSubmit:e.handleSubmit,children:(0,x.jsxs)(a.Ay,{container:!0,spacing:3,children:[(0,x.jsx)(H,{...e}),(0,x.jsx)(J,{...e}),(0,x.jsx)(Y,{...e}),(0,x.jsx)(X,{...e})]})})})})})};function W(e){"Enter"===e.key&&e.preventDefault()}function H(e){var n,t,r,A;let{values:f,touched:g,errors:y,handleBlur:C,handleChange:b,setFieldValue:v}=e;const w="form"===f.leadCaptureType,j="form"!==f.leadCaptureType||"keyword"===f.leadCaptureFormMode,[P,S]=o.useState((null===(n=f.defaultCountryCode)||void 0===n?void 0:n.countryId)||"in"),[E,_]=o.useState((null===(t=f.defaultCountryCode)||void 0===t?void 0:t.dialCode)||"+91");return(0,x.jsxs)(x.Fragment,{children:[(0,x.jsx)(a.Ay,{item:!0,xs:12,children:(0,x.jsx)(i.A,{children:(0,x.jsx)(l.A,{variant:"subtitle1",children:"Lead Capture Settings"})})}),(0,x.jsx)(a.Ay,{item:!0,xs:12,md:6,children:(0,x.jsxs)(s.A,{spacing:1,children:[(0,x.jsx)(d.A,{htmlFor:"leadCaptureType",children:"Input Type"}),(0,x.jsxs)(c.A,{value:f.leadCaptureType,defaultValue:"flow",name:"leadCaptureType",onChange:b,children:[(0,x.jsx)(u.A,{value:"flow",control:(0,x.jsx)(h.A,{}),label:"Flow"}),(0,x.jsx)(u.A,{value:"form",control:(0,x.jsx)(h.A,{}),label:"Form"})]})]})}),w&&(0,x.jsx)(a.Ay,{item:!0,xs:12,md:6,children:(0,x.jsxs)(s.A,{spacing:1,children:[(0,x.jsx)(d.A,{htmlFor:"leadCaptureFormMode",children:"When you want the form to be displayed?"}),(0,x.jsxs)(c.A,{value:f.leadCaptureFormMode,defaultValue:"count",id:"leadCaptureFormMode",name:"leadCaptureFormMode",onChange:b,children:[(0,x.jsx)(u.A,{value:"keyword",control:(0,x.jsx)(h.A,{}),label:"Show form when the keyword matches"}),(0,x.jsx)(u.A,{value:"count",control:(0,x.jsx)(h.A,{}),label:(0,x.jsxs)(x.Fragment,{children:["Show form after conversations:"," ",(0,x.jsx)("input",{value:null===(r=f.showFormAfterChats)||void 0===r?void 0:r.toString(),maxLength:2,style:{width:"50px"},disabled:"form"!==f.leadCaptureType||f.leadCaptureFormMode&&"count"!==f.leadCaptureFormMode,onChange:e=>v("showFormAfterChats",Z(e.target.value,f.showFormAfterChats)),onKeyDown:W})]})})]})]})}),!w&&(0,x.jsx)(a.Ay,{item:!0,xs:12,md:6,children:(0,x.jsxs)(s.A,{spacing:1,children:[(0,x.jsx)(d.A,{htmlFor:"leadCaptureFlowMandatory",children:"Can user proceed without providing contact details?"}),(0,x.jsx)(u.A,{value:"keyword",control:(0,x.jsx)(p.A,{checked:f.leadCaptureFlowMandatory,name:"leadCaptureFlowMandatory",onChange:b}),label:"Make the input mandatory"})]})}),(0,x.jsx)(a.Ay,{item:!0,xs:12,md:12,children:"Default Phone number country code in contact form"}),(0,x.jsxs)(a.Ay,{item:!0,xs:12,md:3,sx:{position:"relative",display:"flex",alignItems:"center"},children:[(0,x.jsx)(B.cf,{selectedCountry:P,onSelect:e=>{let{iso2:n,dialCode:t}=e;S(n),v("defaultCountryCode",{countryId:n,dialCode:"+"+t}),_("+"+t)},onBlur:C,country:P,name:"defaultCountryCode",id:"defaultCountryCode"}),(0,x.jsxs)("span",{style:{marginLeft:"8px"},children:[" ",E]})]}),(0,x.jsxs)(a.Ay,{item:!0,xs:12,md:12,children:["Number of visitor messages send to GPT for answer "," ",(0,x.jsx)("input",{value:(null===(A=f.maxChatMessagesToSentToGPT)||void 0===A?void 0:A.toString())||17,maxLength:2,style:{width:"50px"},onChange:e=>v("maxChatMessagesToSentToGPT",Z(e.target.value,f.maxChatMessagesToSentToGPT)),onKeyDown:W})]}),j&&(0,x.jsx)(a.Ay,{item:!0,xs:12,children:(0,x.jsxs)(s.A,{spacing:1,children:[(0,x.jsx)(d.A,{htmlFor:"phoneNumberKeywords",children:"Keywords for Phone Number Collection *"}),(0,x.jsx)(q,{name:"phoneNumberKeywords",value:f.phoneNumberKeywords||[],error:Boolean(g.phoneNumberKeywords&&y.phoneNumberKeywords),onBlur:C,onChange:v,placeholder:"Type keyword and press enter to add more...",inputProps:{maxLength:25}}),g.phoneNumberKeywords&&y.phoneNumberKeywords&&(0,x.jsx)(m.A,{error:!0,id:"helper-text-email-keywords",children:y.phoneNumberKeywords})]})}),j&&(0,x.jsx)(a.Ay,{item:!0,xs:12,children:(0,x.jsxs)(s.A,{spacing:1,children:[(0,x.jsx)(d.A,{htmlFor:"emailKeywords",children:"Keywords for Email Address Collection *"}),(0,x.jsx)(q,{name:"emailKeywords",value:f.emailKeywords||[],error:Boolean(g.emailKeywords&&y.emailKeywords),onBlur:C,onChange:v,placeholder:"Type keyword and press enter to add more...",inputProps:{maxLength:25}}),g.emailKeywords&&y.emailKeywords&&(0,x.jsx)(m.A,{error:!0,id:"helper-text-email-keywords",children:y.emailKeywords})]})})]})}function J(e){let{values:n,handleChange:t}=e;return(0,x.jsxs)(x.Fragment,{children:[(0,x.jsx)(a.Ay,{item:!0,xs:12,children:(0,x.jsx)(i.A,{children:(0,x.jsx)(l.A,{variant:"subtitle1",children:"Bot Industry and Role settings"})})}),(0,x.jsx)(a.Ay,{item:!0,xs:12,md:4,children:(0,x.jsxs)(s.A,{spacing:1,children:[(0,x.jsx)(d.A,{htmlFor:"industry",children:"Industry"}),(0,x.jsx)(A.A,{id:"industry",name:"industry",value:n.industry,onChange:t,"aria-label":"industry",onKeyDown:W})]})}),(0,x.jsx)(a.Ay,{item:!0,xs:12,md:4,children:(0,x.jsxs)(s.A,{spacing:1,children:[(0,x.jsx)(d.A,{htmlFor:"botRole",children:"Bot Role"}),(0,x.jsx)(A.A,{id:"botRole",name:"botRole",defaultValue:n.botRole,onChange:t,"aria-label":"bot role",onKeyDown:W})]})}),(0,x.jsx)(a.Ay,{item:!0,xs:12,md:4,children:(0,x.jsxs)(s.A,{spacing:1,children:[(0,x.jsx)(d.A,{htmlFor:"organizationName",children:"Organization Name"}),(0,x.jsx)(A.A,{id:"organizationName",name:"organizationName",defaultValue:n.organizationName,onChange:t,"aria-label":"organization name",onKeyDown:W})]})})]})}function Y(e){let{values:n,handleChange:t}=e;const o=(0,L.nc)((e=>e.isSuperUser));return(0,x.jsxs)(x.Fragment,{children:[(0,x.jsx)(a.Ay,{item:!0,xs:12,children:(0,x.jsx)(i.A,{children:(0,x.jsx)(l.A,{variant:"subtitle1",children:"Allow / Block chat window"})})}),(0,x.jsx)(a.Ay,{item:!0,xs:12,md:6,children:(0,x.jsxs)(s.A,{spacing:1,children:[(0,x.jsx)(d.A,{htmlFor:"allowedIP",children:"Allowed IP"}),(0,x.jsx)(A.A,{id:"allowedIP",name:"allowedIP",value:n.allowedIP,onChange:t,"aria-label":"empty textarea",placeholder:"Ex: 192.167.22.340, 192.167.22.341",onKeyDown:W})]})}),(0,x.jsx)(a.Ay,{item:!0,xs:12,md:6,children:(0,x.jsxs)(s.A,{spacing:1,children:[(0,x.jsx)(d.A,{htmlFor:"deniedIP",children:"Denied IP"}),(0,x.jsx)(A.A,{id:"deniedIP",name:"deniedIP",defaultValue:n.deniedIP,onChange:t,"aria-label":"empty textarea",placeholder:"Ex: 192.167.22.340, 192.167.22.341",onKeyDown:W})]})}),o&&(0,x.jsxs)(x.Fragment,{children:[(0,x.jsx)(a.Ay,{item:!0,xs:12,md:6,children:(0,x.jsxs)(s.A,{spacing:1,children:[(0,x.jsx)(d.A,{htmlFor:"allowedPages",children:"Allowed Pages"}),(0,x.jsx)(A.A,{id:"allowedPages",name:"allowedPages",defaultValue:n.allowedPages,onChange:t,"aria-label":"empty textarea",placeholder:"Ex: https://xyz.com, https://abc.com",onKeyDown:W})]})}),(0,x.jsx)(a.Ay,{item:!0,xs:12,md:6,children:(0,x.jsxs)(s.A,{spacing:1,children:[(0,x.jsx)(d.A,{htmlFor:"deniedPages",children:"Denied Pages"}),(0,x.jsx)(A.A,{id:"deniedPages",name:"deniedPages",defaultValue:n.deniedPages,onChange:t,"aria-label":"empty textarea",placeholder:"Ex: https://xyz.com, https://abc.com",onKeyDown:W})]})}),(0,x.jsx)(a.Ay,{item:!0,xs:12,md:6,children:(0,x.jsxs)(s.A,{spacing:1,children:[(0,x.jsx)(d.A,{htmlFor:"allowedCountries",children:"Allowed Countries"}),(0,x.jsx)(A.A,{id:"allowedCountries",name:"allowedCountries",defaultValue:n.allowedCountries,onChange:t,"aria-label":"empty textarea",placeholder:"Ex: India, Oman, Australia",onKeyDown:W})]})}),(0,x.jsx)(a.Ay,{item:!0,xs:12,md:6,children:(0,x.jsxs)(s.A,{spacing:1,children:[(0,x.jsx)(d.A,{htmlFor:"deniedCountries",children:"Denied Countries"}),(0,x.jsx)(A.A,{id:"deniedCountries",name:"deniedCountries",defaultValue:n.deniedCountries,onChange:t,"aria-label":"empty textarea",placeholder:"Ex: Sri Lanka, Bhutan",onKeyDown:W})]})})]})]})}function X(e){let{errors:n,isSubmitting:t}=e;return(0,x.jsxs)(x.Fragment,{children:[n.submit&&(0,x.jsx)(a.Ay,{item:!0,xs:12,children:(0,x.jsx)(m.A,{error:!0,children:n.submit})}),(0,x.jsx)(a.Ay,{item:!0,xs:12,mt:2,children:(0,x.jsx)(K.A,{children:(0,x.jsx)($.A,{disableElevation:!0,isLoading:t,fullWidth:!0,size:"large",type:"submit",variant:"contained",color:"primary",children:"Save Settings"})})})]})}function Z(e,n){return e?isNaN(e)?n:Number(e):e}function q(e){let{id:n,name:t,value:r,onChange:a,...i}=e;const l=o.useRef(),s=e=>a(t,e);return(0,x.jsx)(k,{ref:l,id:n||t,name:t,addOnBlur:!0,value:r||[],onChange:s,onInputChange:e=>{e.endsWith(",")&&(r=[...r,e.substring(0,e.length-1)],s(r),l.current.value="")},...i})}},25920:(e,n,t)=>{t.d(n,{A:()=>o});const o=t(85511).A},31014:(e,n,t)=>{t.d(n,{A:()=>o});const o=t(93539).A},32026:(e,n,t)=>{t.d(n,{G6:()=>l,Ke:()=>h,OX:()=>d,PE:()=>u,TZ:()=>p,Yq:()=>i,do:()=>c,qW:()=>s,s8:()=>r,wE:()=>m});var o=t(44364);function r(e,n){return e.replace(new RegExp(`${a(n)}+$`),"")}function a(e){return e.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")}function i(e){const n=new Date(e),t=n.getDate();return`${["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"][n.getMonth()]} ${t}, ${n.getFullYear()}`}function l(e,n,t){if(!n&&!e)return t;e=e||{};const o=Array.isArray(e)?[...e]:{...e};if(n.includes(".")){const r=n.indexOf("."),a=n.substring(0,r),i=n.substring(r+1);o[a]=l(e[a],i,t)}else o[n]=t;return o}function s(e,n){return btoa(`${e}_${n}_whatsapp_int`)}function d(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:12;const n="abcdefghijklmnopqrstuvwxyz0123456789";let t="";for(let o=0;o<e;o++)t+=n.charAt(Math.floor(36*Math.random()));return t}function c(e,n,t){if(!n&&!e)return t;e=e||{};const o=Array.isArray(e)?[...e]:{...e};if(n.includes(".")){const r=n.indexOf("."),a=n.substring(0,r),i=n.substring(r+1);o[a]=c(e[a],i,t)}else o[n]=t;return o}function u(e,n){const t=new Blob([e],{type:arguments.length>2&&void 0!==arguments[2]?arguments[2]:"text/csv"}),o=document.createElement("a");o.href=URL.createObjectURL(t),o.download=n,document.body.appendChild(o),o.click(),document.body.removeChild(o)}function h(e,n){return!n||n.startsWith("http")?n:(n.startsWith("/")&&(n=n.substring(1)),`${o.J}/${e}/${n}`)}function p(e){console.log(null===e||void 0===e?void 0:e.domain);let n=document.querySelector("link[rel~='icon']");n||(n=document.createElement("link"),n.rel="icon",document.getElementsByTagName("head")[0].appendChild(n)),null!==e&&void 0!==e&&e.domain?(console.log("1"),null!==e&&void 0!==e&&e.favicon&&(n.href=h(null===e||void 0===e?void 0:e.domain,null===e||void 0===e?void 0:e.favicon))):(console.log("2"),n.href="/favicon.png")}function m(e){null!==e&&void 0!==e&&e.domain?null!==e&&void 0!==e&&e.displayName&&(document.title=null===e||void 0===e?void 0:e.displayName):document.title="LivServ"}},32829:(e,n,t)=>{t.d(n,{A:()=>a});var o=t(25371),r=t(44414);function a(e){let{children:n,type:t}=e;return(0,r.jsx)(o.P.div,{whileHover:{scale:1},whileTap:{scale:.9},children:n})}a.defaultProps={type:"scale"}},44364:(e,n,t)=>{t.d(n,{DX:()=>d,J:()=>s,Og:()=>a,jn:()=>o,mB:()=>l,pA:()=>i,pR:()=>r});const o="https://devbackend.livhousing.com:444",r="c17b949cf58c45cae47ce1cc65efc8240f77a2a69ca09ad4c4208852",a={NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0,REACT_APP_IP_DATA_API_KEY:"c17b949cf58c45cae47ce1cc65efc8240f77a2a69ca09ad4c4208852",REACT_APP_VERSION:"1",REACT_APP_GOOGLE_MAPS_API_KEY:"AIzaSyAQMYGdP2AmloNtJm4ZDrJxPuSfuo2RSXM",REACT_APP_BACKEND_URL:"https://devbackend.livhousing.com:444"}.TRAINING_MEDIA_MAXSIZE,i={NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0,REACT_APP_IP_DATA_API_KEY:"c17b949cf58c45cae47ce1cc65efc8240f77a2a69ca09ad4c4208852",REACT_APP_VERSION:"1",REACT_APP_GOOGLE_MAPS_API_KEY:"AIzaSyAQMYGdP2AmloNtJm4ZDrJxPuSfuo2RSXM",REACT_APP_BACKEND_URL:"https://devbackend.livhousing.com:444"}.CONVERSATION_MEDIA_MAXSIZE,l="AIzaSyAQMYGdP2AmloNtJm4ZDrJxPuSfuo2RSXM",s={NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0,REACT_APP_IP_DATA_API_KEY:"c17b949cf58c45cae47ce1cc65efc8240f77a2a69ca09ad4c4208852",REACT_APP_VERSION:"1",REACT_APP_GOOGLE_MAPS_API_KEY:"AIzaSyAQMYGdP2AmloNtJm4ZDrJxPuSfuo2RSXM",REACT_APP_BACKEND_URL:"https://devbackend.livhousing.com:444"}.REACT_APP_AMAZON_S3_BUCKET,d={NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0,REACT_APP_IP_DATA_API_KEY:"c17b949cf58c45cae47ce1cc65efc8240f77a2a69ca09ad4c4208852",REACT_APP_VERSION:"1",REACT_APP_GOOGLE_MAPS_API_KEY:"AIzaSyAQMYGdP2AmloNtJm4ZDrJxPuSfuo2RSXM",REACT_APP_BACKEND_URL:"https://devbackend.livhousing.com:444"}.REACT_APP_NGROK_BACKEND_URL||"https://devbackend.livhousing.com:444"},51637:(e,n,t)=>{t.d(n,{A:()=>u});var o=t(9950),r=t(14857),a=t(48089),i=t(45180),l=t(82053),s=t(50704),d=t(44414);const c={p:2.5,"& .MuiCardHeader-action":{m:"0px auto",alignSelf:"center"}},u=(0,o.forwardRef)(((e,n)=>{let{border:t=!0,boxShadow:o,children:u,content:h=!0,contentSX:p={},darkTitle:m,elevation:A,secondary:x,shadow:f,sx:g={},title:y,...C}=e;const b=(0,r.A)();return o="dark"===b.palette.mode?o||!0:o,(0,d.jsxs)(a.A,{elevation:A||0,ref:n,...C,sx:{border:t?"1px solid":"none",borderRadius:2,borderColor:"dark"===b.palette.mode?b.palette.divider:b.palette.grey.A800,boxShadow:!o||t&&"dark"!==b.palette.mode?"inherit":f||b.customShadows.z1,":hover":{boxShadow:o?f||b.customShadows.z1:"inherit"},"& pre":{m:0,p:"16px !important",fontFamily:b.typography.fontFamily,fontSize:"0.75rem"},...g},children:[!m&&y&&(0,d.jsx)(i.A,{sx:c,titleTypographyProps:{variant:"subtitle1"},title:y,action:x}),m&&y&&(0,d.jsx)(i.A,{sx:c,title:(0,d.jsx)(l.A,{variant:"h3",children:y}),action:x}),h&&(0,d.jsx)(s.A,{sx:p,children:u}),!h&&u]})}))},70855:(e,n,t)=>{t.d(n,{G:()=>r});var o=t(33340);function r(e){const n=(0,o.nc)((e=>e.selectedBotId)),t=(0,o.nc)((t=>t.botsMap[e||n]));return[e||n,t]}},75865:(e,n,t)=>{t.r(n),t.d(n,{capitalize:()=>r.A,createChainedFunction:()=>a.A,createSvgIcon:()=>i.A,debounce:()=>l.A,deprecatedPropType:()=>s,isMuiElement:()=>d.A,ownerDocument:()=>c.A,ownerWindow:()=>u.A,requirePropFactory:()=>h,setRef:()=>p,unstable_ClassNameGenerator:()=>b,unstable_useEnhancedEffect:()=>m.A,unstable_useId:()=>A.A,unsupportedProp:()=>x,useControlled:()=>f.A,useEventCallback:()=>g.A,useForkRef:()=>y.A,useIsFocusVisible:()=>C.A});var o=t(44501),r=t(61676),a=t(25920),i=t(23235),l=t(21209);const s=function(e,n){return()=>null};var d=t(3828),c=t(27402),u=t(70827);t(58168);const h=function(e,n){return()=>null};const p=t(75587).A;var m=t(79044),A=t(31014);const x=function(e,n,t,o,r){return null};var f=t(48733),g=t(1976),y=t(31506),C=t(32937);const b={configure:e=>{o.A.configure(e)}}},79526:(e,n,t)=>{Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"default",{enumerable:!0,get:function(){return o.createSvgIcon}});var o=t(75865)},93038:(e,n,t)=>{t.d(n,{A:()=>_});var o=t(98587),r=t(58168),a=t(9950),i=t(72004),l=t(88465),s=t(9240),d=t(46282),c=t(23235),u=t(44414);const h=(0,c.A)((0,u.jsx)("path",{d:"M19 5v14H5V5h14m0-2H5c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2z"}),"CheckBoxOutlineBlank"),p=(0,c.A)((0,u.jsx)("path",{d:"M19 3H5c-1.11 0-2 .9-2 2v14c0 1.1.89 2 2 2h14c1.11 0 2-.9 2-2V5c0-1.1-.89-2-2-2zm-9 14l-5-5 1.41-1.41L10 14.17l7.59-7.59L19 8l-9 9z"}),"CheckBox"),m=(0,c.A)((0,u.jsx)("path",{d:"M19 3H5c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2zm-2 10H7v-2h10v2z"}),"IndeterminateCheckBox");var A=t(61676),x=t(18463),f=t(59254),g=t(19608),y=t(1763),C=t(423);function b(e){return(0,C.Ay)("MuiCheckbox",e)}const v=(0,y.A)("MuiCheckbox",["root","checked","disabled","indeterminate","colorPrimary","colorSecondary","sizeSmall","sizeMedium"]),w=["checkedIcon","color","icon","indeterminate","indeterminateIcon","inputProps","size","className"],j=(0,f.Ay)(d.A,{shouldForwardProp:e=>(0,g.A)(e)||"classes"===e,name:"MuiCheckbox",slot:"Root",overridesResolver:(e,n)=>{const{ownerState:t}=e;return[n.root,t.indeterminate&&n.indeterminate,n[`size${(0,A.A)(t.size)}`],"default"!==t.color&&n[`color${(0,A.A)(t.color)}`]]}})((e=>{let{theme:n,ownerState:t}=e;return(0,r.A)({color:(n.vars||n).palette.text.secondary},!t.disableRipple&&{"&:hover":{backgroundColor:n.vars?`rgba(${"default"===t.color?n.vars.palette.action.activeChannel:n.vars.palette[t.color].mainChannel} / ${n.vars.palette.action.hoverOpacity})`:(0,s.X4)("default"===t.color?n.palette.action.active:n.palette[t.color].main,n.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:"transparent"}}},"default"!==t.color&&{[`&.${v.checked}, &.${v.indeterminate}`]:{color:(n.vars||n).palette[t.color].main},[`&.${v.disabled}`]:{color:(n.vars||n).palette.action.disabled}})})),P=(0,u.jsx)(p,{}),S=(0,u.jsx)(h,{}),E=(0,u.jsx)(m,{}),_=a.forwardRef((function(e,n){var t,s;const d=(0,x.b)({props:e,name:"MuiCheckbox"}),{checkedIcon:c=P,color:h="primary",icon:p=S,indeterminate:m=!1,indeterminateIcon:f=E,inputProps:g,size:y="medium",className:C}=d,v=(0,o.A)(d,w),_=m?f:p,I=m?f:c,T=(0,r.A)({},d,{color:h,indeterminate:m,size:y}),D=(e=>{const{classes:n,indeterminate:t,color:o,size:a}=e,i={root:["root",t&&"indeterminate",`color${(0,A.A)(o)}`,`size${(0,A.A)(a)}`]},s=(0,l.A)(i,b,n);return(0,r.A)({},n,s)})(T);return(0,u.jsx)(j,(0,r.A)({type:"checkbox",inputProps:(0,r.A)({"data-indeterminate":m},g),icon:a.cloneElement(_,{fontSize:null!=(t=_.props.fontSize)?t:y}),checkedIcon:a.cloneElement(I,{fontSize:null!=(s=I.props.fontSize)?s:y}),ownerState:T,ref:n,className:(0,i.A)(D.root,C)},v,{classes:D}))}))},93383:(e,n,t)=>{t.d(n,{A:()=>l});var o=t(9950),r=t(10226),a=t(46639),i=t(44414);const l=function(e){let{onClick:n,disabled:t,isLoading:l,children:s,...d}=e;const[c,u]=o.useState(l);return(0,i.jsxs)(r.A,{onClick:e=>{if(!n)return;const t=n(e);"function"===typeof(null===t||void 0===t?void 0:t.finally)&&(u(!0),t.finally((()=>u(!1))))},disabled:c||l||t,...d,children:[(c||l)&&(0,i.jsx)(a.A,{size:16,color:"primary",style:{marginRight:"10px"}}),s]})}},98415:(e,n,t)=>{t.d(n,{Ci:()=>u,I4:()=>c,TF:()=>s,gI:()=>i,gR:()=>p,jo:()=>d,rv:()=>m,so:()=>h,yo:()=>l});var o=t(8478),r=t(33340),a=t(32026);async function i(e){const{organization:{websiteUrl:n,_id:t}}=r.nc.getState(),a={organizationId:t,websiteUrl:n,botName:e,botDesign:{visitorMessageLogo:{name:"",url:""},botMessageLogo:{name:"",url:""},botChatButton:{name:"",url:""},botLogo:{name:"",url:""},backgroundColor:"#e7a654",textColor:"#ffffff",dimensions:{heightInPixel:"500px",heightInPercent:"70%",widthInPixel:"350px",widthInPercent:"25%"},botLogoDimensions:{heightInPixel:"30px",heightInPercent:"100%",widthInPixel:"30px",widthInPercent:"100%"}}};A(await o.bE(`/bot/${t}`,a),!0)}async function l(e,n,t){const{organizationId:a}=r.nc.getState();if(!a||!e)throw new Error("Bot details not found");const i=await o.yJ(`/bot/${a}/${e}`,n);return A(i,t),i}async function s(e){const{organizationId:n,selectedBotId:t}=r.nc.getState();if(!n||!e)throw new Error("Bot details not found");const{deleted:a}=await o.TF(`/bot/${n}/${e}`);if(a){let{botsMap:e,botsList:n}=r.nc.getState();e={...e},n=[...n],delete e[a];const o=n.findIndex((e=>e._id===a));o>=0&&n.splice(o,1);const l={botsMap:e,botsList:n};var i;if(t===a)l.selectedBotId=(null===(i=n[0])||void 0===i?void 0:i._id)||null;r.nc.setState(l)}return!!a}function d(e,n){let{botDesign:t}=r.nc.getState();return t={...t,...n},l(e,{botDesign:t})}async function c(e,n){const{organizationId:t,selectedBotId:a}=r.nc.getState(),i=new FormData;i.append("file",n);const l=await o.bE(`/bot/${t}/${a}/update-logo/${e}`,i);return m(a,l),l[`botDesign.${e}`]}async function u(e){const{organizationId:n,selectedBotId:t}=r.nc.getState(),a=await o.TF(`/bot/${n}/${t}/update-logo/${e}`);return m(t,a),a[`botDesign.${e}`]}function h(e,n){return l(e,{botName:n})}function p(e,n){let{botSettings:t={}}=r.nc.getState();return t={...t,...n},l(e,{botSettings:t})}function m(e,n){const{botsMap:t}=r.nc.getState(),o=t[e];if(!o)return;A(Object.keys(n).reduce(((e,t)=>(0,a.G6)(e,t,n[t])),o))}function A(e){let n=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];const t=e._id;let{botsMap:o,botsList:a}=r.nc.getState();o={...o,[t]:e},a=[...a];const i=a.findIndex((e=>e._id===t));i>=0?a[i]=e:a.push(e);const l={botsMap:o,botsList:a};n&&(l.selectedBotId=t),r.nc.setState(l)}}}]);