"use strict";(self.webpackChunklib_prop_ui=self.webpackChunklib_prop_ui||[]).push([[7331],{32829:(e,n,t)=>{t.d(n,{A:()=>o});var c=t(25371),i=t(44414);function o(e){let{children:n,type:t}=e;return(0,i.jsx)(c.P.div,{whileHover:{scale:1},whileTap:{scale:.9},children:n})}o.defaultProps={type:"scale"}},93383:(e,n,t)=>{t.d(n,{A:()=>a});var c=t(9950),i=t(10226),o=t(46639),r=t(44414);const a=function(e){let{onClick:n,disabled:t,isLoading:a,children:s,...d}=e;const[l,u]=c.useState(a);return(0,r.jsxs)(i.A,{onClick:e=>{if(!n)return;const t=n(e);"function"===typeof(null===t||void 0===t?void 0:t.finally)&&(u(!0),t.finally((()=>u(!1))))},disabled:l||a||t,...d,children:[(l||a)&&(0,r.jsx)(o.A,{size:16,color:"primary",style:{marginRight:"10px"}}),s]})}},57331:(e,n,t)=>{t.r(n),t.d(n,{default:()=>l});var c=t(9950),i=t(60899),o=t(8478),r=t(32829),a=t(93383),s=t(28429),d=t(44414);const l=function(){var e;const{invoiceId:n}=(0,s.g)(),[t,l]=c.useState(),[u,_]=c.useState();if(c.useEffect((()=>{!async function(e){let n=document.querySelector('script[id="razorpay-script"]');if(n)return!0;new Promise((t=>{n=document.createElement("script"),n.id="razorpay-script",n.src=e,n.onload=()=>{t(!0)},n.onerror=()=>{t(!1)},document.body.appendChild(n)}))}("https://checkout.razorpay.com/v1/checkout.js")}),[]),c.useEffect((()=>{o.Jt(`/organization/invoice/view/${n}`).then(l)}),[n]),t)return(0,d.jsxs)(i.Ay,{item:!0,xs:12,children:[(0,d.jsx)("div",{children:(0,d.jsx)("iframe",{src:t.pdfUrl,title:"View Invoice",style:{width:"100%",height:t.isPaid?"calc(100vh - 12px)":"calc(100vh - 60px)"}})}),!t.isPaid&&(0,d.jsx)(i.Ay,{item:!0,xs:12,children:(0,d.jsx)("div",{style:{width:"260px",marginLeft:"auto",padding:"5px 25px"},children:(0,d.jsx)(r.A,{children:(0,d.jsxs)(a.A,{disableElevation:!0,isLoading:u,fullWidth:!0,size:"large",type:"submit",variant:"contained",color:"primary",onClick:async()=>{_(!0);const e=await o.bE(`/organization/invoice/${t.invoiceId}/make-payment`);new window.Razorpay(e).open(),_(!1)},children:["Pay ",t.currencyPrefix," ",null===(e=t.amount)||void 0===e?void 0:e.toFixed(2)]})})})})]})}},8478:(e,n,t)=>{t.d(n,{Jt:()=>o,TF:()=>s,bE:()=>r,yJ:()=>a});var c=t(32026),i=t(44364);async function o(e,n){return d("GET",e,n,arguments.length>2&&void 0!==arguments[2]?arguments[2]:{})}async function r(e,n){return d("POST",e,n,arguments.length>2&&void 0!==arguments[2]?arguments[2]:{})}async function a(e,n){return d("PUT",e,n,arguments.length>2&&void 0!==arguments[2]?arguments[2]:{})}async function s(e,n){return d("DELETE",e,n,arguments.length>2&&void 0!==arguments[2]?arguments[2]:{})}async function d(e,n,t){let{headers:c,noAuth:i,...o}=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};const r="POST"===e||"PUT"===e||"DELETE"===e;n=function(e,n){if(!e)return e;const t=n&&Object.keys(n);if(null!==t&&void 0!==t&&t.length){const c=t.reduce(((e,t)=>{let c=n[t];return null===c||void 0===c?e:(c=`${t}=${encodeURIComponent(c)}`,e?`${e}&${c}`:c)}),"");c&&(e=`${e}${e.includes("?")?"&":"?"}${c}`)}if(e.startsWith("https://"))return e;return`${l}${e}`}(n,r?void 0:t);const a=t instanceof FormData;if(a||(t=t&&"object"===typeof t&&r?JSON.stringify(t):void 0),c||(c={}),a||(c["Content-Type"]="application/json"),c.Accept="application/json",!1!==i){const e=sessionStorage.getItem("token");e&&(c.Authorization=`Bearer ${e}`)}try{const i=await fetch(n,{...o,headers:c,body:t,method:e}),r=await i.json();if(i.ok){const{data:e,...n}=r;return delete n.status,e&&!Object.keys(n).length?e:r}throw r.message?new Error(r.message):r}catch(d){var s;throw console.error("Error calling API: ",d),null!==(s=d.message)&&void 0!==s&&s.includes("fetch")?new Error("Unable to reach server. Please check your network connectivity and try again."):new Error(d.message)}}const l=(0,c.s8)(i.jn,"/")},32026:(e,n,t)=>{function c(e,n){return e.replace(new RegExp(`${i(n)}+$`),"")}function i(e){return e.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")}function o(e){const n=new Date(e),t=n.getDate();return`${["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"][n.getMonth()]} ${t}, ${n.getFullYear()}`}function r(e,n,t){if(!n&&!e)return t;e=e||{};const c=Array.isArray(e)?[...e]:{...e};if(n.includes(".")){const i=n.indexOf("."),o=n.substring(0,i),a=n.substring(i+1);c[o]=r(e[o],a,t)}else c[n]=t;return c}function a(e,n){return btoa(`${e}_${n}_whatsapp_int`)}function s(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:12;const n="abcdefghijklmnopqrstuvwxyz0123456789";let t="";for(let c=0;c<e;c++)t+=n.charAt(Math.floor(36*Math.random()));return t}function d(e,n,t){if(!n&&!e)return t;e=e||{};const c=Array.isArray(e)?[...e]:{...e};if(n.includes(".")){const i=n.indexOf("."),o=n.substring(0,i),r=n.substring(i+1);c[o]=d(e[o],r,t)}else c[n]=t;return c}function l(e,n){const t=new Blob([e],{type:arguments.length>2&&void 0!==arguments[2]?arguments[2]:"text/csv"}),c=document.createElement("a");c.href=URL.createObjectURL(t),c.download=n,document.body.appendChild(c),c.click(),document.body.removeChild(c)}t.d(n,{G6:()=>r,OX:()=>s,PE:()=>l,Yq:()=>o,do:()=>d,qW:()=>a,s8:()=>c})},44364:(e,n,t)=>{t.d(n,{DX:()=>s,Og:()=>o,jn:()=>c,mB:()=>a,pA:()=>r,pR:()=>i});const c="https://devbackend.livhousing.com:444",i="c17b949cf58c45cae47ce1cc65efc8240f77a2a69ca09ad4c4208852",o={NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0,REACT_APP_IP_DATA_API_KEY:"c17b949cf58c45cae47ce1cc65efc8240f77a2a69ca09ad4c4208852",REACT_APP_VERSION:"1",REACT_APP_BACKEND_URL:"https://devbackend.livhousing.com:444"}.TRAINING_MEDIA_MAXSIZE,r={NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0,REACT_APP_IP_DATA_API_KEY:"c17b949cf58c45cae47ce1cc65efc8240f77a2a69ca09ad4c4208852",REACT_APP_VERSION:"1",REACT_APP_BACKEND_URL:"https://devbackend.livhousing.com:444"}.CONVERSATION_MEDIA_MAXSIZE,a={NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0,REACT_APP_IP_DATA_API_KEY:"c17b949cf58c45cae47ce1cc65efc8240f77a2a69ca09ad4c4208852",REACT_APP_VERSION:"1",REACT_APP_BACKEND_URL:"https://devbackend.livhousing.com:444"}.GOOGLE_MAPS_API_KEY,s={NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0,REACT_APP_IP_DATA_API_KEY:"c17b949cf58c45cae47ce1cc65efc8240f77a2a69ca09ad4c4208852",REACT_APP_VERSION:"1",REACT_APP_BACKEND_URL:"https://devbackend.livhousing.com:444"}.REACT_APP_NGROK_BACKEND_URL||"https://devbackend.livhousing.com:444"}}]);