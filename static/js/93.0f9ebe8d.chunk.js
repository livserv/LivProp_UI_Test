"use strict";(self.webpackChunklib_prop_ui=self.webpackChunklib_prop_ui||[]).push([[93],{77013:(t,e,n)=>{n.r(e),n.d(e,{default:()=>d});var o=n(47313),i=n(58467),c=n(89637),s=n(80730),a=n(52825),r=n(75391),_=n(46417);const d=function(){const{organizationId:t,botId:e,recipientId:n,chatId:d}=(0,i.UO)(),[E,u]=o.useState();return o.useEffect((()=>{s.U2("/bot/".concat(t,"/").concat(e,"/chat/history/").concat(n,"/").concat(d,"?includeBot=1")).then((t=>{var e,n;const o=(0,c.p6)(null===(e=t.messages[0])||void 0===e?void 0:e.createdAt);t.botDesign=(0,r.K)(t.botDesign,{window:{width:"600px",height:"calc(100vh - 120px)"},header:{titleText:o+" (".concat(null===(n=t.botDesign)||void 0===n?void 0:n.titleText,")")}}),u(t)}),(t=>{console.error("Unable to load chat conversations:",t)}))}),[t,e,n,d]),E?(0,_.jsx)("div",{className:"conversation-history",children:(0,_.jsx)(a.Z,{botDesign:E.botDesign,messages:E.messages,showTime:!0})}):(0,_.jsx)("div",{children:"Loading... Please wait..."})}},80730:(t,e,n)=>{n.d(e,{Od:()=>a,TY:()=>d,U2:()=>c,v_:()=>s});var o=n(89637),i=n(32203);async function c(t,e){return r("GET",t,e,arguments.length>2&&void 0!==arguments[2]?arguments[2]:{})}async function s(t,e){return r("POST",t,e,arguments.length>2&&void 0!==arguments[2]?arguments[2]:{})}async function a(t,e){return r("DELETE",t,e,arguments.length>2&&void 0!==arguments[2]?arguments[2]:{})}async function r(t,e,n){let{headers:o,noAuth:i,...c}=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};const s="POST"===t||"PUT"===t||"DELETE"===t;if(e=d(e,s?void 0:n),n=n&&"object"===typeof n&&s?JSON.stringify(n):void 0,o||(o={}),o["Content-Type"]="application/json",o.Accept="application/json",!1!==i){const t=sessionStorage.getItem("token");t&&(o.Authorization="Bearer ".concat(t))}const a=await fetch(e,{...c,headers:o,body:n,method:t}),r=await a.json();if(a.ok){const{data:t,...e}=r;return delete e.status,t&&!Object.keys(e).length?t:r}throw r.message?new Error(r.message):r}const _=(0,o.lf)(i.Hi,"/");function d(t,e){if(!t)return t;const n=e&&new URLSearchParams(e);return null!==n&&void 0!==n&&n.size&&(t.includes("?")?t+="&"+n.toString():t+="?"+n.toString()),t.startsWith("https://")?t:"".concat(_).concat(t)}},89637:(t,e,n)=>{function o(t,e){return t.replace(new RegExp("".concat(i(e),"+$")),"")}function i(t){return t.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")}function c(t){const e=new Date(t),n=e.getDate(),o=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"][e.getMonth()],i=e.getFullYear();return"".concat(o," ").concat(n,", ").concat(i)}n.d(e,{lf:()=>o,p6:()=>c})},32203:(t,e,n)=>{n.d(e,{Hi:()=>o,LC:()=>a,lB:()=>i,rn:()=>s,yu:()=>c});const o="https://devbackend.livhousing.com",i={NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0,REACT_APP_NGROK_BACKEND_URL:"https://60f1-203-192-224-75.ngrok-free.app",REACT_APP_VERSION:"1",REACT_APP_BACKEND_URL:"https://devbackend.livhousing.com"}.REACT_APP_IP_DATA_API_KEY,c={NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0,REACT_APP_NGROK_BACKEND_URL:"https://60f1-203-192-224-75.ngrok-free.app",REACT_APP_VERSION:"1",REACT_APP_BACKEND_URL:"https://devbackend.livhousing.com"}.TRAINING_MEDIA_MAXSIZE,s={NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0,REACT_APP_NGROK_BACKEND_URL:"https://60f1-203-192-224-75.ngrok-free.app",REACT_APP_VERSION:"1",REACT_APP_BACKEND_URL:"https://devbackend.livhousing.com"}.CONVERSATION_MEDIA_MAXSIZE,a="https://60f1-203-192-224-75.ngrok-free.app"}}]);