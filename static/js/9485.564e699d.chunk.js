"use strict";(self.webpackChunklib_prop_ui=self.webpackChunklib_prop_ui||[]).push([[9485],{49485:(e,t,n)=>{n.r(t),n.d(t,{default:()=>W});var i=n(9950),s=n(60899),o=n(82053),r=n(93230),l=n(25277),a=n(16491),c=n(48205),d=n(63464),x=n(40033),h=n(28170),j=n(2660),A=n(79739),m=n(10226),u=n(52472),p=n(99532),y=n(7999),g=n(57988),f=n(70520),b=n(25333),C=n(51519),v=n(63359),k=n(85967),w=n(53065),B=n(64697),S=n(59254),N=n(37324),I=n(16497),_=n(21788),D=n(51637),E=n(33340),F=n(93383),L=n(98415),P=n(32026),z=n(11172),U=n(26092),V=n(44414);const W=()=>{const e=(0,E.nc)((e=>e.botsList)),t=(0,E.nc)((e=>e.organizationId)),[n,r]=(0,i.useState)(!1),[l,a]=(0,i.useState)(),c=e=>{r(!0),a(e)};return(0,V.jsxs)(V.Fragment,{children:[(0,V.jsxs)(s.Ay,{container:!0,rowSpacing:4.5,columnSpacing:2.75,children:[(0,V.jsxs)(s.Ay,{item:!0,xs:12,sx:{mb:-2.25},children:[(0,V.jsx)(o.A,{variant:"h5",children:"Bots List"}),(0,V.jsx)(s.Ay,{item:!0,xs:12,display:"flex",justifyContent:"flex-end",children:(0,V.jsx)(M,{})})]}),e.map(((e,t)=>(0,V.jsx)(s.Ay,{item:!0,xs:12,sm:6,md:4,lg:3,children:(0,V.jsx)(T,{bot:e,verifyBot:c})},t))),(0,V.jsx)(s.Ay,{item:!0,md:8,sx:{display:{sm:"none",md:"block",lg:"none"}}})]}),(0,V.jsx)(U.A,{openPopUpDialog:n,setPopUpDialog:r,title:"Verify Bot Details",children:(0,V.jsx)(z.A,{setIsDeployBot:r,botId:l,organizationId:t})})]})},T=e=>{let{bot:t,verifyBot:n}=e;const{color:i,botName:c,createdAt:d,_id:x,verificationStatus:h}=t,j=(0,E.nc)((e=>e.isSuperUser)),A=async e=>await L.yo(x,{[e.target.name]:e.target.checked},!1);return(0,V.jsxs)(D.A,{contentSX:{p:2.25},children:[(0,V.jsxs)(r.A,{spacing:.5,children:[(0,V.jsxs)(s.Ay,{container:!0,direction:"row",alignItems:"center",justifyContent:"space-between",children:[(0,V.jsx)(s.Ay,{item:!0,xs:7,children:(0,V.jsx)(o.A,{variant:"h6",color:"textSecondary",children:"Bot Name"})}),(0,V.jsx)(s.Ay,{item:!0,xs:5,align:"right",children:j&&(0,V.jsx)(l.A,{icon:(0,V.jsx)(f.A,{style:{color:h?"#65EE55":"#ff0000"}}),label:"Verify",size:"small",sx:{cursor:"pointer",boxShadow:3},onClick:()=>n(x)})})]}),(0,V.jsx)(s.Ay,{container:!0,alignItems:"center",children:(0,V.jsxs)(s.Ay,{item:!0,children:[(0,V.jsx)(o.A,{variant:"h4",color:"inherit",children:c}),h?(0,V.jsxs)(s.Ay,{container:!0,direction:"row",alignItems:"center",children:[(0,V.jsx)(C.A,{style:{color:"#65EE55"}}),"\xa0Verified"]}):(0,V.jsxs)(s.Ay,{container:!0,direction:"row",alignItems:"center",children:[(0,V.jsx)(C.A,{style:{color:"#ff0000"}}),"\xa0Not verified"]}),(0,V.jsx)(s.Ay,{item:!0,children:(0,V.jsx)(I.A,{label:"Get Presale Lead",control:(0,V.jsx)(N.A,{checked:t.getPreSaleLeads,onChange:A,name:"getPreSaleLeads"})})}),j&&(0,V.jsx)(s.Ay,{item:!0,children:(0,V.jsx)(I.A,{label:"Is Bot Active",control:(0,V.jsx)(N.A,{checked:t.isBotActivate,onChange:A,name:"isBotActivate"})})})]})}),(0,V.jsxs)(s.Ay,{alignItems:"right",children:[(0,V.jsx)(q,{bot:t}),(0,V.jsx)(G,{bot:t})]})]}),(0,V.jsx)(a.A,{sx:{pt:2.25},children:(0,V.jsxs)(o.A,{variant:"caption",color:"textSecondary",children:["Created on:"," ",(0,V.jsx)(o.A,{component:"span",variant:"caption",sx:{color:`${i||"primary"}.main`},children:(0,P.Yq)(d)})]})})]})},$=i.forwardRef((function(e,t){return(0,V.jsx)(c.A,{direction:"up",ref:t,...e})}));function M(){const e=(0,S.Ay)((e=>{let{className:t,...n}=e;return(0,V.jsx)(w.A,{...n,arrow:!0,classes:{popper:t}})}))((e=>{let{theme:t}=e;return{[`& .${B.A.arrow}`]:{color:t.palette.common.black},[`& .${B.A.tooltip}`]:{backgroundColor:t.palette.common.black}}})),[t,n]=(0,i.useState)(""),[s,r]=i.useState(!1),l=()=>r(!1);return(0,V.jsxs)(V.Fragment,{children:[(0,V.jsx)(e,{title:"Add new bot",placement:"right",children:(0,V.jsx)(u.A,{color:"primary",size:"medium",onClick:()=>r(!0),children:(0,V.jsx)(p.A,{})})}),(0,V.jsxs)(d.A,{open:s,TransitionComponent:$,keepMounted:!0,onClose:l,maxWidth:"md",children:[(0,V.jsx)(x.A,{style:{width:"400px"},children:(0,V.jsx)(o.A,{color:"inherit",children:"Create New Bot"})}),(0,V.jsx)(h.A,{children:(0,V.jsx)(j.A,{fullWidth:!0,type:"text",id:"botName",name:"botName",onChange:e=>n(e.target.value),placeholder:"Bot Name",autoComplete:"off"})}),(0,V.jsxs)(A.A,{children:[(0,V.jsx)(m.A,{onClick:l,children:"Cancel"}),(0,V.jsx)(F.A,{variant:"contained",disabled:(null===t||void 0===t?void 0:t.trim().length)<3,onClick:async()=>{try{await(0,L.gI)(t),l(),(0,_.i)(!0,"New bot added successfully","success")}catch(e){(0,_.i)(!0,"Bot already exist","error")}},children:"Create"})]})]})]})}function q(e){let{bot:t}=e;const{_id:n,botName:s}=t,[r,l]=(0,i.useState)(""),[a,c]=i.useState(!1),[u,p]=(0,i.useState)(),g=()=>{l(""),c(!1)};return(0,V.jsxs)(V.Fragment,{children:[(0,V.jsx)(b.A,{"aria-label":"edit",sx:{color:v.A[500]},onClick:()=>c(!0),children:(0,V.jsx)(y.A,{})}),(0,V.jsxs)(d.A,{open:a,TransitionComponent:$,keepMounted:!0,onClose:g,maxWidth:"md",children:[(0,V.jsx)(x.A,{style:{width:"400px"},children:(0,V.jsx)(o.A,{color:"inherit",children:"Edit Bot Name"})}),(0,V.jsx)(h.A,{children:(0,V.jsx)(j.A,{fullWidth:!0,type:"text",id:"editBotName",name:"editBotName",defaultValue:s,onChange:e=>{""===e.target.value?p("Invalid Bot Name"):(p(""),l(e.target.value))},placeholder:"Bot Name",autoComplete:"off"})}),(0,V.jsxs)(A.A,{children:[u&&(0,V.jsxs)("div",{style:{color:"red"},children:[" ","*",u," "]}),(0,V.jsx)(m.A,{onClick:g,children:"Cancel"}),(0,V.jsx)(F.A,{variant:"contained",disabled:(null===r||void 0===r?void 0:r.trim().length)<3,onClick:async()=>{await(0,L.so)(n,r),g(),(0,_.i)(!0,"Bot name updated successfully","success")},children:"Update"})]})]})]})}function G(e){let{bot:t}=e;const{_id:n}=t,[s,r]=i.useState(!1),l=()=>{r(!1)};return(0,V.jsxs)(V.Fragment,{children:[(0,V.jsx)(b.A,{"aria-label":"delete",sx:{color:k.A[500]},onClick:()=>{r(!0)},children:(0,V.jsx)(g.A,{})}),(0,V.jsxs)(d.A,{open:s,onClose:l,children:[(0,V.jsx)(x.A,{id:"alert-dialog-title",children:(0,V.jsx)(o.A,{gutterBottom:!0,children:"Are sure you want to delete the bot ?"})}),(0,V.jsxs)(A.A,{children:[(0,V.jsx)(m.A,{onClick:l,children:"Cancel"}),(0,V.jsx)(F.A,{variant:"contained",onClick:async()=>{await L.TF(n),r(!1)},children:"Delete"})]})]})]})}}}]);