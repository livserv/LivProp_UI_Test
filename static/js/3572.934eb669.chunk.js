"use strict";(self.webpackChunklib_prop_ui=self.webpackChunklib_prop_ui||[]).push([[3572],{4791:(e,o,t)=>{t.r(o),t.d(o,{default:()=>lo});var s=t(9950),r=t(28564),a=t(39320),i=t(37630),l=t(85668),d=(t(522),t(59051)),n=t.n(d);const m={STRING:"string",NUMBER:"number",DATE:"date",DATETIME:"datetime",TIME:"time",PHONE_NUMBER:"phone number",EMAIL:"email",CUSTOM:"custom"},c=["GET","POST","PUT"],u=["Text","Date","Number"],p=Object.values(m),y=e=>/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(e),g=e=>{const o={};return e.errors={},e.message?(e.message.length<3||e.message.length>1500)&&(o.message="Error in Message Node",e.errors.message="Message must be between 3 and 1500 characters"):(o.message="Error in Message Node",e.errors.message="Message is required"),o},h=e=>{const o={};e.errors={},e.message?(e.message.length<3||e.message.length>500)&&(o.message="Error in Options Node",e.errors.message="Message must be between 3 and 500 characters"):(o.message="Error in Options Node",e.errors.message="Message is required");return(e.subOptions||[]).forEach(((t,s)=>{const r={};(!t.title||t.title.length<1||t.title.length>500)&&(o[`title_${s}`]="Sub Option Title must be between 3 and 500 characters",r.title="Sub Option Title must be between 3 and 500 characters");const a=new Set;if(t.leadEmailTo){const e=t.leadEmailTo.trim();y(e)?a.has(e)?(o[`leadEmailTo_${s}`]="Duplicate Lead Email To",r.leadEmailTo="Duplicate Lead Email To"):a.add(e):(o[`leadEmailTo_${s}`]="Lead Email To must be a valid email",r.leadEmailTo="Lead Email To must be a valid email")}t.leadEmailCc&&Array.isArray(t.leadEmailCc)&&t.leadEmailCc.forEach(((e,t)=>{const i=e.trim();y(i)?a.has(i)?(o[`subOptions[${s}].leadEmailCc[${t}]`]="Duplicate email in Lead Email Cc",r.leadEmailCc="Duplicate email in Lead Email Cc"):a.add(i):(o[`subOptions[${s}].leadEmailCc[${t}]`]="Invalid email format",r.leadEmailCc="Invalid email format")})),e.subOption=r})),o},w=e=>{var o;const t={};e.errors={},e.message?(e.message.length<3||e.message.length>1500)&&(t.message="Error in File Node",e.errors.message="Message must be between 3 and 1500 characters"):(t.message="Error in File Node",e.errors.message="Message is required");const s=Array.isArray(e.urls)&&e.urls.every((e=>b(e)));s||(t.message="Error in File Node",e.errors.urls="Invalid image URL"),e.fileType||(t.message="Error in File Node",e.errors.fileType="File type is required");const r=e.files&&x(e.files,e.fileType);return(s&&0===(null===(o=e.urls)||void 0===o?void 0:o.length)&&!r||!s&&!r)&&(t.message="Error in File Node",e.errors.fileOrUrl="Either valid URLs or valid files must be provided"),t},j=e=>{const o={};return e.errors={},e.message?(e.message.length<3||e.message.length>500)&&(o.message="Error in Maps Node",e.errors.message="Message must be between 3 and 500 characters"):(o.message="Error in Maps Node",e.errors.message="Message is required"),e.url&&b(e.url)||(o.message="Error in Maps Node",e.errors.url="URL must be valid"),o},x=(e,o)=>{if(!e||0===e.length)return!1;const t={pdf:["pdf","application/pdf"],"application/pdf":["pdf","application/pdf"],images:["jpg","jpeg","png","gif"],"image/*":["jpg","jpeg","png","gif"],video:["mp4","avi","mov"],"video/*":["mp4","avi","mov"]}[o];return e.every((e=>{var o;const s=null===(o=e.name.split(".").pop())||void 0===o?void 0:o.toLowerCase();return Array.isArray(t)?t.includes(s||""):s===t}))},b=e=>/^(http|https|ftp):\/\/[^\s/$.?#].[^\s]*$/i.test(e),f=(e,o)=>{var t;switch(o=null===(t=o)||void 0===t?void 0:t.trim(),e){case"message":if(!o)return"Message is required";if(o.length<3)return"Message must be at least 3 characters";if(o.length>500)return"Message must be at most 500 characters";break;case"title":if(!o)return"Title is required";if(o.length<1)return"Title must be at least 1 characters";if(o.length>500)return"Title must be at most 500 characters";break;case"leadEmailTo":if(o&&!/\S+@\S+\.\S+/.test(o))return"Lead Email To is invalid";break;case"leadEmailCc":if(o&&!/\S+@\S+\.\S+/.test(o))return"Lead Email CC is invalid"}return""},k=e=>{const o={};if(e.errors={},e.message||(o.message="Error in Question Node",e.errors.message="A message is required"),e.fieldType||(o.message="Error in Question Node",e.errors.fieldType="Question Type is required"),e.property){/^[a-zA-Z0-9-_]+$/.test(e.property.trim())||(o.message="Error in Question Node",e.errors.property="Property can only contain alphanumeric characters, hyphens (-), and underscores (_), and should not have spaces.")}switch(e.fieldType){case m.DATE:{const t=n()().startOf("day"),s=n()().add(3,"months").endOf("day"),r=e.min?n()(e.min).startOf("day"):t,a=e.max?n()(e.max).endOf("day"):s;r&&r.isBefore(t)&&(o.message="Error in Question Node",e.errors.min="Min date cannot be before today."),a&&a.isAfter(s)&&(o.message="Error in Question Node",e.errors.max="Max date cannot be more than 3 months from today."),r&&a&&r.isAfter(a)&&(o.message="Error in Question Node",e.errors.min="Min date cannot be after Max date.");break}case m.DATETIME:{const t=e.min?n()(e.min):null,s=e.max?n()(e.max):null,r=n()().startOf("day"),a=n()().add(3,"months").endOf("day");t&&t.isBefore(r)&&(o.message="Error in Question Node",e.errors.min="Min datetime cannot be before today."),s&&s.isAfter(a)&&(o.message="Error in Question Node",e.errors.max="Max datetime cannot be more than 3 months from today."),t&&s&&t.isAfter(s)&&(o.message="Error in Question Node",e.errors.min="Min datetime cannot be after Max datetime.");break}case m.TIME:{const t=e.min?n()(e.min):null,s=e.max?n()(e.max):null,r=n()().startOf("day"),a=n()().endOf("day");t&&t.isBefore(r)&&(o.message="Error in Question Node",e.errors.min="Min time cannot be before today."),s&&s.isAfter(a)&&(o.message="Error in Question Node",e.errors.max="Max time cannot be after today."),t&&s&&t.isAfter(s)&&(o.message="Error in Question Node",e.errors.min="Min time cannot be after Max time.");break}case"custom":e.custom||(o.message="Error in Question Node",e.errors.custom="A custom regex is required.");break;case"string":case"number":case"age":{const t=((e,o,t)=>{if(e&&"number"!==typeof e||o&&"number"!==typeof o)return`Both min and max values must be valid numbers for ${t}.`;if(e&&o&&e>o)return`Min value cannot be greater than Max value for ${t}.`;if("string"===t){if(e&&e<3)return"Min length for string must be at least 3.";if(o&&o>500)return"Max length for string must not exceed 500."}if("number"===t){const s=1,r=99;if(e&&(e<s||e>r))return`Min value for ${t} must be between ${s} and ${r}.`;if(o&&(o<s||o>r))return`Max value for ${t} must be between ${s} and ${r}.`}return""})(e.min?parseInt(e.min,10):void 0,e.max?parseInt(e.max,10):void 0,e.fieldType);t&&(o.message="Error in Question Node",e.errors.answer=t);break}}return o},v=e=>{const o={};return e.errors={},e.url&&0!==e.url.length||(o.message="Error in HTTP Node",e.errors.url="HTTP Node - URL is mandatory"),e.requestType&&0!==e.requestType.length||(o.message="Error in HTTP Node",e.errors.requestType="HTTP Node - Request type is mandatory"),e.params&&0!==e.params.length?e.params.forEach(((t,s)=>{t.key||(o[`params[${s}].key`]="HTTP Node - Param key is mandatory",e.errors[`params[${s}].key`]="HTTP Node - Param key is mandatory"),t.valueType||(o[`params[${s}].valueType`]="HTTP Node - Param valueType is mandatory",e.errors[`params[${s}].valueType`]="HTTP Node - Param valueType is mandatory"),t.value?"number"===t.valueType&&isNaN(Number(t.value))&&(o[`params[${s}].value`]="HTTP Node - Param value is mandatory"):(o[`params[${s}].value`]="HTTP Node - Param value is mandatory",e.errors[`params[${s}].value`]="HTTP Node - Param value is mandatory")})):(o.message="Error in HTTP Node",e.errors.params="HTTP Node - At least one param is required"),e.successFlowId||(o.message="Error in HTTP Node",e.errors.successFlowStatusCode="HTTP Node - Success flow statusCode is mandatory"),e.failureFlowId||(o.message="Error in HTTP Node",e.errors.failureFlowStatusCode="HTTP Node - Failure flow statusCode is mandatory"),e.statusWiseFlow&&e.statusWiseFlow.length>0&&e.statusWiseFlow.forEach(((t,s)=>{t.statusCode||(o[`statusWiseFlow[${s}].statusCode`]="HTTP Node - Status text is mandatory",e.errors[`statusWiseFlow[${s}].statusCode`]="HTTP Node - Status text is mandatory")})),o};var N=t(26155);const T={Smileys:[{emoji:"\ud83d\ude00",keywords:["grinning","happy","smile"]},{emoji:"\ud83d\ude01",keywords:["grin","smiley","cheerful"]},{emoji:"\ud83d\ude02",keywords:["joy","tears","laugh"]},{emoji:"\ud83e\udd23",keywords:["rofl","roll","laughing"]},{emoji:"\ud83d\ude03",keywords:["smile","happy","joy"]},{emoji:"\ud83d\ude04",keywords:["smiling","joy","happy"]},{emoji:"\ud83d\ude05",keywords:["sweat","relief","nervous"]},{emoji:"\ud83d\ude06",keywords:["laugh","happy","joy"]},{emoji:"\ud83d\ude09",keywords:["wink","flirt","playful"]},{emoji:"\ud83d\ude0a",keywords:["blush","happy","smile"]},{emoji:"\ud83d\ude0b",keywords:["yum","delicious","tasty"]},{emoji:"\ud83d\ude0e",keywords:["cool","sunglasses","chill"]},{emoji:"\ud83d\ude0d",keywords:["love","heart","eyes","romantic"]},{emoji:"\ud83d\ude18",keywords:["kiss","heart","love"]},{emoji:"\ud83d\ude17",keywords:["kiss","face","blowing"]},{emoji:"\ud83d\ude19",keywords:["kiss","smiling","love"]},{emoji:"\ud83d\ude1a",keywords:["kiss","closed","eyes"]},{emoji:"\ud83d\ude42",keywords:["smile","slight","happy"]},{emoji:"\ud83e\udd17",keywords:["hug","face","smile","embrace"]},{emoji:"\ud83e\udd29",keywords:["star","struck","amazed"]},{emoji:"\ud83e\udd14",keywords:["thinking","hmm","curious"]},{emoji:"\ud83e\udd28",keywords:["face","eyebrow","raised"]},{emoji:"\ud83d\ude10",keywords:["neutral","meh","blank"]},{emoji:"\ud83d\ude11",keywords:["expressionless","blank","deadpan"]},{emoji:"\ud83d\ude36",keywords:["silence","no","mouth"]},{emoji:"\ud83d\ude44",keywords:["eye","roll","annoyed"]},{emoji:"\ud83d\ude0f",keywords:["smirk","sly","looking"]},{emoji:"\ud83d\ude23",keywords:["persevere","struggling","face"]},{emoji:"\ud83d\ude25",keywords:["relieved","sweat","exhaled"]},{emoji:"\ud83d\ude2e",keywords:["face","surprise","wow"]},{emoji:"\ud83e\udd24",keywords:["drooling","yum","delicious"]},{emoji:"\ud83d\ude2a",keywords:["sleepy","tired","exhausted"]},{emoji:"\ud83d\ude2f",keywords:["hushed","quiet","speechless"]},{emoji:"\ud83d\ude2b",keywords:["tired","sleepy","exhausted"]},{emoji:"\ud83d\ude34",keywords:["sleeping","zzz","sleep"]},{emoji:"\ud83e\udd22",keywords:["nauseated","sick","face"]},{emoji:"\ud83e\udd75",keywords:["hot","sweating","face"]},{emoji:"\ud83e\udd76",keywords:["cold","freezing","face"]},{emoji:"\ud83d\ude13",keywords:["sweat","sad","disappointed"]},{emoji:"\ud83d\ude20",keywords:["angry","mad","annoyed"]},{emoji:"\ud83d\ude21",keywords:["rage","pout","angry"]},{emoji:"\ud83e\udd2c",keywords:["swearing","angry","censored"]},{emoji:"\ud83d\ude14",keywords:["sad","disappointed","down"]},{emoji:"\ud83d\ude15",keywords:["confused","meh","puzzled"]},{emoji:"\ud83d\ude41",keywords:["frowning","sad","unhappy"]},{emoji:"\ud83d\ude1f",keywords:["worried","anxious","concerned"]},{emoji:"\ud83d\ude16",keywords:["confounded","distressed","upset"]},{emoji:"\ud83d\ude22",keywords:["crying","sad","tears"]},{emoji:"\ud83d\ude2d",keywords:["sob","cry","tear"]},{emoji:"\ud83d\ude29",keywords:["weary","tired","exhausted"]},{emoji:"\ud83d\ude23",keywords:["persevere","struggle","sad"]},{emoji:"\ud83d\ude1e",keywords:["disappointed","sad","upset"]},{emoji:"\ud83d\ude24",keywords:["triumph","proud","smug"]},{emoji:"\ud83d\ude2b",keywords:["tired","exhausted","sad"]},{emoji:"\ud83d\ude30",keywords:["anxious","sad","worried"]},{emoji:"\ud83d\ude31",keywords:["screaming","shock","scared"]},{emoji:"\ud83d\ude33",keywords:["flushed","embarrassed","shocked"]},{emoji:"\ud83e\udd2f",keywords:["mind","blown","shock"]},{emoji:"\ud83e\udd20",keywords:["cowboy","hat","cheerful"]},{emoji:"\ud83e\udd73",keywords:["party","celebrating","fun"]},{emoji:"\ud83d\ude0e",keywords:["cool","shade","sunglasses"]},{emoji:"\ud83e\udd13",keywords:["nerd","smart","studious"]},{emoji:"\ud83e\uddd0",keywords:["monocle","curious","inspect"]},{emoji:"\ud83d\ude26",keywords:["frowning","sad","upset"]},{emoji:"\ud83d\ude27",keywords:["anguished","distressed","sad"]},{emoji:"\ud83d\ude32",keywords:["astonished","surprised","shocked"]},{emoji:"\ud83e\udd7a",keywords:["pleading","sad","cute"]},{emoji:"\ud83d\ude35",keywords:["dizzy","confused","woozy"]},{emoji:"\ud83e\udd10",keywords:["zipper","mouth","shutup"]},{emoji:"\ud83e\udd15",keywords:["head","injury","sick"]}],Animals:[{emoji:"\ud83d\udc31",keywords:["cat","pet","feline"]},{emoji:"\ud83d\udc36",keywords:["dog","pet","puppy"]},{emoji:"\ud83d\udc2d",keywords:["mouse","rodent","small"]},{emoji:"\ud83d\udc39",keywords:["hamster","pet","small"]},{emoji:"\ud83d\udc30",keywords:["rabbit","bunny","pet"]},{emoji:"\ud83e\udd8a",keywords:["fox","wild","animal"]},{emoji:"\ud83d\udc3b",keywords:["bear","wild","animal"]},{emoji:"\ud83d\udc3c",keywords:["panda","bear","animal"]},{emoji:"\ud83d\udc28",keywords:["koala","bear","animal"]},{emoji:"\ud83d\udc2f",keywords:["tiger","wild","bigcat"]},{emoji:"\ud83e\udd81",keywords:["lion","wild","king"]},{emoji:"\ud83d\udc2e",keywords:["cow","farm","animal"]},{emoji:"\ud83d\udc37",keywords:["pig","farm","animal"]},{emoji:"\ud83d\udc38",keywords:["frog","amphibian","animal"]},{emoji:"\ud83d\udc35",keywords:["monkey","animal","primate"]},{emoji:"\ud83e\udd84",keywords:["unicorn","mythical","animal"]},{emoji:"\ud83d\udc34",keywords:["horse","equine","animal"]},{emoji:"\ud83d\udc24",keywords:["chick","baby","bird"]},{emoji:"\ud83e\udd9c",keywords:["parrot","bird","talking"]},{emoji:"\ud83e\udda2",keywords:["swan","bird","majestic"]},{emoji:"\ud83e\udd89",keywords:["owl","bird","night"]},{emoji:"\ud83e\udd87",keywords:["bat","night","animal"]},{emoji:"\ud83d\udc3a",keywords:["wolf","animal","wild"]},{emoji:"\ud83d\udc17",keywords:["boar","wild","animal"]},{emoji:"\ud83d\udc39",keywords:["hamster","animal","pet"]},{emoji:"\ud83e\udd94",keywords:["hedgehog","animal","cute"]},{emoji:"\ud83d\udc26",keywords:["bird","animal","flying"]},{emoji:"\ud83d\udc27",keywords:["penguin","bird","cold"]},{emoji:"\ud83e\udd80",keywords:["crab","sea","animal"]},{emoji:"\ud83e\udd9e",keywords:["lobster","sea","animal"]},{emoji:"\ud83e\udd90",keywords:["shrimp","sea","animal"]},{emoji:"\ud83d\udc22",keywords:["turtle","reptile","animal"]},{emoji:"\ud83e\udd8e",keywords:["lizard","reptile","animal"]},{emoji:"\ud83d\udc0d",keywords:["snake","reptile","animal"]},{emoji:"\ud83e\udd95",keywords:["sauropod","dinosaur","extinct"]},{emoji:"\ud83e\udd96",keywords:["T-Rex","dinosaur","extinct"]},{emoji:"\ud83d\udc19",keywords:["octopus","sea","animal"]},{emoji:"\ud83d\udc2c",keywords:["dolphin","sea","animal"]},{emoji:"\ud83d\udc33",keywords:["whale","sea","animal"]},{emoji:"\ud83d\udc1f",keywords:["fish","sea","animal"]},{emoji:"\ud83d\udc20",keywords:["tropical","fish","sea"]},{emoji:"\ud83d\udc21",keywords:["blowfish","sea","animal"]},{emoji:"\ud83d\udc2c",keywords:["dolphin","sea","animal"]},{emoji:"\ud83e\udd88",keywords:["shark","sea","animal"]},{emoji:"\ud83d\udc0a",keywords:["crocodile","reptile","animal"]},{emoji:"\ud83d\udc05",keywords:["tiger","wild","animal"]},{emoji:"\ud83d\udc06",keywords:["leopard","wild","animal"]},{emoji:"\ud83e\udd93",keywords:["zebra","wild","animal"]},{emoji:"\ud83e\udd8d",keywords:["gorilla","wild","animal"]},{emoji:"\ud83e\udda7",keywords:["orangutan","wild","animal"]},{emoji:"\ud83e\udd8f",keywords:["rhinoceros","wild","animal"]},{emoji:"\ud83e\udd9b",keywords:["hippopotamus","wild","animal"]},{emoji:"\ud83d\udc03",keywords:["water buffalo","wild","animal"]},{emoji:"\ud83d\udc02",keywords:["ox","farm","animal"]},{emoji:"\ud83e\udd92",keywords:["giraffe","wild","animal"]},{emoji:"\ud83d\udc18",keywords:["elephant","wild","animal"]},{emoji:"\ud83e\udd8f",keywords:["rhinoceros","wild","animal"]},{emoji:"\ud83e\udd87",keywords:["bat","wild","animal"]},{emoji:"\ud83d\udc2b",keywords:["camel","desert","animal"]},{emoji:"\ud83e\udd99",keywords:["llama","animal","farm"]},{emoji:"\ud83e\udd98",keywords:["kangaroo","wild","animal"]},{emoji:"\ud83e\udda1",keywords:["badger","wild","animal"]},{emoji:"\ud83d\udc29",keywords:["poodle","dog","animal"]},{emoji:"\ud83d\udc15",keywords:["dog","animal","pet"]},{emoji:"\ud83d\udc08",keywords:["cat","animal","pet"]},{emoji:"\ud83d\udc13",keywords:["rooster","farm","bird"]},{emoji:"\ud83d\udc08\u200d\u2b1b",keywords:["black cat","animal","pet"]},{emoji:"\ud83d\udc16",keywords:["pig","farm","animal"]},{emoji:"\ud83d\udc09",keywords:["dragon","mythical","animal"]},{emoji:"\ud83d\udc07",keywords:["rabbit","animal","pet"]},{emoji:"\ud83e\udda2",keywords:["swan","bird","majestic"]},{emoji:"\ud83d\udc15\u200d\ud83e\uddba",keywords:["service dog","animal","service"]},{emoji:"\ud83e\udda1",keywords:["badger","wild","animal"]},{emoji:"\ud83d\udc16",keywords:["pig","animal","farm"]},{emoji:"\ud83e\udda8",keywords:["skunk","wild","animal"]},{emoji:"\ud83e\udda1",keywords:["badger","wild","animal"]},{emoji:"\ud83e\udda6",keywords:["otter","wild","animal"]},{emoji:"\ud83e\udda8",keywords:["skunk","wild","animal"]},{emoji:"\ud83e\udda6",keywords:["otter","wild","animal"]},{emoji:"\ud83e\udda5",keywords:["sloth","wild","animal"]},{emoji:"\ud83e\udda9",keywords:["flamingo","wild","bird"]},{emoji:"\ud83e\udda9",keywords:["flamingo","wild","bird"]},{emoji:"\ud83e\udd92",keywords:["giraffe","wild","animal"]}],Food:[{emoji:"\ud83c\udf4f",keywords:["apple","green apple","fruit"]},{emoji:"\ud83c\udf4e",keywords:["apple","red apple","fruit"]},{emoji:"\ud83c\udf50",keywords:["pear","fruit"]},{emoji:"\ud83c\udf4a",keywords:["tangerine","orange","fruit"]},{emoji:"\ud83c\udf4b",keywords:["lemon","fruit"]},{emoji:"\ud83c\udf4c",keywords:["banana","fruit"]},{emoji:"\ud83c\udf49",keywords:["watermelon","fruit"]},{emoji:"\ud83c\udf47",keywords:["grapes","fruit","vineyard"]},{emoji:"\ud83c\udf53",keywords:["strawberry","fruit"]},{emoji:"\ud83c\udf48",keywords:["melon","fruit"]},{emoji:"\ud83c\udf52",keywords:["cherries","fruit"]},{emoji:"\ud83c\udf51",keywords:["peach","fruit"]},{emoji:"\ud83c\udf4d",keywords:["pineapple","fruit"]},{emoji:"\ud83e\udd6d",keywords:["mango","fruit"]},{emoji:"\ud83e\udd65",keywords:["coconut","fruit"]},{emoji:"\ud83e\udd5d",keywords:["kiwi","fruit"]},{emoji:"\ud83c\udf45",keywords:["tomato","vegetable"]},{emoji:"\ud83c\udf46",keywords:["eggplant","vegetable"]},{emoji:"\ud83e\udd51",keywords:["avocado","fruit"]},{emoji:"\ud83e\udd52",keywords:["cucumber","vegetable"]},{emoji:"\ud83e\udd6c",keywords:["leafy greens","vegetable","lettuce"]},{emoji:"\ud83e\udd66",keywords:["broccoli","vegetable"]},{emoji:"\ud83c\udf3d",keywords:["corn","vegetable"]},{emoji:"\ud83c\udf36",keywords:["hot pepper","vegetable","spicy"]},{emoji:"\ud83e\udd55",keywords:["carrot","vegetable"]},{emoji:"\ud83e\uddc4",keywords:["garlic","vegetable"]},{emoji:"\ud83e\uddc5",keywords:["onion","vegetable"]},{emoji:"\ud83e\udd54",keywords:["potato","vegetable"]},{emoji:"\ud83c\udf60",keywords:["yam","vegetable","sweet potato"]},{emoji:"\ud83e\udd50",keywords:["croissant","bread"]},{emoji:"\ud83c\udf5e",keywords:["bread","loaf"]},{emoji:"\ud83e\udd56",keywords:["baguette","bread"]},{emoji:"\ud83e\udd68",keywords:["pretzel","bread","snack"]},{emoji:"\ud83e\udd6f",keywords:["bagel","bread"]},{emoji:"\ud83e\udd5e",keywords:["pancakes","breakfast"]},{emoji:"\ud83e\uddc7",keywords:["waffle","breakfast"]},{emoji:"\ud83e\uddc0",keywords:["cheese","dairy"]},{emoji:"\ud83c\udf56",keywords:["meat","bone","food"]},{emoji:"\ud83c\udf57",keywords:["poultry leg","chicken leg","food"]},{emoji:"\ud83e\udd69",keywords:["cut of meat","steak","food"]},{emoji:"\ud83c\udf64",keywords:["fried shrimp","seafood"]},{emoji:"\ud83e\udd5a",keywords:["egg","food","breakfast"]},{emoji:"\ud83c\udf73",keywords:["cooking","egg","fried egg"]},{emoji:"\ud83e\udd53",keywords:["bacon","meat","breakfast"]},{emoji:"\ud83e\udd57",keywords:["salad","food","healthy"]},{emoji:"\ud83c\udf72",keywords:["pot of food","soup","stew"]},{emoji:"\ud83c\udf7f",keywords:["popcorn","snack","movies"]},{emoji:"\ud83e\uddc8",keywords:["butter","food"]},{emoji:"\ud83c\udf71",keywords:["bento box","sushi","Japanese food"]},{emoji:"\ud83c\udf63",keywords:["sushi","Japanese food"]},{emoji:"\ud83c\udf5b",keywords:["curry","rice","food"]},{emoji:"\ud83c\udf5c",keywords:["noodles","ramen","bowl"]},{emoji:"\ud83c\udf5d",keywords:["spaghetti","pasta","food"]},{emoji:"\ud83e\udd5f",keywords:["dumpling","food"]},{emoji:"\ud83c\udf60",keywords:["sweet potato","food"," roasted"]},{emoji:"\ud83c\udf64",keywords:["shrimp","food","fried"]},{emoji:"\ud83c\udf62",keywords:["oden","food","skewer"]},{emoji:"\ud83c\udf75",keywords:["tea","cup"]},{emoji:"\ud83e\udd5b",keywords:["milk","glass"]},{emoji:"\u2615",keywords:["coffee","cup"]},{emoji:"\ud83c\udf70",keywords:["cake","dessert","birthday"]},{emoji:"\ud83c\udf82",keywords:["birthday cake","dessert"]},{emoji:"\ud83c\udf69",keywords:["doughnut","dessert"]},{emoji:"\ud83c\udf6a",keywords:["cookie","dessert"]},{emoji:"\ud83c\udf6d",keywords:["lollipop","candy"]},{emoji:"\ud83c\udf6b",keywords:["chocolate","bar","dessert"]},{emoji:"\ud83c\udf6c",keywords:["candy","sweet"]},{emoji:"\ud83c\udf6f",keywords:["honey","honey pot","sweet"]},{emoji:"\ud83e\uddc2",keywords:["salt","condiment"]}],Activity:[{emoji:"\u26bd",keywords:["soccer","football","goal"]},{emoji:"\ud83c\udfc0",keywords:["basketball","hoops","dunk"]},{emoji:"\ud83c\udfc8",keywords:["football","rugby","gridiron"]},{emoji:"\u26be",keywords:["baseball","pitch","bat"]},{emoji:"\ud83c\udfbe",keywords:["tennis","racket","serve"]},{emoji:"\ud83c\udfd0",keywords:["volleyball","spike","serve"]},{emoji:"\ud83c\udfc9",keywords:["rugby","ball","scrum"]},{emoji:"\ud83c\udfb1",keywords:["pool","billiards","eight ball"]},{emoji:"\ud83c\udfd3",keywords:["ping pong","table tennis","paddle"]},{emoji:"\ud83c\udff8",keywords:["badminton","shuttlecock","racket"]},{emoji:"\ud83e\udd45",keywords:["goal","net","hockey"]},{emoji:"\ud83c\udfd2",keywords:["hockey","ice hockey","puck"]},{emoji:"\ud83c\udfd1",keywords:["field hockey","stick","ball"]},{emoji:"\ud83e\udd4d",keywords:["lacrosse","stick","ball"]},{emoji:"\ud83c\udfcf",keywords:["cricket","bat","ball"]},{emoji:"\u26f3",keywords:["golf","flag","hole in one"]},{emoji:"\ud83c\udff9",keywords:["archery","bow","arrow"]},{emoji:"\ud83c\udfa3",keywords:["fishing","fish","rod"]},{emoji:"\ud83e\udd3f",keywords:["scuba","diving","snorkeling"]},{emoji:"\ud83d\udef7",keywords:["sled","sledge","toboggan"]},{emoji:"\ud83e\udd4c",keywords:["curling","stone","sweep"]},{emoji:"\ud83d\udef9",keywords:["skateboard","skating","skate"]},{emoji:"\ud83d\udefc",keywords:["roller skate","skating","rolling"]},{emoji:"\u26f8\ufe0f",keywords:["ice skate","skating","ice"]},{emoji:"\ud83d\udef6",keywords:["canoe","kayak","paddle"]},{emoji:"\u26bd",keywords:["soccer","football","goal"]},{emoji:"\ud83c\udfcb\ufe0f\u200d\u2642\ufe0f",keywords:["weight lifting","gym","workout"]},{emoji:"\ud83c\udfcb\ufe0f\u200d\u2640\ufe0f",keywords:["weight lifting","gym","workout"]},{emoji:"\ud83c\udfcb\ufe0f",keywords:["weight lifting","gym","workout"]},{emoji:"\ud83e\udd3a",keywords:["fencing","sword","duel"]},{emoji:"\ud83e\udd3c\u200d\u2642\ufe0f",keywords:["wrestling","grappling","fight"]},{emoji:"\ud83e\udd3c\u200d\u2640\ufe0f",keywords:["wrestling","grappling","fight"]},{emoji:"\ud83e\udd38\u200d\u2642\ufe0f",keywords:["gymnastics","flip","somersault"]},{emoji:"\ud83e\udd38\u200d\u2640\ufe0f",keywords:["gymnastics","flip","somersault"]},{emoji:"\ud83e\udd3e\u200d\u2642\ufe0f",keywords:["handball","goalie","ball"]},{emoji:"\ud83e\udd3e\u200d\u2640\ufe0f",keywords:["handball","goalie","ball"]},{emoji:"\ud83e\udd39\u200d\u2642\ufe0f",keywords:["juggle","performance","circus"]},{emoji:"\ud83e\udd39\u200d\u2640\ufe0f",keywords:["juggle","performance","circus"]},{emoji:"\ud83e\uddd8\u200d\u2642\ufe0f",keywords:["yoga","meditation","relax"]},{emoji:"\ud83e\uddd8\u200d\u2640\ufe0f",keywords:["yoga","meditation","relax"]},{emoji:"\ud83e\uddd8",keywords:["yoga","meditation","relax"]},{emoji:"\ud83c\udfc4\u200d\u2642\ufe0f",keywords:["surfing","waves","ocean"]},{emoji:"\ud83c\udfc4\u200d\u2640\ufe0f",keywords:["surfing","waves","ocean"]},{emoji:"\ud83c\udfc2",keywords:["snowboarding","snowboard","snow"]},{emoji:"\u26f7\ufe0f",keywords:["skiing","snow","slope"]},{emoji:"\ud83c\udfc7",keywords:["horse racing","jockey","race"]},{emoji:"\ud83d\udeb4\u200d\u2642\ufe0f",keywords:["biking","cycling","bicycle"]},{emoji:"\ud83d\udeb4\u200d\u2640\ufe0f",keywords:["biking","cycling","bicycle"]},{emoji:"\ud83d\udeb5\u200d\u2642\ufe0f",keywords:["mountain biking","cycling","bike"]},{emoji:"\ud83d\udeb5\u200d\u2640\ufe0f",keywords:["mountain biking","cycling","bike"]},{emoji:"\ud83c\udfc7",keywords:["horse racing","jockey","race"]},{emoji:"\ud83e\udd47",keywords:["gold medal","winner","first place"]},{emoji:"\ud83e\udd48",keywords:["silver medal","second place","runner-up"]},{emoji:"\ud83e\udd49",keywords:["bronze medal","third place","winner"]},{emoji:"\ud83c\udfc6",keywords:["trophy","winner","champion"]},{emoji:"\ud83c\udfc5",keywords:["medal","reward","achievement"]},{emoji:"\ud83c\udf96\ufe0f",keywords:["military","decoration","award"]},{emoji:"\ud83c\udff5\ufe0f",keywords:["rosette","badge","award"]},{emoji:"\ud83c\udf97\ufe0f",keywords:["ribbon","cause","support"]}],Travel:[{emoji:"\ud83d\ude97",keywords:["car","automobile","travel","vehicle"]},{emoji:"\ud83d\ude95",keywords:["taxi","cab","transport","vehicle"]},{emoji:"\ud83d\ude99",keywords:["suv","vehicle","travel","transportation"]},{emoji:"\ud83d\ude8c",keywords:["bus","transport","vehicle","travel"]},{emoji:"\ud83d\ude8e",keywords:["trolleybus","public transport","vehicle"]},{emoji:"\ud83c\udfce\ufe0f",keywords:["racecar","racing","vehicle","sport"]},{emoji:"\ud83d\ude93",keywords:["police car","law enforcement","vehicle"]},{emoji:"\ud83d\ude91",keywords:["ambulance","emergency","hospital","vehicle"]},{emoji:"\ud83d\ude92",keywords:["fire truck","firefighter","emergency","vehicle"]},{emoji:"\ud83d\ude90",keywords:["minibus","van","transport","vehicle"]},{emoji:"\ud83d\ude9a",keywords:["delivery truck","cargo","shipping","vehicle"]},{emoji:"\ud83d\ude9b",keywords:["articulated lorry","semi truck","transport"]},{emoji:"\ud83d\ude9c",keywords:["tractor","farming","vehicle","agriculture"]},{emoji:"\ud83c\udfcd\ufe0f",keywords:["motorcycle","bike","riding","vehicle"]},{emoji:"\ud83d\udeb2",keywords:["bicycle","bike","cycling","vehicle"]},{emoji:"\ud83d\udef4",keywords:["kick scooter","scooter","ride","vehicle"]},{emoji:"\ud83d\udef5",keywords:["motor scooter","vespa","vehicle","ride"]},{emoji:"\ud83d\ude8f",keywords:["bus stop","transport","station","public transport"]},{emoji:"\ud83d\udee4\ufe0f",keywords:["railway track","train","rail","travel"]},{emoji:"\u26fd",keywords:["fuel pump","gas station","fuel","transport"]},{emoji:"\ud83d\udea8",keywords:["police light","emergency","alarm","vehicle"]},{emoji:"\ud83d\udea5",keywords:["horizontal traffic light","stoplight","signal"]},{emoji:"\ud83d\udea6",keywords:["vertical traffic light","stoplight","signal"]},{emoji:"\ud83d\uded1",keywords:["stop sign","warning","traffic"]},{emoji:"\ud83d\udea7",keywords:["construction","roadwork","warning"]},{emoji:"\u2693",keywords:["anchor","sailing","maritime","nautical"]},{emoji:"\u26f5",keywords:["sailboat","boat","sailing","watercraft"]},{emoji:"\ud83d\udef6",keywords:["canoe","kayak","paddling","boat"]},{emoji:"\ud83d\udea4",keywords:["speedboat","boat","speed","watercraft"]},{emoji:"\ud83d\udef3\ufe0f",keywords:["passenger ship","cruise","travel","boat"]},{emoji:"\u26f4\ufe0f",keywords:["ferry","boat","nautical","sea"]},{emoji:"\ud83d\udee5\ufe0f",keywords:["motor boat","yacht","boat","watercraft"]},{emoji:"\ud83d\udea2",keywords:["ship","ocean liner","travel","boating"]},{emoji:"\u2708\ufe0f",keywords:["airplane","flight","travel","plane"]},{emoji:"\ud83d\udee9\ufe0f",keywords:["small airplane","flight","aviation","plane"]},{emoji:"\ud83d\udeeb",keywords:["airplane departure","airport","takeoff","flight"]},{emoji:"\ud83d\udeec",keywords:["airplane arrival","landing","airport","flight"]},{emoji:"\ud83e\ude82",keywords:["parachute","skydiving","falling","activity"]},{emoji:"\ud83d\udcba",keywords:["seat","sitting","airline","travel"]},{emoji:"\ud83d\ude81",keywords:["helicopter","chopper","aviation","vehicle"]},{emoji:"\ud83d\ude9f",keywords:["suspension railway","train","transport","public transit"]},{emoji:"\ud83d\udea0",keywords:["mountain cableway","cable car","transport"]},{emoji:"\ud83d\udea1",keywords:["aerial tramway","cable car","transport","travel"]},{emoji:"\ud83d\udef0\ufe0f",keywords:["satellite","space station","orbit","communication"]},{emoji:"\ud83d\ude80",keywords:["rocket","space","launch","spaceship"]},{emoji:"\ud83d\udef8",keywords:["flying saucer","UFO","vehicle","alien"]},{emoji:"\ud83d\udef3\ufe0f",keywords:["passenger ship","cruise","voyage","boat"]},{emoji:"\ud83e\ude82",keywords:["parachute","skydiving","falling","sport"]},{emoji:"\ud83d\udeec",keywords:["landing","airplane","arrival","airport"]},{emoji:"\ud83d\udeeb",keywords:["takeoff","airplane","departure","airport"]},{emoji:"\u2708\ufe0f",keywords:["airplane","flight","travel","plane"]},{emoji:"\ud83d\ude89",keywords:["station","train","subway","transport"]},{emoji:"\ud83d\ude82",keywords:["locomotive","steam train","rail","engine"]},{emoji:"\ud83d\ude83",keywords:["railway car","train car","public transport"]},{emoji:"\ud83d\ude84",keywords:["high-speed train","shinkansen","transport"]},{emoji:"\ud83d\ude85",keywords:["bullet train","high-speed rail","transport"]},{emoji:"\ud83d\ude86",keywords:["train","rail","commuter","public transport"]},{emoji:"\ud83d\ude87",keywords:["subway","metro","underground","public transport"]},{emoji:"\ud83d\ude88",keywords:["light rail","tram","train","public transport"]},{emoji:"\ud83d\ude8a",keywords:["tram","streetcar","public transport","rail"]}],Objects:[{emoji:"\ud83d\udce6",keywords:["box","package"]},{emoji:"\ud83d\udcea",keywords:["mailbox","closed"]},{emoji:"\ud83d\udceb",keywords:["mailbox","open","mail"]},{emoji:"\ud83d\udcec",keywords:["mail","incoming"]},{emoji:"\ud83d\udced",keywords:["mail","outgoing"]},{emoji:"\ud83d\udcee",keywords:["postbox","mail"]},{emoji:"\ud83d\udcef",keywords:["postal horn"]},{emoji:"\ud83d\udcdc",keywords:["scroll","paper"]},{emoji:"\ud83d\udcc3",keywords:["page","curl","document"]},{emoji:"\ud83d\udcd1",keywords:["bookmark","tabs"]},{emoji:"\ud83d\udcc8",keywords:["chart","graph","up"]},{emoji:"\ud83d\udcc9",keywords:["chart","graph","down"]},{emoji:"\ud83d\udcca",keywords:["bar chart","graph"]},{emoji:"\ud83d\udcc7",keywords:["index card"]},{emoji:"\ud83d\udcc1",keywords:["file folder"]},{emoji:"\ud83d\udcc2",keywords:["open file folder"]},{emoji:"\ud83d\uddc2\ufe0f",keywords:["card","file","folders"]},{emoji:"\ud83d\udccb",keywords:["clipboard"]},{emoji:"\ud83d\udce4",keywords:["outbox","mail"]},{emoji:"\ud83d\udce5",keywords:["inbox","mail"]},{emoji:"\ud83d\udce6",keywords:["package","box"]},{emoji:"\ud83d\udce7",keywords:["email","envelope"]},{emoji:"\ud83d\udce8",keywords:["incoming mail"]},{emoji:"\ud83d\udce9",keywords:["envelope","arrow"]},{emoji:"\ud83d\udce4",keywords:["outbox","tray"]},{emoji:"\ud83d\udce5",keywords:["inbox","tray"]},{emoji:"\ud83d\udce6",keywords:["package"]},{emoji:"\ud83d\udce5",keywords:["inbox"]},{emoji:"\ud83d\udce7",keywords:["email"]},{emoji:"\ud83d\udce8",keywords:["incoming"]},{emoji:"\ud83d\udce9",keywords:["envelope"]},{emoji:"\ud83d\udce4",keywords:["outbox"]},{emoji:"\ud83d\udce1",keywords:["satellite","antenna"]},{emoji:"\ud83d\udd0b",keywords:["battery"]},{emoji:"\ud83d\udd0c",keywords:["plug"]},{emoji:"\ud83d\udca1",keywords:["bulb"]},{emoji:"\ud83d\udd26",keywords:["flashlight"]},{emoji:"\ud83d\udd6f\ufe0f",keywords:["candle"]},{emoji:"\ud83e\ude7a",keywords:["stethoscope","doctor"]},{emoji:"\ud83d\udd11",keywords:["key"]},{emoji:"\ud83d\udd12",keywords:["lock"]},{emoji:"\ud83d\udd13",keywords:["unlock"]},{emoji:"\ud83d\udd10",keywords:["lock","key"]},{emoji:"\ud83d\udd0f",keywords:["lock","pen"]},{emoji:"\ud83d\udcce",keywords:["paperclip"]},{emoji:"\ud83d\udd87\ufe0f",keywords:["linked","paperclips"]},{emoji:"\u2702\ufe0f",keywords:["scissors"]},{emoji:"\ud83d\uddc3\ufe0f",keywords:["file box"]},{emoji:"\ud83d\uddf3\ufe0f",keywords:["ballot box"]},{emoji:"\ud83d\uddc4\ufe0f",keywords:["file cabinet"]},{emoji:"\ud83d\udcc5",keywords:["calendar"]},{emoji:"\ud83d\udcc6",keywords:["tear-off calendar"]},{emoji:"\ud83d\uddd3\ufe0f",keywords:["spiral calendar"]},{emoji:"\ud83d\udcc7",keywords:["card index"]},{emoji:"\ud83d\udcc8",keywords:["chart increasing"]},{emoji:"\ud83d\udcc9",keywords:["chart decreasing"]},{emoji:"\ud83d\udcca",keywords:["bar chart"]},{emoji:"\ud83d\udccc",keywords:["pushpin"]},{emoji:"\ud83d\udccd",keywords:["round pushpin"]},{emoji:"\ud83d\udccf",keywords:["straight edge"]},{emoji:"\ud83d\udcd0",keywords:["triangular ruler"]},{emoji:"\u270f\ufe0f",keywords:["pencil"]},{emoji:"\ud83d\udd8d\ufe0f",keywords:["crayon"]},{emoji:"\ud83d\udd8c\ufe0f",keywords:["paintbrush"]},{emoji:"\ud83d\udd8a\ufe0f",keywords:["pen"]},{emoji:"\ud83d\udd8b\ufe0f",keywords:["fountain pen"]},{emoji:"\ud83d\udccf",keywords:["straight edge"]},{emoji:"\ud83d\udcd0",keywords:["triangular ruler"]}],Symbols:[{emoji:"\ud83d\udc49\ud83c\udffb",keywords:["point right","hand","gesture"]},{emoji:"\ud83d\udc48\ud83c\udffb",keywords:["point left","hand","gesture"]},{emoji:"\ud83d\udc46\ud83c\udffb",keywords:["point up","hand","gesture"]},{emoji:"\ud83d\udc47\ud83c\udffb",keywords:["point down","hand","gesture"]},{emoji:"\ud83d\udc4d\ud83c\udffb",keywords:["thumbs up","approval","hand","gesture"]},{emoji:"\ud83d\udc4e\ud83c\udffb",keywords:["thumbs down","disapproval","hand","gesture"]},{emoji:"\ud83d\udc4c\ud83c\udffb",keywords:["okay","hand","gesture","perfect"]},{emoji:"\u270c\ud83c\udffb",keywords:["victory","peace","hand","gesture"]},{emoji:"\ud83e\udd1e\ud83c\udffb",keywords:["crossed fingers","luck","hand","gesture"]},{emoji:"\ud83d\udd90\ud83c\udffb",keywords:["raised hand","hi","hand","gesture"]},{emoji:"\ud83e\udd1a\ud83c\udffb",keywords:["raised back hand","hi","hand","gesture"]},{emoji:"\ud83d\udd96\ud83c\udffb",keywords:["vulcan salute","hand","gesture","Spock"]},{emoji:"\ud83d\udc4b\ud83c\udffb",keywords:["waving hand","hello","goodbye","gesture"]},{emoji:"\ud83d\udc4f\ud83c\udffb",keywords:["clapping hands","applause","gesture"]},{emoji:"\ud83d\ude4c\ud83c\udffb",keywords:["raising hands","praise","gesture"]},{emoji:"\ud83d\udc50\ud83c\udffb",keywords:["open hands","gesture","offering"]},{emoji:"\ud83e\udd32\ud83c\udffb",keywords:["palms up together","offering","asking"]},{emoji:"\ud83e\udd1d\ud83c\udffb",keywords:["handshake","agreement","partnership","gesture"]},{emoji:"\ud83d\ude4f\ud83c\udffb",keywords:["folded hands","prayer","thanks","gesture"]},{emoji:"\u270b\ud83c\udffb",keywords:["raised hand","stop","gesture"]},{emoji:"\u27a1\ufe0f",keywords:["right arrow","direction","next"]},{emoji:"\u2b05\ufe0f",keywords:["left arrow","direction","previous"]},{emoji:"\u2b06\ufe0f",keywords:["up arrow","direction","above"]},{emoji:"\u2b07\ufe0f",keywords:["down arrow","direction","below"]},{emoji:"\u2194\ufe0f",keywords:["left-right arrow","direction"]},{emoji:"\u2195\ufe0f",keywords:["up-down arrow","direction"]},{emoji:"\ud83d\udd3c",keywords:["up triangle","arrow","direction"]},{emoji:"\ud83d\udd3d",keywords:["down triangle","arrow","direction"]},{emoji:"\ud83d\udd3b",keywords:["red down triangle","arrow","direction"]},{emoji:"\ud83d\udd3a",keywords:["red up triangle","arrow","direction"]},{emoji:"\u26ab",keywords:["black circle","bullet","point"]},{emoji:"\ud83d\udd34",keywords:["red circle","bullet","point"]},{emoji:"\ud83d\udd35",keywords:["blue circle","bullet","point"]},{emoji:"\ud83d\udfe2",keywords:["green circle","bullet","point"]},{emoji:"\ud83d\udfe1",keywords:["yellow circle","bullet","point"]},{emoji:"\ud83d\udfe3",keywords:["purple circle","bullet","point"]},{emoji:"\ud83d\udfe0",keywords:["orange circle","bullet","point"]},{emoji:"\ud83d\udfe4",keywords:["brown circle","bullet","point"]},{emoji:"\ud83d\udd38",keywords:["orange diamond","bullet"]},{emoji:"\ud83d\udd39",keywords:["blue diamond","bullet"]},{emoji:"\u2666\ufe0f",keywords:["diamonds","card suit"]},{emoji:"\u2665\ufe0f",keywords:["hearts","card suit"]},{emoji:"\u2663\ufe0f",keywords:["clubs","card suit"]},{emoji:"\u2660\ufe0f",keywords:["spades","card suit"]},{emoji:"\ud83d\udd32",keywords:["black square","bullet","point"]},{emoji:"\ud83d\udd33",keywords:["white square","bullet","point"]},{emoji:"\u25aa\ufe0f",keywords:["small black square","bullet"]},{emoji:"\u25ab\ufe0f",keywords:["small white square","bullet"]},{emoji:"\u25aa",keywords:["large black square","bullet"]},{emoji:"\u25ab",keywords:["large white square","bullet"]},{emoji:"\ud83d\udd18",keywords:["radio button","bullet","point"]},{emoji:"\u2b50",keywords:["star","highlight","point"]},{emoji:"\ud83d\udca0",keywords:["diamond shape","point"]},{emoji:"\u2733\ufe0f",keywords:["eight-pointed star","highlight","bullet"]},{emoji:"\u2747\ufe0f",keywords:["sparkle","highlight","point"]},{emoji:"\u2764\ufe0f",keywords:["love","heart","red","passion","valentine"]},{emoji:"\ud83d\udc9b",keywords:["love","heart","yellow","friendship","sunshine"]},{emoji:"\ud83d\udc9a",keywords:["love","heart","green","environment","jealousy"]},{emoji:"\ud83d\udc99",keywords:["love","heart","blue","calm","loyalty"]},{emoji:"\ud83d\udc9c",keywords:["love","heart","purple","royalty","romance"]},{emoji:"\ud83d\udda4",keywords:["love","heart","black","mystery","gothic"]},{emoji:"\ud83d\udc94",keywords:["broken","heartbreak","sad","love"]},{emoji:"\u2763\ufe0f",keywords:["exclamation","heart","love","emotion"]},{emoji:"\ud83d\udc95",keywords:["two hearts","love","affection","romance"]},{emoji:"\ud83d\udc9e",keywords:["revolving hearts","love","romance","affection"]},{emoji:"\ud83d\udc93",keywords:["beating heart","love","heartbeat","emotion"]},{emoji:"\ud83d\udc97",keywords:["growing heart","love","affection","emotion"]},{emoji:"\ud83d\udc96",keywords:["sparkling heart","love","affection","emotion"]},{emoji:"\ud83d\udc98",keywords:["heart with arrow","love","cupid","valentine"]},{emoji:"\ud83d\udc9d",keywords:["heart with ribbon","love","gift","present"]},{emoji:"\ud83d\udc9f",keywords:["heart decoration","love","affection","decoration"]},{emoji:"\u262e\ufe0f",keywords:["peace","symbol","pacifism"]},{emoji:"\u271d\ufe0f",keywords:["cross","christianity","religion","faith"]},{emoji:"\u262a\ufe0f",keywords:["star","crescent","islam","religion"]},{emoji:"\ud83d\udd49\ufe0f",keywords:["om","hinduism","religion","chant"]},{emoji:"\u2638\ufe0f",keywords:["wheel of dharma","buddhism","religion","spirituality"]},{emoji:"\u2721\ufe0f",keywords:["star of david","judaism","religion"]},{emoji:"\ud83d\udd2f",keywords:["star","hexagram","religion","jewish"]},{emoji:"\ud83d\udd4e",keywords:["menorah","hanukkah","religion","jewish"]},{emoji:"\u262f\ufe0f",keywords:["yin","yang","balance","taoism"]},{emoji:"\u2626\ufe0f",keywords:["orthodox cross","christianity","religion","faith"]},{emoji:"\ud83d\uded0",keywords:["place of worship","religion","faith","prayer"]},{emoji:"\u26ce",keywords:["ophiuchus","zodiac","astrology","sign"]},{emoji:"\u2648",keywords:["aries","zodiac","astrology","sign"]},{emoji:"\u2649",keywords:["taurus","zodiac","astrology","sign"]},{emoji:"\u264a",keywords:["gemini","zodiac","astrology","sign"]},{emoji:"\u264b",keywords:["cancer","zodiac","astrology","sign"]},{emoji:"\u264c",keywords:["leo","zodiac","astrology","sign"]},{emoji:"\u264d",keywords:["virgo","zodiac","astrology","sign"]},{emoji:"\u264e",keywords:["libra","zodiac","astrology","sign"]},{emoji:"\u264f",keywords:["scorpio","zodiac","astrology","sign"]},{emoji:"\u2650",keywords:["sagittarius","zodiac","astrology","sign"]},{emoji:"\u2651",keywords:["capricorn","zodiac","astrology","sign"]},{emoji:"\u2652",keywords:["aquarius","zodiac","astrology","sign"]},{emoji:"\u2653",keywords:["pisces","zodiac","astrology","sign"]},{emoji:"\ud83c\udd94",keywords:["ID","identification","label"]},{emoji:"\u269b\ufe0f",keywords:["atom","science","chemistry"]},{emoji:"\ud83c\ude51",keywords:["acceptable","kanji","japanese"]},{emoji:"\u2622\ufe0f",keywords:["radioactive","hazard","warning"]},{emoji:"\u2623\ufe0f",keywords:["biohazard","hazard","warning"]},{emoji:"\ud83d\udcf4",keywords:["mobile","off","phone"]},{emoji:"\ud83d\udcf3",keywords:["mobile","vibration","mode"]},{emoji:"\ud83c\ude36",keywords:["have","kanji","japanese"]},{emoji:"\ud83c\ude1a",keywords:["free","not","kanji"]},{emoji:"\ud83c\ude37\ufe0f",keywords:["monthly","kanji","japanese"]},{emoji:"\ud83c\ude38",keywords:["application","kanji","japanese"]},{emoji:"\ud83c\ude3a",keywords:["open","kanji","japanese"]},{emoji:"\ud83c\ude2f",keywords:["reserved","kanji","japanese"]},{emoji:"\u3299\ufe0f",keywords:["secret","kanji","japanese"]},{emoji:"\u3297\ufe0f",keywords:["congratulations","kanji","japanese"]},{emoji:"\ud83c\ude34",keywords:["passing","kanji","japanese"]},{emoji:"\ud83c\ude35",keywords:["full","kanji","japanese"]},{emoji:"\ud83c\ude39",keywords:["discount","kanji","japanese"]},{emoji:"\ud83c\ude32",keywords:["prohibited","kanji","japanese"]},{emoji:"\ud83c\udd70\ufe0f",keywords:["A","blood type","letter"]},{emoji:"\ud83c\udd71\ufe0f",keywords:["B","blood type","letter"]},{emoji:"\ud83c\udd8e",keywords:["AB","blood type","letter"]},{emoji:"\ud83c\udd91",keywords:["CL","clear","letter"]},{emoji:"\ud83c\udd7e\ufe0f",keywords:["O","blood type","letter"]},{emoji:"\ud83c\udd98",keywords:["SOS","help","emergency"]},{emoji:"\u26d4",keywords:["no","entry","forbidden","stop"]},{emoji:"\ud83d\udcdb",keywords:["badge","label","name"]},{emoji:"\ud83d\udeab",keywords:["no","prohibited","forbidden"]},{emoji:"\ud83d\udcaf",keywords:["100","score","perfect"]},{emoji:"\ud83d\udd1e",keywords:["18","age","restriction"]},{emoji:"\ud83c\udd7f\ufe0f",keywords:["P","parking","letter"]},{emoji:"\ud83c\udd93",keywords:["free","available","letter"]},{emoji:"\u267b\ufe0f",keywords:["recycle","environment","symbol"]},{emoji:"\u203c\ufe0f",keywords:["exclamation","mark","important"]},{emoji:"\u2049\ufe0f",keywords:["exclamation","question","confusion"]},{emoji:"\u2757",keywords:["exclamation","mark"]},{emoji:"\u2755",keywords:["white exclamation","mark"]},{emoji:"\u2753",keywords:["question","mark"]},{emoji:"\u2754",keywords:["white question","mark"]},{emoji:"\ud83d\udd05",keywords:["dim","brightness","low"]},{emoji:"\ud83d\udd06",keywords:["bright","brightness","high"]},{emoji:"\u303d\ufe0f",keywords:["part alternation","mark"]},{emoji:"\u269c\ufe0f",keywords:["fleur-de-lis"]},{emoji:"\ud83d\udd31",keywords:["trident","emblem","symbol"]},{emoji:"\u26a0\ufe0f",keywords:["warning","caution"]},{emoji:"\ud83d\udeb8",keywords:["children","crossing","school"]},{emoji:"\ud83d\udd30",keywords:["beginner","japanese"]},{emoji:"\u267f",keywords:["wheelchair","accessible","disability"]},{emoji:"\ud83d\udead",keywords:["no smoking","cigarette","prohibited"]}]};var C=t(44414);const E=function(e){let{onSelect:o}=e;const[t,r]=(0,s.useState)(""),a=s.useMemo((()=>Object.entries(T).reduce(((e,o)=>{let[s,r]=o;const a=r.filter((e=>e.keywords.some((e=>e.toLowerCase().includes(t.toLowerCase())))));return a.length>0&&(e[s]=a),e}),{})),[t]);return(0,C.jsxs)("div",{className:"emoji-picker",children:[(0,C.jsx)("input",{type:"text",placeholder:"Search...",value:t,onChange:e=>r(e.target.value),className:"emoji-search"}),(0,C.jsx)("div",{className:"emoji-categories",children:Object.entries(a).map((e=>{let[t,s]=e;return(0,C.jsxs)("div",{className:"emoji-category",children:[(0,C.jsx)("h3",{className:"emoji-category-title",children:t}),(0,C.jsx)("div",{className:"emoji-list",children:s.map(((e,t)=>(0,C.jsx)("span",{onClick:()=>o(e.emoji),title:e.keywords.join(", "),className:"emoji-item",children:e.emoji},t)))})]},t)}))})]})};function O(e,o){const t=e.selectionStart,s=e.selectionEnd;e.setRangeText(o,t,s,"end")}const S=function(e){let{message:o,onChange:t,onClick:r,minLength:a=2,maxLength:i=1500}=e;const[l,d]=s.useState(o),[n,m]=s.useState(!1),c=s.useRef(null);(0,s.useEffect)((()=>{c.current&&(c.current.style.height="auto",c.current.style.height=`${c.current.scrollHeight+2}px`)}),[l]);const u=e=>{d(e.target.value),t(e.target.value)},p=e=>{const o=c.current;let t="";switch(e){case"bold":t=`*${o.value.substring(o.selectionStart,o.selectionEnd)}*`;break;case"italic":t=`_${o.value.substring(o.selectionStart,o.selectionEnd)}_`;break;case"strikethrough":t=`~${o.value.substring(o.selectionStart,o.selectionEnd)}~`;break;case"bullet":t=`\u2022 ${o.value.substring(o.selectionStart,o.selectionEnd)}`;break;case"numbered":t=`\n1. ${o.value.substring(o.selectionStart,o.selectionEnd)}`}O(o,t),u({target:o})};return(0,C.jsxs)("div",{className:"message-editor",title:"Message",children:[(0,C.jsxs)("div",{className:"toolbar",children:[(0,C.jsx)("button",{"data-format":"bold",onClick:()=>p("bold"),children:"B"}),(0,C.jsx)("button",{"data-format":"italic",onClick:()=>p("italic"),children:"I"}),(0,C.jsx)("button",{"data-format":"strikethrough",onClick:()=>p("strikethrough"),children:"S"}),(0,C.jsx)("button",{"data-format":"bullet",onClick:()=>p("bullet"),children:"\u26ab"}),(0,C.jsx)("button",{"data-format":"numbered",onClick:()=>p("numbered"),children:"\ud83d\udd22"}),(0,C.jsx)("button",{"data-format":"smiley",onClick:()=>m((e=>!e)),children:"\ud83d\ude00"})]}),(0,C.jsx)("textarea",{ref:c,value:l,onChange:u,onClick:r,className:"nodrag rounded-md",onBlur:e=>{d(e.target.value),t(e.target.value)},minLength:a,maxLength:i}),n&&(0,C.jsx)(E,{onSelect:e=>{const o=c.current;O(o,e),u({target:o})}})]})},M=e=>{let{data:o}=e;const{node:t,handleChange:r,onDelete:i,setNodes:l}=o,[d,n]=(0,s.useState)(!1),m=(0,s.useRef)(null),c=(0,s.useCallback)((()=>{l((e=>e.map((e=>e.selected?{...e,selected:!1}:e))))}),[l]),u=(0,s.useCallback)((e=>{m.current&&!m.current.contains(e.target)&&n(!1)}),[]);return(0,s.useEffect)((()=>(document.addEventListener("mousedown",u),()=>document.removeEventListener("mousedown",u))),[u]),(0,C.jsxs)(C.Fragment,{children:[(0,C.jsxs)("div",{ref:m,className:"flow-node bg-gray-800 text-white rounded-md shadow-lg "+(t.data.errors&&Object.keys(t.data.errors).length?"error-in-node":""),children:[(0,C.jsxs)("div",{className:"flex justify-between items-center border-b py-1 px-2 border-b-4 border-indigo-500",children:[(0,C.jsx)("h3",{className:"text-sm font-semibold",children:"Message"}),(0,C.jsx)("button",{className:"text-white bg-red-500 hover:bg-red-700 rounded-full h-6 w-6 flex items-center justify-center text-xl font-extrabold",title:"Delete Message Node",onClick:e=>{e.stopPropagation(),i(t.id)},children:"\xd7"})]}),(0,C.jsxs)("div",{className:"space-y-2 py-2 px-2 pb-3 min-w-36",children:[d?(0,C.jsx)(S,{message:t.data.message,onChange:e=>{delete t.data.errors;const o={...t,data:{...t.data,message:e}};r(t.id,o.data)},onClick:c}):(0,C.jsxs)("div",{className:"flex items-center space-x-2 cursor-pointer",onDoubleClick:()=>{n(!0),c()},title:"Double Click ro Enter/Edit the Message",children:[(0,C.jsx)("span",{children:t.data.message||"Enter your message"}),(0,C.jsx)("svg",{className:"w-4 h-4 text-white ml-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:(0,C.jsx)("path",{d:"M7.127 22.562l-7.127 1.438 1.438-7.128 5.689 5.69zm1.414-1.414l11.228-11.225-5.69-5.692-11.227 11.227 5.689 5.69zm9.768-21.148l-2.816 2.817 5.691 5.691 2.816-2.819-5.691-5.689z"})})]}),t.data.errors&&(0,C.jsx)("small",{className:"text-red-500",children:t.data.errors.message})]})]}),(0,C.jsx)(a.h7,{type:"target",position:a.yX.Top,className:"w-2 h-2 bg-white border-none"}),(0,C.jsx)(a.h7,{type:"source",position:a.yX.Bottom,className:"w-2 h-2 bg-white border-none"})]})},F=(0,s.memo)(M),L=e=>{let{data:o,id:t}=e;const{onDelete:s}=o;return(0,C.jsxs)("div",{className:"flow-node bg-gray-800 text-white rounded-md shadow-lg",children:[(0,C.jsxs)("div",{className:"flex justify-between items-center border-b py-1 px-2 border-b-4 border-indigo-500",children:[(0,C.jsx)("h3",{className:"text-sm font-semibold",children:"Lead Form"}),(0,C.jsx)("button",{title:"Delete Lead Form Node",className:"text-white bg-red-500 hover:bg-red-700 rounded-full h-6 w-6 flex items-center justify-center text-xl font-extrabold pt-px",onClick:()=>s(t),children:"\xd7"})]}),(0,C.jsx)("div",{className:"space-y-2 py-2 px-2 pb-3",children:(0,C.jsx)("p",{className:"nodrag",children:"This will display lead form for the visitor"})}),(0,C.jsx)(a.h7,{type:"source",position:a.yX.Bottom,className:"w-2 h-2 bg-white border-none"}),(0,C.jsx)(a.h7,{type:"target",position:a.yX.Top,className:"w-2 h-2 bg-white border-none"})]})},I=(0,s.memo)(L),D=e=>{let{data:o,id:t}=e;const{onDelete:s}=o;return(0,C.jsxs)(C.Fragment,{children:[(0,C.jsx)("div",{className:"flow-node bg-gray-800 text-white rounded-md shadow-lg",children:(0,C.jsxs)("div",{className:"flex justify-between items-center pb-2 py-2 px-4",children:[(0,C.jsx)("h3",{className:"text-sm font-semibold",children:"Lead Flow"}),(0,C.jsx)("button",{title:"Delete Lead Flow Node",className:"text-white bg-red-500 hover:bg-red-700 rounded-full h-6 w-6 flex items-center justify-center text-xl font-extrabold pt-px",onClick:()=>s(t),children:"\xd7"})]})}),(0,C.jsx)(a.h7,{type:"source",position:a.yX.Bottom,className:"w-2 h-2 bg-white border-none"}),(0,C.jsx)(a.h7,{type:"target",position:a.yX.Top,className:"w-2 h-2 bg-white border-none"})]})},$=(0,s.memo)(D);t(4064);const A=e=>{let{data:o,id:t}=e;const{onDelete:s}=o;return(0,C.jsxs)("div",{className:"flow-node bg-gray-800 text-white rounded-md shadow-lg",children:[(0,C.jsxs)("div",{className:"flex justify-between items-center border-b py-1 px-2 border-b-4 border-indigo-500",children:[(0,C.jsx)("h3",{className:"text-sm font-semibold",children:"GPT Handler"}),(0,C.jsx)("button",{className:"text-white bg-red-500 hover:bg-red-700 rounded-full h-6 w-6 flex items-center justify-center text-xl font-extrabold pt-px",title:"Delete GPT Handler Node",onClick:()=>s(t),children:"\xd7"})]}),(0,C.jsx)("div",{className:"space-y-2 py-2 px-2 pb-3",children:(0,C.jsx)("p",{className:"nodrag",children:"From here on visitors would be handled by GPT"})}),(0,C.jsx)(a.h7,{type:"target",position:a.yX.Top,className:"w-2 h-2 bg-white border-none"})]})},P=(0,s.memo)(A),H=e=>{let{data:o,id:t}=e;const{onDelete:s,stop:r}=o;return(0,C.jsxs)("div",{className:"flow-node bg-gray-800 text-white rounded-md shadow-lg",children:[(0,C.jsxs)("div",{className:"flex justify-between items-center py-2 px-2 border-b-4 border-indigo-500",children:[(0,C.jsx)("h3",{className:"text-sm font-semibold",children:"Stop"}),(0,C.jsx)("button",{className:"text-white bg-red-500 hover:bg-red-700 rounded-full h-6 w-6 flex items-center justify-center text-xl font-extrabold pt-px",title:"Delete Stop Node",onClick:()=>s(t),children:"\xd7"})]}),(0,C.jsx)("div",{className:"space-y-2 py-2 px-2 pb-3 min-w-36",children:r||"The chat will stop here"}),(0,C.jsx)(a.h7,{type:"target",position:a.yX.Top,className:"w-2 h-2 bg-white border-none"})]})},B=e=>{let{data:o}=e;const{message:t}=o.node.data;return(0,C.jsxs)("div",{className:"flow-node bg-gray-800 text-white p-2 rounded-md shadow-lg",children:[(0,C.jsx)("div",{className:"custom-node-body text-center",children:t}),(0,C.jsx)(a.h7,{type:"source",position:a.yX.Bottom,className:"w-2 h-2 bg-white border-none"})]})},z=(0,s.memo)(B);var q=t(10226),R=t(63464),W=t(88060),U=t(83239),V=t(82053),X=t(25333),_=t(96319),Q=t(48205),G=t(22942);const J=s.forwardRef((function(e,o){return(0,C.jsx)(Q.A,{direction:"up",ref:o,...e})})),Y=e=>{let{selectedFiles:o,setSelectedFiles:t,closeDialog:r,openDialog:a,mimeType:i,updateAssignedFiles:l}=e;const[d,n]=(0,s.useState)([]);(0,s.useEffect)((()=>{a&&r(!0)}),[a]);const m=()=>{r(!1)};return(0,C.jsx)("div",{children:(0,C.jsxs)(R.A,{fullScreen:!0,open:a,onClose:m,TransitionComponent:J,children:[(0,C.jsx)(W.A,{sx:{position:"relative"},children:(0,C.jsxs)(U.A,{children:[(0,C.jsx)(X.A,{edge:"start",color:"inherit",onClick:m,"aria-label":"close",children:(0,C.jsx)(_.A,{})}),(0,C.jsx)(V.A,{sx:{ml:2,flex:1},variant:"h4",component:"div",children:"Upload OR Select Files"}),(0,C.jsx)(q.A,{autoFocus:!0,color:"inherit",onClick:()=>{const e=d.filter((e=>e.isSelected));t(e),m(),l(e)},children:"Save Selected"})]})}),(0,C.jsx)("div",{className:"p-4",children:(0,C.jsx)(V.A,{variant:"body1",children:(0,C.jsx)(G.default,{mimeType:i,selectedFiles:o,handleSelection:e=>{n(e)}})})})]})})};var Z=t(25277),K=t(41413),ee=t(57988);const oe=e=>{switch(e){case"pdf":case"application/pdf":default:return"application/pdf";case"images":case"image":case"image/*":return"image/*";case"video":case"video/*":return"video/*"}},te=e=>{var o,t,r,i;let{id:l,data:d}=e;const{node:n,onDelete:m,handleChange:c}=d;n.data.fileType=oe(n.data.fileType);const[u,p]=(0,s.useState)({}),[y,g]=(0,s.useState)(n.data.fileType),[h,w]=(0,s.useState)(!1),[j,x]=(0,s.useState)((null===(o=n.data.files)||void 0===o?void 0:o.length)>0?n.data.files:[]),b=(e,o)=>{let t="";"message"===e&&(o?o.length<3?t="Message must be at least 3 characters":o.length>500&&(t="Message must be at most 500 characters"):t="Message is required"),!t&&("files"===e||"urls"===e)&&n.data.files.length<=0&&n.data.urls.length<=0&&(t="Either Files or Image URLs are mandatory"),p((o=>({...o,[e]:t})))},f=(e,o)=>{delete n.data.errors;const t={...n.data,[e]:o};if(c(n.id,t),n.data=t,"fileType"===e){const e=oe(o);g(e),n.data.files=[],x([])}};return(0,C.jsxs)(C.Fragment,{children:[(0,C.jsxs)("div",{className:"flow-node bg-gray-800 text-white rounded-md shadow-lg "+(n.data.errors&&Object.keys(n.data.errors).length>0?"error-in-node":""),children:[(0,C.jsxs)("div",{className:"flex justify-between items-center border-b py-1 px-2 border-b-4 border-indigo-500",children:[(0,C.jsx)("h3",{className:"text-sm font-semibold",children:"File Upload"}),(0,C.jsx)("button",{title:"Delete File Node",className:"text-white bg-red-500 hover:bg-red-700 rounded-full h-6 w-6 flex items-center justify-center text-xl font-extrabold",onClick:()=>m(l),children:"\xd7"})]}),(0,C.jsxs)("div",{className:"space-y-2 py-2 px-2 pb-3",children:[(0,C.jsxs)("div",{className:"mb-2",children:[(0,C.jsx)(S,{message:n.data.message,onChange:e=>f("message",e),maxLength:500,minLength:2}),n.data.errors&&(null===(t=Object.keys(n.data.errors))||void 0===t?void 0:t.length)>0&&n.data.errors.message&&(0,C.jsx)("small",{className:"text-red-500",children:n.data.errors.message})]}),(0,C.jsxs)("div",{className:"mb-2",title:"Select File Type",children:[(0,C.jsxs)("select",{value:n.data.fileType,onChange:e=>f("fileType",e.target.value),onBlur:e=>b("fileType",e.target.value),className:"nodrag w-full p-1 border border-gray-600 bg-gray-700 text-white rounded",children:[(0,C.jsx)("option",{value:"",children:"Select File Type"}),(0,C.jsx)("option",{value:"application/pdf",children:"PDF"}),(0,C.jsx)("option",{value:"image/*",children:"Images"}),(0,C.jsx)("option",{value:"video/*",children:"Video"})]}),n.data.errors&&(null===(r=Object.keys(n.data.errors))||void 0===r?void 0:r.length)>0&&n.data.errors.fileType&&(0,C.jsx)("small",{className:"text-red-500",children:n.data.errors.fileType})]}),j&&(0,C.jsx)("div",{className:"d-flex space-y-1",children:j.map(((e,o)=>(0,C.jsx)(Z.A,{title:e.name,avatar:(0,C.jsx)(K.A,{alt:e.name,src:e.url}),label:e.name,onClick:()=>{return o=e.url,void window.open(o);var o},onDelete:()=>(e=>{const o=j.filter((o=>o.url!==e.url));x(o),n.data.files=o})(e),deleteIcon:(0,C.jsx)(ee.A,{}),variant:"outlined"},o)))}),(0,C.jsx)("div",{className:"mb-2",children:(0,C.jsx)("button",{title:"Click to Select/Add Files",disabled:!n.data.fileType||n.data.urls.length>0,type:"button",onClick:()=>{w(!0)},className:"flex px-2 py-1 font-semibold text-white btn-primary-custom rounded items-center",children:"Add Files"})}),(0,C.jsxs)("div",{className:"mb-1",title:"URLs",children:[n.data.urls.map(((e,o)=>{var t;return(0,C.jsxs)("div",{className:"flex items-center mb-1",children:[(0,C.jsx)("input",{type:"text",placeholder:"URL",value:e,onChange:e=>((e,o)=>{const t=n.data.urls.map(((t,s)=>s===e?o:t));f("urls",t)})(o,e.target.value),onBlur:e=>b("urls",e.target.value),disabled:n.data.files.length>0,className:"nodrag w-full p-1 border border-gray-600 bg-gray-700 text-white rounded"}),(0,C.jsx)("button",{type:"button",onClick:()=>(e=>{const o=n.data.urls.filter(((o,t)=>t!==e));f("urls",o)})(o),className:"text-white bg-red-500 hover:bg-red-700 rounded-full h-4 w-4 px-1 flex items-center justify-center text-sm font-extrabold ml-2",children:"\xd7"}),n.data.errors&&(null===(t=Object.keys(n.data.errors))||void 0===t?void 0:t.length)>0&&n.data.errors.fileOrUrl&&(0,C.jsx)("small",{className:"text-red-500",children:n.data.errors.fileOrUrl})]},o)})),(0,C.jsxs)("button",{title:"Click to add Image Url's",type:"button",onClick:()=>{f("urls",[...n.data.urls,""])},disabled:j.length>0,className:"flex px-2 py-1 font-semibold text-white btn-primary-custom rounded items-center",children:[(0,C.jsx)("svg",{className:"w-4 h-4 text-white font-semibold cursor-pointer hover:text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:(0,C.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M12 4v16m8-8H4"})}),n.data.urls.length>0?"Add More":"Add Url"]}),u.urls&&!n.data.errors&&(0,C.jsx)("small",{className:"text-red-500",children:u.urls}),n.data.errors&&(null===(i=Object.keys(n.data.errors))||void 0===i?void 0:i.length)>0&&n.data.errors.fileOrUrl&&(0,C.jsx)("small",{className:"text-red-500",children:n.data.errors.fileOrUrl})]})]})]}),(0,C.jsx)(a.h7,{type:"target",position:a.yX.Top,className:"w-2 h-2 bg-white border-none"}),(0,C.jsx)(a.h7,{type:"source",position:a.yX.Bottom,className:"w-2 h-2 bg-white border-none"}),h&&(0,C.jsx)(Y,{selectedFiles:j,setSelectedFiles:x,openDialog:h,closeDialog:w,mimeType:y,updateAssignedFiles:e=>{n.data.files=e}})]})},se=(0,s.memo)(te),re=e=>{var o,t,s,r,i;let{id:l,data:d}=e;const{node:n,onDelete:m,handleChange:c}=d,u=(e,o)=>{delete n.data.errors;const t={...n.data,[e]:o};c(n.id,t)};return(0,C.jsxs)("div",{className:"flow-node bg-gray-800 text-white rounded-md shadow-lg "+(null!==(o=n.data)&&void 0!==o&&o.errors&&Object.keys(n.data.errors).length?"error-in-node":""),children:[(0,C.jsxs)("div",{className:"flex justify-between items-center border-b py-1 px-2 border-b-4 border-indigo-500",children:[(0,C.jsx)("h3",{className:"text-sm font-semibold",children:"Google Maps"}),(0,C.jsx)("button",{title:"Delete Node",className:"text-white bg-red-500 hover:bg-red-700 rounded-full h-6 w-6 flex items-center justify-center text-xl font-extrabold",onClick:()=>m(l),children:"\xd7"})]}),(0,C.jsxs)("div",{className:"py-2 px-2",children:[(0,C.jsxs)("div",{className:"mb-2",children:[(0,C.jsx)(S,{maxLength:500,message:n.data.message,onChange:e=>u("message",e)}),(null===(t=n.data)||void 0===t||null===(s=t.errors)||void 0===s?void 0:s.message)&&(0,C.jsx)("small",{className:"text-red-500",children:n.data.errors.message})]}),(0,C.jsxs)("div",{className:"mb-2",children:[(0,C.jsx)("input",{title:"Map Url",type:"text",value:n.data.url,onChange:e=>u("url",e.target.value),placeholder:"Google Maps URL",className:"nodrag w-full p-1 rounded-md border border-gray-600 bg-gray-700 text-white"}),(null===(r=n.data)||void 0===r||null===(i=r.errors)||void 0===i?void 0:i.url)&&(0,C.jsx)("small",{className:"text-red-500",children:n.data.errors.url})]})]}),(0,C.jsx)(a.h7,{type:"target",position:a.yX.Top,className:"w-2 h-2 bg-white border-none"}),(0,C.jsx)(a.h7,{type:"source",position:a.yX.Bottom,className:"w-2 h-2 bg-white border-none"})]})},ae=(0,s.memo)(re),ie={jpg:"image/*",jpeg:"image/*",png:"image/*",gif:"image/*",mp4:"video/*",avi:"video/*",mov:"video/*",wmv:"video/*",mp3:"audio/*",wav:"audio/*",pdf:"application/pdf"},le=[{id:me(),type:"start",data:{message:"Chat Window Opened"},position:{x:10,y:10}}];let de=me(),ne=me();function me(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:12;const o="abcdefghijklmnopqrstuvwxyz0123456789";let t="";const s=Date.now().toString(36);for(let r=0;r<e;r++)t+=o.charAt(Math.floor(36*Math.random()));return s+t}const ce=e=>{if(e&&e.flows.length>0){let o=ue(e);const t=we(e);return o=[...le,...o],{flowNodes:o,flowEdges:t}}return{flowNodes:[...le],flowEdges:[]}},ue=e=>e.flows.map(((o,t)=>({id:o.flowId,type:o.type,data:pe(o),position:he(o,t,e)}))),pe=e=>{var o,t,s,r,a,i;const l={};switch(["message","leadForm","gpt","leadFlow","stop","file","map","question","options"].includes(e.type)&&(l.message="string"===typeof e.content?e.content:e.content[0]),e.type){case"options":l.fieldLabel=e.fieldLabel,l.fallback=e.fallback?e.fallback:null===(o=e.meta)||void 0===o?void 0:o.fallback,l.property=e.property,l.subOptions=ge(e.children);break;case"file":var d,n;if(l.fileType=null===(t=e.meta)||void 0===t?void 0:t.type,null===(s=e.meta)||void 0===s||!s.media||!ye(e.meta.media,e)&&e.meta.media[0].name){if(l.urls=[],l.files=null!==(d=e.meta)&&void 0!==d&&d.media?e.meta.media:[],!l.fileType)l.fileType=null!==(n=e.meta)&&void 0!==n&&n.media?xe(e.meta.media):""}else l.urls=e.meta.media.map((e=>e.url)),l.files=[];break;case"map":l.url=null===(r=e.meta)||void 0===r||null===(a=r.url)||void 0===a?void 0:a.trim();break;case"question":l.fieldLabel=e.fieldLabel,l.property=e.property;const j=e.fieldType?e.fieldType:null===(i=e.meta)||void 0===i?void 0:i.type;var c,u,p;if(l.fieldType=j,(j&&j===m.DATE||j===m.DATETIME)&&(l.min=ve(e,"min"),l.max=ve(e,"max")),j&&j===m.TIME)l.min=Ne(e.min?e.min:null===(c=e.meta)||void 0===c?void 0:c.min),l.max=Ne(e.max?e.max:null===(u=e.meta)||void 0===u?void 0:u.max);else if(j&&j===m.STRING||j===m.NUMBER){var y,g;l.min=e.min?e.min:null===(y=e.meta)||void 0===y?void 0:y.min,l.max=e.min?e.min:null===(g=e.meta)||void 0===g?void 0:g.max}if(j===m.CUSTOM)l.custom=e.custom?e.custom:null===(p=e.meta)||void 0===p?void 0:p.custom;break;case"http":if(l.property=e.property||"",e.meta){var h,w;l.displayText=e.meta.displayText||"",l.requestType=e.meta.requestType||"",l.url=(null===(h=e.meta.url)||void 0===h?void 0:h.trim())||"",l.params=e.meta.params||[],l.successFlowId=de,l.failureFlowId=ne;const o=null===(w=e.meta.statusWiseFlowId)||void 0===w?void 0:w.map((e=>({statusCode:e.statusCode||"",id:e.flowId||""})));l.statusWiseFlow=o||[]}}return l},ye=(e,o)=>!(null===e||void 0===e||!e.files)&&(o.meta.media=e.files,!0),ge=function(){return(arguments.length>0&&void 0!==arguments[0]?arguments[0]:[]).map((e=>({id:e.flowId?e.flowId:e.id,title:e.title,subTitle:e.subTitle,value:e.value,category:e.category,leadEmailTo:e.leadEmailTo?e.leadEmailTo:"",leadEmailCc:e.leadEmailCc?[...e.leadEmailCc]:[],isCollapsed:!1})))},he=(e,o,t)=>{let s={x:o+150,y:o+50};var r;e.flowId&&t.positions&&(s=(null===(r=t.positions.find((o=>o.nodeId===e.flowId)))||void 0===r?void 0:r.position)||s);return s},we=e=>{let o={};null!==e&&void 0!==e&&e.startFlowId&&(o={id:le[0].id,source:le[0].id,target:null===e||void 0===e?void 0:e.startFlowId,type:"custom"});const t=e.flows;let s=t.filter((e=>e.nextFlowId)).map((e=>({id:`e-${e.flowId}-${e.nextFlowId}`,source:e.flowId,target:e.nextFlowId,type:"custom"})));return t.forEach((e=>{if(e.children&&e.children.length>0&&e.children.forEach((o=>{o.nextFlowId&&s.push({id:`e-${o.flowId?o.flowId:o.id}-${o.nextFlowId}`,source:e.flowId,target:o.nextFlowId,type:"custom",sourceHandle:o.flowId?o.flowId:o.id})})),"http"===e.type&&e.meta){var o;let t=e.meta;t.successFlowId&&s.push({id:`e-${de}-${t.successFlowId}`,source:e.flowId,target:t.successFlowId,type:"custom",sourceHandle:de}),t.failureFlowId&&s.push({id:`e-${ne}-${t.failureFlowId}`,source:e.flowId,target:t.failureFlowId,type:"custom",sourceHandle:ne}),null===(o=t.statusWiseFlowId)||void 0===o||o.forEach((o=>{o.nextFlowId&&s.push({id:`e-${o.flowId?o.flowId:""}-${o.nextFlowId}`,source:e.flowId,target:o.nextFlowId,type:"custom",sourceHandle:o.flowId})}))}})),t.forEach((e=>{e.children&&e.children.length>0&&e.children.forEach((o=>{o.nextFlowId&&s.push({id:`e-${o.flowId?o.flowId:o.id}-${o.nextFlowId}`,source:e.flowId,target:o.nextFlowId,type:"custom",sourceHandle:o.flowId?o.flowId:o.id})}))})),s=Object.keys(o).length>0?[o,...s]:[...s],s},je=e=>ie[e.toLowerCase()]||"",xe=e=>{const o=new Set;for(const t of e){const e=t.name.split(".").pop();if(e){const t=je(e);t&&o.add(t)}}return Array.from(o).join(", ")},be={pdf:"application/pdf",jpg:"image/jpeg",jpeg:"image/jpeg",png:"image/png",gif:"image/gif",mp4:"video/mp4",mov:"video/mp4",avi:"video/mp4"},fe=e=>{const o=ke(e);return be[o]||""},ke=e=>{const o=(e=>(new URL(e).pathname.split("/").pop()||"").split("?")[0])(e),t=o.lastIndexOf(".");return t>-1?o.substring(t+1).toLowerCase():""},ve=(e,o)=>{var t;const s=new Date;let r=new Date;const a="min"===o?"min":"max",i=e[a]||(null===(t=e.meta)||void 0===t?void 0:t[a]);if(i){const[e,o]=i.split("T");r=new Date(e);const[t,s,a]=o.split(":");r.setHours(t||0),r.setMinutes(s||0),r.setSeconds(a.split(".")[0]||0)}return"max"===o?s.setHours(23,59,59,999):"min"===o&&s.setHours(0,0,0,0),r||s},Ne=e=>{const o=new Date;let t;if(/^([01]\d|2[0-3]):([0-5]\d)$/.test(e)){const[s,r]=e.split(":").map(Number);t=new Date(o),t.setHours(s,r,0,0)}else t=new Date(o),t.setHours(23,59,59,999);return t},Te=(e,o,t)=>{const s=e=>e<10?"0"+e:e;o&&e&&(e.setHours(0),e.setMinutes(0),e.setSeconds(0),e.setMilliseconds(0)),t&&(e.setHours(23),e.setMinutes(59),e.setSeconds(59),e.setMilliseconds(99));return`${e.getFullYear()}-${s(e.getMonth()+1)}-${s(e.getDate())}T${s(e.getHours())}:${s(e.getMinutes())}:${s(e.getSeconds())}.${(e.getMilliseconds()/1e3).toFixed(3).slice(2,5)}Z`},Ce=e=>`${e.getHours().toString().padStart(2,"0")}:${e.getMinutes().toString().padStart(2,"0")}`,Ee=e=>{let{optionsData:o,save:t,close:r}=e;const[a,i]=(0,s.useState)(o),[l,d]=(0,s.useState)({});(0,s.useEffect)((()=>{i(o)}),[o]);const n=e=>{const{name:o,value:t}=e.target;i({...a,[o]:t})},m=(e,o)=>{const t=f(e,o);d((o=>({...o,[e]:t})))},c=(e,o,t)=>{const s=f(o,t);d((t=>{var r;return{...t,subOptions:{...t.subOptions,[e]:{...null===(r=t.subOptions)||void 0===r?void 0:r[e],[o]:s}}}}))},u=(e,o)=>{const{name:t,value:s}=o.target,r=[...a.subOptions],l={...r[e]};l[t]=s,r[e]=l,i({...a,subOptions:r})},p=(e,o)=>{const t=a.subOptions.find((o=>o.id===e));t&&(y(o)?t.leadEmailTo.includes(o)?d((o=>{var t;return{...o,subOptions:{...o.subOptions,[e]:{...null===(t=o.subOptions)||void 0===t?void 0:t[e],leadEmailCc:"This email is already in Lead Email To."}}}})):(i({...a,subOptions:a.subOptions.map((t=>t.id===e?{...t,leadEmailCc:[...t.leadEmailCc,o]}:t))}),d((o=>{var t;return{...o,subOptions:{...o.subOptions,[e]:{...null===(t=o.subOptions)||void 0===t?void 0:t[e],leadEmailCc:""}}}}))):d((o=>{var t;return{...o,subOptions:{...o.subOptions,[e]:{...null===(t=o.subOptions)||void 0===t?void 0:t[e],leadEmailCc:"Invalid email address"}}}})))};return(0,C.jsxs)("div",{className:"flow-node fixed inset-0 flex flex-col bg-gray-900 text-white",children:[(0,C.jsx)("div",{className:"fixed top-0 left-0 right-0 bg-gray-800 text-white shadow-md z-10",children:(0,C.jsxs)("div",{className:"modal-header px-4 py-2 flex justify-between items-center",children:[(0,C.jsx)("h5",{className:"modal-title text-lg font-bold",children:"Edit Options"}),(0,C.jsx)("button",{type:"button",className:"px-3 py-1 bg-red-600 text-white rounded hover:bg-red-700 text-xl font-extrabold",title:"Close popup",onClick:r,children:"\xd7"})]})}),(0,C.jsxs)("div",{className:"flex-1 overflow-y-auto p-4 mt-16 mb-20",children:[(0,C.jsxs)("div",{className:"grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 lg:grid-cols-4 mb-4",children:[(0,C.jsx)("div",{className:"min-w-[200px] px-2 shadow-md",children:(0,C.jsxs)("div",{className:"form-group",children:[(0,C.jsx)("label",{className:"input-label",children:"Display Text"}),(0,C.jsx)("input",{title:"fieldLabel",type:"text",maxLength:50,className:"form-control form-control-sm w-full px-2 border border-gray-600 bg-gray-700 text-white rounded",name:"fieldLabel",value:a.fieldLabel,onChange:n,onBlur:e=>m("fieldLabel",e.target.value)}),l.fieldLabel&&(0,C.jsx)("small",{className:"text-red-500",children:l.fieldLabel})]})}),(0,C.jsx)("div",{className:"min-w-[200px] px-2 shadow-md",children:(0,C.jsxs)("div",{className:"form-group",children:[(0,C.jsx)("label",{className:"input-label",children:"Property Name"}),(0,C.jsx)("input",{title:"Property",type:"text",maxLength:50,className:"form-control form-control-sm w-full px-2 border border-gray-600 bg-gray-700 text-white rounded",name:"property",value:a.property,onChange:n,onBlur:e=>m("property",e.target.value)}),l.property&&(0,C.jsx)("small",{className:"text-red-500",children:l.property})]})}),(0,C.jsx)("div",{className:"min-w-[200px] px-2 shadow-md",children:(0,C.jsxs)("div",{className:"form-group",children:[(0,C.jsx)("label",{className:"input-label",children:"Message"}),(0,C.jsx)(S,{maxLength:300,message:a.message,onChange:e=>(e=>{i({...a,message:e})})(e),onBlur:e=>m("message",e)}),l.message&&(0,C.jsx)("small",{className:"text-red-500",children:l.message})]})}),(0,C.jsx)("div",{className:"min-w-[200px] px-2 shadow-md",children:(0,C.jsxs)("div",{className:"form-group",children:[(0,C.jsx)("label",{className:"input-label",children:"Fall back"}),(0,C.jsx)("input",{title:"Fallback",type:"text",maxLength:50,className:"form-control form-control-sm w-full px-2 border border-gray-600 bg-gray-700 text-white rounded",name:"fallback",value:a.fallback,onChange:n,onBlur:e=>m("fallback",e.target.value)}),l.fallback&&(0,C.jsx)("small",{className:"text-red-500",children:l.fallback})]})})]}),a.subOptions.map(((e,o)=>{var t,s,r,n,m,g,h,w,j,x,b,f,k,v,N,T,E,O;return(0,C.jsxs)("div",{className:"accordion px-2 mb-2",children:[(0,C.jsxs)("div",{className:"accordion-header flex items-center p-1 cursor-pointer border border-gray-600 rounded bg-gray-800 hover:bg-gray-700 transition-colors",onClick:()=>(e=>{const o=a.subOptions.map(((o,t)=>t===e?{...o,isCollapsed:!o.isCollapsed}:o));i({...a,subOptions:o})})(o),children:[(0,C.jsx)("span",{className:"mr-3",children:e.isCollapsed?(0,C.jsx)("svg",{className:"w-5 h-5 text-gray-400",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:(0,C.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 9l-7 7-7-7"})}):(0,C.jsx)("svg",{className:"w-5 h-5 text-gray-400",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:(0,C.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 15l7-7 7 7"})})}),(0,C.jsx)("span",{className:"flex-1",children:e.title||`Sub Option ${o+1}`}),a.subOptions.length>1&&(0,C.jsx)("button",{type:"button",className:"text-white bg-red-500 hover:bg-red-700 rounded-full h-6 w-6 flex items-center justify-center text-xl font-bold ml-4",onClick:e=>{e.stopPropagation(),(e=>{i({...a,subOptions:a.subOptions.filter(((o,t)=>t!==e))})})(o)},children:"\xd7"})]}),!e.isCollapsed&&(0,C.jsx)("div",{className:"accordion-content bg-gray-700 p-2 rounded",children:(0,C.jsxs)("div",{className:"grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-2",children:[(0,C.jsx)("div",{className:"min-w-[200px]",children:(0,C.jsxs)("div",{className:"form-group",children:[(0,C.jsx)("label",{className:"input-label",children:"Title"}),(0,C.jsx)("input",{title:"Title",type:"text",maxLength:50,className:"form-control form-control-sm w-full px-2 border border-gray-600 bg-gray-800 text-white rounded",name:"title",value:e.title,onChange:e=>u(o,e),onBlur:e=>c(o,"title",e.target.value)}),(null===(t=l.subOptions)||void 0===t||null===(s=t[o])||void 0===s?void 0:s.title)&&(0,C.jsx)("small",{className:"text-red-500",children:null===(r=l.subOptions[o])||void 0===r?void 0:r.title})]})}),(0,C.jsx)("div",{className:"min-w-[200px]",children:(0,C.jsxs)("div",{className:"form-group",children:[(0,C.jsx)("label",{className:"input-label",children:"Sub Title"}),(0,C.jsx)("input",{title:"Sub Title",type:"text",maxLength:50,className:"form-control form-control-sm w-full px-2 border border-gray-600 bg-gray-800 text-white rounded",name:"subTitle",value:e.subTitle,onChange:e=>u(o,e),onBlur:e=>c(o,"subTitle",e.target.value)}),(null===(n=l.subOptions)||void 0===n||null===(m=n[o])||void 0===m?void 0:m.subTitle)&&(0,C.jsx)("small",{className:"text-red-500",children:null===(g=l.subOptions[o])||void 0===g?void 0:g.subTitle})]})}),(0,C.jsx)("div",{className:"min-w-[200px",children:(0,C.jsxs)("div",{className:"form-group",children:[(0,C.jsx)("label",{className:"input-label",children:"Value"}),(0,C.jsx)("input",{title:"Value",type:"text",maxLength:500,className:"form-control form-control-sm w-full px-2 border border-gray-600 bg-gray-800 text-white rounded",name:"value",value:e.value,onChange:e=>u(o,e),onBlur:e=>c(o,"value",e.target.value)}),(null===(h=l.subOptions)||void 0===h||null===(w=h[o])||void 0===w?void 0:w.value)&&(0,C.jsx)("small",{className:"text-red-500",children:null===(j=l.subOptions[o])||void 0===j?void 0:j.value})]})}),(0,C.jsx)("div",{className:"min-w-[200px]",children:(0,C.jsxs)("div",{className:"form-group",children:[(0,C.jsx)("label",{className:"input-label",children:"Select Category"}),(0,C.jsxs)("select",{title:"Select Category",style:{height:"25px"},className:"form-control form-control-sm w-full px-2 border border-gray-600 bg-gray-800 text-white rounded",value:e.category,onChange:e=>((e,o)=>{const{value:t}=o.target,s=[...a.subOptions];s[e].category=t,i({...a,subOptions:s})})(o,e),onBlur:e=>c(o,"category",e.target.value),children:[(0,C.jsx)("option",{value:"",children:"Select Category"}),(0,C.jsx)("option",{value:"presale",children:"Presale"}),(0,C.jsx)("option",{value:"general",children:"General"}),(0,C.jsx)("option",{value:"others",children:"Others"})]}),(null===(x=l.subOptions)||void 0===x||null===(b=x[o])||void 0===b?void 0:b.category)&&(0,C.jsx)("small",{className:"text-red-500",children:null===(f=l.subOptions[o])||void 0===f?void 0:f.category})]})}),(0,C.jsx)("div",{className:"min-w-[200px]",children:(0,C.jsxs)("div",{className:"form-group",children:[(0,C.jsx)("label",{className:"input-label",children:"Lead Email To"}),(0,C.jsx)("input",{title:"Lead Mail To",autoComplete:"off",maxLength:254,type:"text",className:"form-control form-control-sm w-full px-2 border border-gray-600 bg-gray-800 text-white rounded",name:"leadEmailTo",value:e.leadEmailTo,onChange:e=>u(o,e),onBlur:e=>c(o,"leadEmailTo",e.target.value)}),(null===(k=l.subOptions)||void 0===k||null===(v=k[o])||void 0===v?void 0:v.leadEmailTo)&&(0,C.jsx)("small",{className:"text-red-500",children:null===(N=l.subOptions[o])||void 0===N?void 0:N.leadEmailTo})]})}),(0,C.jsx)("div",{className:"min-w-[200px]",children:(0,C.jsxs)("div",{className:"form-group",children:[(0,C.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Lead Email Cc"}),(0,C.jsxs)("div",{className:"flex flex-wrap items-center border border-gray-600 rounded bg-gray-800",children:[e.leadEmailCc.map((o=>(0,C.jsxs)("div",{className:"flex items-center bg-blue-100 text-blue-800 text-sm rounded-full mr-2 mb-2 px-3 py-1",children:[o,(0,C.jsx)("button",{type:"button",onClick:()=>{return t=e.id,s=o,void i({...a,subOptions:a.subOptions.map((e=>e.id===t?{...e,leadEmailCc:e.leadEmailCc.filter((e=>e!==s))}:e))});var t,s},className:"ml-2 text-red-500 hover:text-red-700 focus:outline-none",children:"\xd7"})]},o))),(0,C.jsx)("input",{title:"Lead Mail CC",style:{padding:"2px",height:"24px"},autoComplete:"off",placeholder:"Type or paste email addresses and press `Enter`",type:"text",className:"flex-grow border-none text-sm border-gray-600 bg-gray-800 text-white rounded",name:"leadEmailCc",onBlur:e=>c(o,"leadEmailCc",e.target.value),onKeyDown:e=>((e,o)=>{if(["Enter","Tab",","].includes(o.key)){o.preventDefault();const t=o.currentTarget.value.trim();t&&(p(a.subOptions[e].id,t),o.currentTarget.value="")}})(o,e),onPaste:o=>((e,o)=>{o.preventDefault();const t=o.clipboardData.getData("text").split(/[ ,;]/).map((e=>e.trim())).filter((e=>""!==e)),s=a.subOptions.find((o=>o.id===e));if(!s)return;if(t.filter((e=>!y(e))).length>0)return void d((o=>{var t;return{...o,subOptions:{...o.subOptions,[e]:{...null===(t=o.subOptions)||void 0===t?void 0:t[e],leadEmailCc:"Invalid email address"}}}}));t.filter((e=>s.leadEmailTo.includes(e))).length>0?d((o=>{var t;return{...o,subOptions:{...o.subOptions,[e]:{...null===(t=o.subOptions)||void 0===t?void 0:t[e],leadEmailCc:"Some emails are already in Lead Email To"}}}})):(i({...a,subOptions:a.subOptions.map((o=>o.id===e?{...o,leadEmailCc:[...o.leadEmailCc,...t]}:o))}),d((o=>{var t;return{...o,subOptions:{...o.subOptions,[e]:{...null===(t=o.subOptions)||void 0===t?void 0:t[e],leadEmailCc:""}}}})))})(e.id,o)})]}),(null===(T=l.subOptions)||void 0===T||null===(E=T[o])||void 0===E?void 0:E.leadEmailCc)&&(0,C.jsx)("small",{className:"text-red-500",children:null===(O=l.subOptions[o])||void 0===O?void 0:O.leadEmailCc})]})})]})})]},o)})),(0,C.jsxs)("button",{className:"flex ml-2 px-2 py-1 font-semibold text-white btn-primary-custom rounded items-center",onClick:()=>{i({...a,subOptions:[...a.subOptions,{id:me(),title:"",subTitle:"",value:"",category:"",leadEmailTo:"",leadEmailCc:[]}]})},children:[(0,C.jsx)("svg",{className:"w-4 h-4 text-white font-semibold cursor-pointer hover:text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:(0,C.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M12 4v16m8-8H4"})}),"Add"]})]}),(0,C.jsx)("div",{className:"fixed bottom-0 left-0 right-0 bg-gray-800 text-white shadow-md",children:(0,C.jsxs)("div",{className:"modal-footer py-2 px-4 flex justify-start gap-2",children:[(0,C.jsxs)("button",{type:"button",className:"flex items-center justify-center px-4 py-2 font-semibold text-white btn-primary-custom rounded ",onClick:()=>{t(a)},children:[(0,C.jsx)("svg",{className:"w-6 h-6 text-white cursor-pointer hover:text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:(0,C.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M17 21H7a2 2 0 01-2-2V5a2 2 0 012-2h10a2 2 0 012 2v14a2 2 0 01-2 2zM7 3v4a1 1 0 001 1h8a1 1 0 001-1V3M7 10h10v11H7V10z"})}),"Save"]}),(0,C.jsx)("button",{type:"button",className:"flex items-center justify-center px-4 py-2 font-semibold text-white btn-primary-custom rounded ",onClick:()=>{a.subOptions.forEach((e=>{e.isCollapsed=!0})),t(a),r()},children:"Save & Close"})]})})]})},Oe=(0,s.memo)(Ee),Se=e=>{let{subOption:o,index:t,onDelete:s,expandToEdit:r,length:a}=e;return(0,C.jsx)("div",{className:"bg-gray-700 text-white rounded-md p-1 mt-2",style:{padding:"2px 10px",border:"1px solid grey",borderRadius:"4px"},children:(0,C.jsxs)("div",{className:"flex justify-between items-center cursor-pointer grow",children:[(0,C.jsx)("div",{className:"flex justify-between items-center grow min-w-0",children:(0,C.jsxs)("div",{className:"flex min-w-0",children:[(0,C.jsxs)("svg",{onClick:()=>r(t),className:"min-w-4 w-4 h-4 mr-2 text-blue-300 cursor-pointer hover:text-white",fill:"none",stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",viewBox:"0 0 24 24",width:"24",xmlns:"http://www.w3.org/2000/svg",children:[(0,C.jsx)("path",{d:"M11 4H4a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7"}),(0,C.jsx)("path",{d:"M18.5 2.5a2.121 2.121 0 0 1 3 3L12 15l-4 1 1-4 9.5-9.5z"})]}),(0,C.jsx)("strong",{title:o.title,className:"text-sm grow min-w-0",children:o.title?`${o.title}`:"Sub Option"})]})}),a>1&&(0,C.jsx)("div",{children:(0,C.jsx)("button",{type:"button",className:"text-white bg-red-500 hover:bg-red-700 rounded-full min-w-4 h-6 w-6 text-xl font-semibold pt-px flex items-center justify-center ml-2 w-[25px] w-[25px]",onClick:e=>{e.stopPropagation(),s(t)},children:"\xd7"})})]})})},Me=(0,s.memo)(Se);var Fe=t(37267),Le=t(45e3);const Ie=e=>{let{children:o,...t}=e;const[r,a]=(0,s.useState)(!1);return(0,s.useEffect)((()=>{const e=requestAnimationFrame((()=>a(!0)));return()=>{cancelAnimationFrame(e),a(!1)}}),[]),r?(0,C.jsx)(Le.gL,{...t,children:o}):null},De=e=>{let{data:o,id:t}=e;const{node:r,onDelete:i,handleChange:l}=o,[d,n]=(0,s.useState)(!1),[m,c]=(0,s.useState)(!1),[u,p]=(0,s.useState)({}),[y,g]=(0,s.useState)(r.data),[h,w]=(0,s.useState)(r.data.message),j=(e,o)=>{const t=f(e,o);p((o=>({...o,[e]:t})))},x=(e,o)=>{delete r.data.errors;const t={...y,[e]:o};g(t),l(r.id,t)},b=e=>{delete r.data.errors;const o=y.subOptions.filter(((o,t)=>t!==e)),t={...y,subOptions:o};g(t),l(r.id,t)},k=()=>n(!1),v=e=>{y.subOptions.forEach((e=>{e.isCollapsed=!0})),y.subOptions[e].isCollapsed=!1,n(!0)};return(0,C.jsxs)(C.Fragment,{children:[(0,C.jsxs)("div",{className:"flow-node bg-gray-800 text-white rounded-md shadow-lg "+(r.data&&r.data.errors&&Object.keys(r.data.errors).length>0?"error-in-node":""),children:[(0,C.jsxs)("div",{className:"flex justify-between items-center py-2 px-2 border-b-4 border-indigo-500",children:[(0,C.jsx)("h3",{className:"text-sm font-semibold cursor-pointer mr-3",onClick:()=>c(!m),children:"Option"}),(0,C.jsxs)("div",{className:"flex",children:[(0,C.jsx)("button",{className:"text-gray-400 hover:text-white mr-3",title:"Expand",onClick:()=>n((e=>!e)),children:(0,C.jsx)("svg",{className:"w-4 h-4 text-blue-500 cursor-pointer hover:text-blue-700",fill:"white",stroke:"currentColor",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 242.133 242.133",children:(0,C.jsx)("path",{id:"XMLID_15_",d:"M227.133,83.033c8.283,0,15-6.716,15-15V15c0-8.284-6.717-15-15-15H174.1c-8.284,0-15,6.716-15,15 s6.716,15,15,15h16.82l-69.854,69.854L51.213,30h16.82c8.284,0,15-6.716,15-15s-6.716-15-15-15H15C6.717,0,0,6.716,0,15v53.033 c0,8.284,6.717,15,15,15c8.285,0,15-6.716,15-15v-16.82l69.854,69.854L30,190.92V174.1c0-8.284-6.715-15-15-15 c-8.283,0-15,6.716-15,15v53.033c0,8.284,6.717,15,15,15h53.033c8.284,0,15-6.716,15-15c0-8.284-6.716-15-15-15h-16.82 l69.854-69.854l69.854,69.854H174.1c-8.284,0-15,6.716-15,15c0,8.284,6.716,15,15,15h53.033c8.283,0,15-6.716,15-15V174.1 c0-8.284-6.717-15-15-15c-8.285,0-15,6.716-15,15v16.82l-69.854-69.854l69.854-69.854v16.82 C212.133,76.317,218.848,83.033,227.133,83.033z"})})}),(0,C.jsx)("button",{title:"Delete Node",className:"text-white text-xl font-semibold bg-red-500 hover:bg-red-700 rounded-full h-6 w-6 flex items-center pt-px justify-center",onClick:()=>i(t),children:"\xd7"})]})]}),!m&&(0,C.jsxs)("div",{className:"space-y-2 py-2 px-2",children:[(0,C.jsxs)("div",{children:[(0,C.jsx)("input",{title:"Field Label",type:"text",maxLength:50,placeholder:"Field Label",value:y.fieldLabel,onChange:e=>x("fieldLabel",e.target.value),onBlur:e=>j("fieldLabel",e.target.value),className:"nodrag w-full p-1 border border-gray-600 bg-gray-700 text-white rounded"}),u.fieldLabel&&(0,C.jsx)("small",{className:"text-red-500",children:u.fieldLabel})]}),(0,C.jsxs)("div",{children:[(0,C.jsx)("input",{title:"Property Name",type:"text",maxLength:50,placeholder:"Property Name",value:y.property,onChange:e=>x("property",e.target.value),onBlur:e=>j("property",e.target.value),className:"nodrag w-full p-1 border border-gray-600 bg-gray-700 text-white rounded"}),u.property&&(0,C.jsx)("small",{className:"text-red-500",children:u.property})]}),(0,C.jsxs)("div",{children:[(0,C.jsx)(S,{maxLength:300,message:y.message,onChange:e=>x("message",e)},h),u.message&&(0,C.jsx)("small",{className:"text-red-500",children:u.message})]}),(0,C.jsxs)("div",{children:[(0,C.jsx)("input",{title:"Fall back",type:"text",maxLength:50,value:y.fallback,placeholder:"Fall back",onChange:e=>x("fallback",e.target.value),onBlur:e=>j("fallback",e.target.value),className:"nodrag w-full p-1 border border-gray-600 bg-gray-700 text-white rounded"}),u.fallback&&(0,C.jsx)("small",{className:"text-red-500",children:u.fallback})]}),(0,C.jsx)(Le.JY,{onDragEnd:e=>{const{source:o,destination:t}=e;if(!t)return;const s=Array.from(y.subOptions),[a]=s.splice(o.index,1);s.splice(t.index,0,a);const i={...y,subOptions:s};g(i),l(r.id,i)},children:(0,C.jsx)(Ie,{droppableId:"subOptions",children:e=>(0,C.jsxs)("div",{...e.droppableProps,ref:e.innerRef,className:"space-y-2",children:[y.subOptions.map(((e,o)=>(0,C.jsxs)("div",{className:"nodrag relative subOption-wrapper",children:[(0,C.jsx)(Le.sx,{draggableId:e.id,index:o,children:t=>(0,C.jsx)("div",{ref:t.innerRef,...t.draggableProps,...t.dragHandleProps,style:{...t.draggableProps.style,left:"auto !important",top:"auto !important",width:"100%"},children:(0,C.jsx)(Me,{subOption:e,index:o,onDelete:b,length:y.subOptions.length,expandToEdit:v},o)})},e.id),(0,C.jsx)(a.h7,{type:"source",position:a.yX.Right,id:e.id})]},o))),e.placeholder]})})}),(0,C.jsxs)("button",{className:"flex px-2 py-1 font-semibold text-white btn-primary-custom rounded items-center",onClick:()=>{delete r.data.errors;const e={id:me(),title:"",subTitle:"",value:"",category:"",leadEmailTo:"",leadEmailCc:[],isCollapsed:!1},o={...y,subOptions:[...y.subOptions,e]};g(o),l(r.id,o),n(!0)},children:[(0,C.jsx)("svg",{className:"w-4 h-4 text-white font-semibold cursor-pointer hover:text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:(0,C.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M12 4v16m8-8H4"})}),"Add"]})]})]}),(0,C.jsx)(a.h7,{type:"target",position:a.yX.Top,id:t}),(0,C.jsx)(Fe.l,{header:"Header",visible:d,style:{width:"100vw"},onHide:()=>{d&&k()},children:(0,C.jsx)(Oe,{save:e=>{const o={...e,subOptions:e.subOptions.map((e=>({...e})))};w(Math.random().toString()),g(o),l(r.id,o)},optionsData:y,close:k})})]})},$e=(0,s.memo)(De);var Ae=t(93195);const Pe=e=>{var o,t,r,i,l;let{id:d,data:n}=e;const{node:c,onDelete:u,handleChange:y,setNodes:g,nodes:h}=n,[w,j]=(0,s.useState)({}),x=(0,s.useMemo)((()=>new Date((new Date).setHours(0,0,0,0))),[]),b=(0,s.useMemo)((()=>{const e=new Date;return e.setMonth(e.getMonth()+3),e.setHours(23,59,59,999),e}),[]),[f,k]=(0,s.useState)({}),v=(e,o)=>{delete c.data.errors,j({});const t={...c.data,[e]:o};y(c.id,t)},N=()=>{g(h.map((e=>({...e,selected:!1}))))},T=(0,s.useCallback)((e=>{switch(e){case m.CUSTOM:return k({min:"Custom Expression",max:""}),{min:"",max:""};case m.STRING:return k({min:"String Min Length",max:"String Max Length"}),{min:3,max:500};case m.NUMBER:return k({min:"Number Min Length",max:"Number Max Length"}),{min:3,max:15};case m.DATE:return k({min:"Min Date",max:"Max Date"}),{min:"",max:""};case m.DATETIME:return k({min:"Min Date Time",max:"Max Date Time"}),{min:"",max:""};case m.TIME:return k({min:"Min Time",max:"Max Time"}),{min:"",max:""};default:return{min:"",max:""}}}),[]),E=()=>(0,C.jsx)("button",{title:"Delete Question Node",className:"w-full text-white bg-red-500 hover:bg-red-700 rounded flex items-center justify-center",onClick:()=>(()=>{let e=document.querySelector(".p-datepicker");e&&(e.style.visibility="hidden")})(),children:"Close"});return(0,C.jsxs)(C.Fragment,{children:[(0,C.jsxs)("div",{className:"flow-node bg-gray-800 text-white rounded-md shadow-lg "+(null!==(o=c.data)&&void 0!==o&&o.errors&&Object.keys(c.data.errors).length?"error-in-node":""),children:[(0,C.jsxs)("div",{className:"flex justify-between items-center border-b py-1 px-2 border-b-4 border-indigo-500",children:[(0,C.jsx)("h3",{className:"text-sm font-semibold",children:"Question Node"}),(0,C.jsx)("button",{title:"Delete Question Node",className:"text-white bg-red-500 hover:bg-red-700 rounded-full h-6 w-6 flex items-center justify-center text-xl font-extrabold",onClick:()=>u(d),children:"\xd7"})]}),(0,C.jsxs)("div",{className:"space-y-2 py-2 px-2 pb-3",children:[(0,C.jsx)("div",{className:"mb-2",title:"Field Label",children:(0,C.jsx)("input",{type:"text",placeholder:"Field Label",value:c.data.fieldLabel||"",onClick:N,onChange:e=>v("fieldLabel",e.target.value),className:"nodrag w-full p-1 border border-gray-600 bg-gray-700 text-white rounded"})}),(0,C.jsxs)("div",{className:"mb-2",title:"Property Name (Alphanumeric, no spaces)",children:[(0,C.jsx)("input",{type:"text",placeholder:"Property Name (Alphanumeric, no spaces)",value:c.data.property||"",onClick:N,onChange:e=>v("property",e.target.value),className:"nodrag w-full p-1 border border-gray-600 bg-gray-700 text-white rounded"}),c.data.errors&&(null===(t=Object.keys(c.data.errors))||void 0===t?void 0:t.length)>0&&c.data.errors.property&&(0,C.jsx)("small",{className:"text-red-500",children:c.data.errors.property})]}),(0,C.jsxs)("div",{className:"mb-2",children:[(0,C.jsx)(S,{maxLength:500,message:c.data.message,onChange:e=>v("message",e)}),c.data.errors&&(null===(r=Object.keys(c.data.errors))||void 0===r?void 0:r.length)>0&&c.data.errors.message&&(0,C.jsx)("small",{className:"text-red-500",children:c.data.errors.message})]}),(0,C.jsxs)("div",{className:"mb-2",children:[(0,C.jsxs)("select",{title:"Field Type",value:c.data.fieldType,onClick:N,onChange:e=>{delete c.data.errors,e.target.value?w.fieldType&&j((e=>{const o={...e};return delete o.fieldType,o})):j((e=>({...e,fieldType:"Question Type is Mandatory"})));const o=e.target.value,{min:t,max:s}=T(o),r={...c.data,fieldType:o,min:t,max:s,custom:""};y(c.id,r)},className:"nodrag w-full p-1 border border-gray-600 bg-gray-700 text-white rounded",children:[(0,C.jsx)("option",{value:"",children:"Select Field Type"}),p.map((e=>(0,C.jsx)("option",{value:e,children:e.charAt(0).toUpperCase()+e.slice(1)},e)))]}),c.data.errors&&(null===(i=Object.keys(c.data.errors))||void 0===i?void 0:i.length)>0&&c.data.errors.fieldType&&(0,C.jsx)("small",{className:"text-red-500",children:c.data.errors.fieldType})]}),(0,C.jsxs)("div",{className:"mb-2",children:[[m.STRING,m.NUMBER].includes(c.data.fieldType)&&(0,C.jsxs)("div",{className:"flex space-x-2 mt-2",children:[(0,C.jsx)("input",{title:f.min||"Min Length",type:"number",placeholder:f.min,value:c.data.min||"",onChange:e=>v("min",e.target.value),onClick:N,className:"nodrag w-1/2 p-1 border border-gray-600 bg-gray-700 text-white rounded",maxLength:13}),(0,C.jsx)("input",{title:f.max||"Max Length",type:"number",placeholder:f.max,value:c.data.max||"",onClick:N,onChange:e=>v("max",e.target.value),className:"nodrag w-1/2 p-1 border border-gray-600 bg-gray-700 text-white rounded",maxLength:13})]}),[m.DATE,m.DATETIME,m.TIME].includes(c.data.fieldType)&&(0,C.jsxs)("div",{className:"flex flex-col gap-2 mt-2",children:[(0,C.jsx)(Ae.V,{tooltip:f.min||"Min",tooltipOptions:{position:"top"},showIcon:!0,placeholder:f.min||"Min",minDate:x,maxDate:b,value:c.data.min||null,onFocus:N,onChange:e=>v("min",e.value),showTime:c.data.fieldType!==m.DATE,className:"nodrag w-full p-1 border border-gray-600 bg-gray-700 text-white rounded small-calendar",timeOnly:m.TIME===c.data.fieldType,autoZIndex:!0,footerTemplate:E,showButtonBar:!0}),(0,C.jsx)(Ae.V,{tooltip:f.max||"Max",tooltipOptions:{position:"top"},showIcon:!0,placeholder:f.max||"Max",minDate:c.data.min||x,maxDate:b,value:c.data.max||null,onFocus:N,onChange:e=>v("max",e.value),showTime:c.data.fieldType!==m.DATE,className:"nodrag w-full p-1 border border-gray-600 bg-gray-700 text-white rounded",timeOnly:m.TIME===c.data.fieldType,autoZIndex:!0,footerTemplate:E,showButtonBar:!0})]}),c.data.fieldType===m.CUSTOM&&(0,C.jsxs)(C.Fragment,{children:[(0,C.jsx)("input",{title:"Custom Expression",type:"text",placeholder:f.min||"Custom Expression",value:c.data.custom||"",onClick:N,onBlur:e=>((e,o)=>{let t="";"message"!==e||o.trim()||(t="Message is required."),"custom"!==e||c.data.fieldType!==m.CUSTOM||o.trim()||(t="Regex pattern is required for custom type."),j((o=>({...o,[e]:t})))})("custom",e.target.value),onChange:e=>v("custom",e.target.value),className:"nodrag w-full p-1 border border-gray-600 bg-gray-700 text-white rounded mt-2"}),w.error&&(0,C.jsx)("small",{className:"text-red-500",children:w.fieldType})]}),c.data.errors&&(null===(l=Object.keys(c.data.errors))||void 0===l?void 0:l.length)>0&&c.data.errors.answer&&(0,C.jsx)("small",{className:"text-red-500",children:c.data.errors.answer})]})]})]}),(0,C.jsx)(a.h7,{id:"target",type:"target",position:a.yX.Top,className:"w-2 h-2 bg-white border-none"}),(0,C.jsx)(a.h7,{id:"source",type:"source",position:a.yX.Bottom,className:"w-2 h-2 bg-white border-none"})]})},He=(0,s.memo)(Pe);var Be=t(32026);const ze=e=>{let{paramsData:o,save:t,close:r}=e;const[a,i]=(0,s.useState)(o),[l,d]=(0,s.useState)({});(0,s.useEffect)((()=>{i(o)}),[o]);const n=(e,o)=>{const{name:t,value:s}=e.target,r=[...a];r[o]={...r[o],[t]:s},i(r)},c=(e,o,t)=>{const s=f(e,o);d((o=>({...o,[`${e}-${t}`]:s})))},p=()=>(0,C.jsx)("button",{title:"Delete Question Node",className:"w-full text-white bg-red-500 hover:bg-red-700 rounded flex items-center justify-center",onClick:()=>y(),children:"Close"}),y=()=>{let e=document.querySelector(".p-datepicker");e&&(e.style.visibility="hidden")};return(0,C.jsxs)("div",{className:"flow-node fixed inset-0 flex flex-col bg-gray-900 text-white",children:[(0,C.jsx)("div",{className:"fixed top-0 left-0 right-0 bg-gray-800 text-white shadow-md z-10",children:(0,C.jsxs)("div",{className:"modal-header px-4 py-2 flex justify-between items-center",children:[(0,C.jsx)("h5",{className:"modal-title text-lg font-bold",children:"HTTP Params"}),(0,C.jsx)("button",{type:"button",className:"px-3 py-1 bg-red-600 text-white rounded hover:bg-red-700 text-xl font-extrabold",title:"Close popup",onClick:r,children:"\xd7"})]})}),(0,C.jsxs)("div",{className:"overflow-y-auto p-4 mt-16 mb-20",children:[(0,C.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4 bg-gray-800 mb-2 py-2",children:[(0,C.jsx)("div",{className:"min-w-[200px] px-4 rounded ",children:(0,C.jsx)("div",{className:"form-group",children:(0,C.jsx)("label",{className:"text-white font-bold",children:"Key"})})}),(0,C.jsx)("div",{className:"min-w-[200px] px-4 rounded",children:(0,C.jsx)("div",{className:"form-group",children:(0,C.jsx)("label",{className:"text-white font-bold",children:"Value Type"})})}),(0,C.jsx)("div",{className:"min-w-[200px] px-4 bg-gray-800 rounded",children:(0,C.jsx)("div",{className:"form-group",children:(0,C.jsx)("label",{className:"text-white font-bold",children:"Value"})})}),(0,C.jsx)("div",{className:"min-w-[200px] px-4 bg-gray-800 rounded flex justify-end",children:(0,C.jsx)("div",{className:"form-group",children:(0,C.jsx)("label",{className:"text-white font-bold",children:"Delete"})})})]}),a.map(((e,o)=>(0,C.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4 mb-2 bg-gray-800",children:[(0,C.jsx)("div",{className:"min-w-[200px] px-4 py-2 shadow-md rounded ",children:(0,C.jsxs)("div",{className:"form-group",children:[(0,C.jsx)("input",{title:"Param Key",placeholder:"Param Key",type:"text",maxLength:50,className:"w-full px-2 py-1 border border-gray-600 bg-gray-700 text-white rounded",name:"key",value:e.key,onChange:e=>n(e,o),onBlur:e=>c("key",e.target.value,o)}),l[`key-${o}`]&&(0,C.jsx)("small",{className:"text-red-500",children:l[`key-${o}`]})]})}),(0,C.jsx)("div",{className:"min-w-[200px] px-4 py-2 shadow-md rounded",children:(0,C.jsxs)("div",{className:"form-group",children:[(0,C.jsxs)("select",{title:"Value Type",value:e.valueType,onChange:e=>n(e,o),className:"w-full p-1 border border-gray-600 bg-gray-700 text-white rounded",name:"valueType",children:[(0,C.jsx)("option",{value:"",children:"Select Value Type"}),u.map((e=>(0,C.jsx)("option",{value:e.toLowerCase(),children:e.charAt(0).toUpperCase()+e.slice(1)},e)))]}),l[`valueType-${o}`]&&(0,C.jsx)("small",{className:"text-red-500",children:l[`valueType-${o}`]})]})}),(0,C.jsx)("div",{className:"min-w-[200px] px-4 py-2 shadow-md bg-gray-800 rounded",children:(0,C.jsxs)("div",{className:"form-group",children:[(!e.valueType||"date"!==e.valueType&&"number"!==e.valueType)&&(0,C.jsx)("input",{title:"Param Value",placeholder:"Param Value",type:"text",maxLength:50,className:"w-full px-2 py-1 border border-gray-600 bg-gray-700 text-white rounded",name:"value",value:e.value,onChange:e=>n(e,o),onBlur:e=>c("value",e.target.value,o)}),e.valueType&&"number"===e.valueType&&(0,C.jsx)("input",{title:"Param Value",placeholder:"Param Value",type:"number",maxLength:50,className:"appearance-none w-full px-2 py-1 border border-gray-600 bg-gray-700 text-white rounded",name:"value",value:e.value,onChange:e=>n(e,o),onBlur:e=>c("value",e.target.value,o),style:{MozAppearance:"textfield"}}),e.valueType&&("date"===e.valueType||"time"===e.valueType)&&(0,C.jsx)(Ae.V,{tooltipOptions:{position:"top"},showIcon:!0,placeholder:"Date",value:e.value||null,onChange:e=>n(e,o),showTime:e.valueType!==m.DATE,className:"nodrag w-full p-1 border border-gray-600 bg-gray-700 text-white rounded",timeOnly:m.TIME===e.valueType,autoZIndex:!0,footerTemplate:p,showButtonBar:!0}),l[`value-${o}`]&&(0,C.jsx)("small",{className:"text-red-500",children:l[`value-${o}`]})]})}),(0,C.jsx)("div",{className:"min-w-[200px] px-4 py-2 shadow-md bg-gray-800 rounded flex justify-end items-center",children:a.length>1&&(0,C.jsx)("button",{type:"button",className:"text-white bg-red-500 hover:bg-red-700 rounded-full h-6 w-6 flex items-center justify-center text-xl font-bold",onClick:e=>{e.stopPropagation(),(e=>{i((o=>o.filter(((o,t)=>t!==e))))})(o)},children:"\xd7"})})]},o))),(0,C.jsxs)("button",{className:"ml-1 px-3 py-1 font-semibold text-white btn-primary-custom rounded flex items-center",onClick:()=>{i((e=>[...e,{key:"",valueType:"",value:""}]))},children:[(0,C.jsx)("svg",{className:"w-5 h-5 mr-2 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:(0,C.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M12 4v16m8-8H4"})}),"Add"]})]}),(0,C.jsx)("div",{className:"fixed bottom-0 left-0 right-0 bg-gray-800 text-white shadow-md",children:(0,C.jsxs)("div",{className:"modal-footer py-2 px-4 flex justify-start gap-2",children:[(0,C.jsxs)("button",{type:"button",className:"flex items-center justify-center px-4 py-2 font-semibold text-white btn-primary-custom rounded",onClick:()=>{t(a)},children:[(0,C.jsx)("svg",{className:"w-6 h-6 text-white cursor-pointer hover:text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:(0,C.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M17 21H7a2 2 0 01-2-2V5a2 2 0 012-2h10a2 2 0 012 2v14a2 2 0 01-2 2zM7 3v4a1 1 0 001 1h8a1 1 0 001-1V3M7 10h10v11H7V10z"})}),"Save"]}),(0,C.jsx)("button",{type:"button",className:"flex items-center justify-center px-4 py-2 font-semibold text-white btn-primary-custom rounded",onClick:()=>{t(a),r()},children:"Save & Close"})]})})]})},qe=(0,s.memo)(ze),Re=e=>{var o,t;let{id:r,data:i}=e;const{node:l,onDelete:d,handleChange:n,setNodes:m,nodes:u}=i,[p,y]=(0,s.useState)({...l.data}),[g,h]=(0,s.useState)(!1),w=()=>{m(u.map((e=>({...e,selected:!1}))))},j=(e,o)=>{delete l.data.errors;const t={...l.data,[e]:o};y(t),n(l.id,t)},x=()=>h(!1);return(0,C.jsxs)(C.Fragment,{children:[(0,C.jsxs)("div",{className:"flow-node bg-gray-800 text-white rounded-md shadow-lg "+(null!==(o=l.data)&&void 0!==o&&o.errors&&Object.keys(l.data.errors).length?"error-in-node":""),children:[(0,C.jsxs)("div",{className:"flex justify-between items-center border-b py-1 px-2 border-b-4 border-indigo-500",children:[(0,C.jsx)("h3",{className:"text-sm font-semibold",children:"HTTP Node"}),(0,C.jsx)("button",{title:"Delete Node",className:"text-white bg-red-500 hover:bg-red-700 rounded-full h-6 w-6 flex items-center justify-center text-xl font-extrabold",onClick:()=>d(r),children:"\xd7"})]}),(0,C.jsxs)("div",{className:"py-2 px-2",children:[(0,C.jsx)("div",{className:"mb-2",title:"Property Name",children:(0,C.jsx)("input",{type:"text",placeholder:"Property Name",value:p.property,onClick:w,onChange:e=>j("property",e.target.value),className:"nodrag w-full p-1 border border-gray-600 bg-gray-700 text-white rounded"})}),(0,C.jsx)("div",{className:"mb-2",title:"Display Text",children:(0,C.jsx)("input",{type:"text",placeholder:"Display Text",value:p.displayText,onClick:w,onChange:e=>j("displayText",e.target.value),className:"nodrag w-full p-1 border border-gray-600 bg-gray-700 text-white rounded"})}),(0,C.jsx)("div",{className:"mb-2",title:"URL",children:(0,C.jsx)("input",{type:"text",placeholder:"URL",value:p.url,onClick:w,onChange:e=>j("url",e.target.value),className:"nodrag w-full p-1 border border-gray-600 bg-gray-700 text-white rounded"})}),(0,C.jsx)("div",{className:"mb-2",children:(0,C.jsxs)("select",{title:"Request Type",value:p.requestType,onClick:w,onChange:e=>{delete l.data.errors;const o=e.target.value;j("requestType",o)},className:"nodrag w-full p-1 border border-gray-600 bg-gray-700 text-white rounded",children:[(0,C.jsx)("option",{value:"",children:"Select Request Type"}),c.map((e=>(0,C.jsx)("option",{value:e,children:e.charAt(0).toUpperCase()+e.slice(1)},e)))]})}),p.params.map(((e,o)=>{var t,s,r,a;return(0,C.jsx)("div",{className:"bg-gray-700 text-white rounded-md mt-2 mb-2 px-2 py-0.5 border border-gray-400 rounded-md",style:{padding:"2px 10px",border:"1px solid grey",borderRadius:"4px"},children:(0,C.jsxs)("div",{className:"flex justify-between items-center cursor-pointer grow",title:e.key||e.valueType||e.value?`${e.key} - ${null!==(t=e.valueType)&&void 0!==t?t:""} - ${null!==(s=e.value)&&void 0!==s?s:""}`:"HTTP Request Param",children:[(0,C.jsx)("div",{className:"flex justify-between items-center grow min-w-0",children:(0,C.jsxs)("div",{className:"flex min-w-0",children:[(0,C.jsxs)("svg",{onClick:()=>{h(!0)},className:"min-w-4 w-4 h-4 mr-2 text-blue-300 cursor-pointer hover:text-white",fill:"none",stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",viewBox:"0 0 24 24",width:"24",xmlns:"http://www.w3.org/2000/svg",children:[(0,C.jsx)("path",{d:"M11 4H4a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7"}),(0,C.jsx)("path",{d:"M18.5 2.5a2.121 2.121 0 0 1 3 3L12 15l-4 1 1-4 9.5-9.5z"})]}),(0,C.jsx)("strong",{className:"text-sm grow min-w-0 whitespace-nowrap overflow-hidden text-ellipsis",children:e.key||e.valueType||e.value?`${e.key} - ${null!==(r=e.valueType)&&void 0!==r?r:""} - ${null!==(a=e.value)&&void 0!==a?a:""}`:"Param"})]})}),p.params.length>1&&(0,C.jsx)("div",{children:(0,C.jsx)("button",{type:"button",className:"text-white bg-red-500 hover:bg-red-700 rounded-full min-w-4 h-6 w-6 text-xl font-semibold pt-px flex items-center justify-center ml-2 w-[25px] w-[25px]",onClick:e=>{e.stopPropagation(),(e=>{var o;delete l.data.errors;const t=null===(o=p.params)||void 0===o?void 0:o.filter(((o,t)=>t!==e)),s={...p,params:t};y(s),n(l.id,s)})(o)},children:"\xd7"})})]})},o)})),(0,C.jsxs)("button",{className:"flex px-2 py-1 text-xs font-semibold text-white btn-primary-custom rounded items-center mb-2",onClick:()=>{delete l.data.errors;const e={...p,params:[...p.params||[],{key:"",valueType:"",value:""}]};y(e),n(l.id,e),h(!0)},children:[(0,C.jsx)("svg",{className:"w-3 h-3 text-white font-semibold cursor-pointer hover:text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:(0,C.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M12 4v16m8-8H4"})}),"Add Param"]}),(0,C.jsxs)("div",{className:"grid grid-cols-10 gap-2 mb-2 px-1 py-1 border border-gray-400 rounded-md relative",children:[(0,C.jsx)("div",{className:"col-span-10",title:"Success",children:(0,C.jsx)("input",{readOnly:!0,type:"text",value:"Success",onClick:w,className:"nodrag w-full p-1 border border-gray-600 bg-gray-700 text-white rounded capitalize"})}),(0,C.jsx)(a.h7,{type:"source",position:a.yX.Right,id:p.successFlowId})]}),(0,C.jsxs)("div",{className:"grid grid-cols-10 gap-2 mb-2 px-1 py-1 border border-gray-400 rounded-md relative",children:[(0,C.jsx)("div",{className:"col-span-10",title:"Fail",children:(0,C.jsx)("input",{readOnly:!0,type:"text",value:"Fail",onClick:w,className:"nodrag w-full p-1 border border-gray-600 bg-gray-700 text-white rounded capitalize"})}),(0,C.jsx)(a.h7,{type:"source",position:a.yX.Right,id:p.failureFlowId})]}),null===(t=p.statusWiseFlow)||void 0===t?void 0:t.map(((e,o)=>(0,C.jsxs)("div",{className:"grid grid-cols-12 gap-2 mb-2 px-1 py-1 border border-gray-400 rounded-md relative",children:[(0,C.jsx)("div",{className:"col-span-10",title:"Fail Status Message",children:(0,C.jsx)("input",{type:"text",placeholder:"Status Message",value:e.statusCode,onClick:w,onChange:e=>((e,o,t)=>{delete l.data.errors;const{statusWiseFlow:s,...r}=l.data;s[e][o]=t;const a={...r,statusWiseFlow:s};y(a),n(l.id,a)})(o,"statusCode",e.target.value),className:"nodrag w-full p-1 border border-gray-600 bg-gray-700 text-white rounded capitalize"})}),(0,C.jsx)("div",{className:"col-span-2",title:"Delete",children:(0,C.jsx)("button",{type:"button",className:"text-white bg-red-500 hover:bg-red-700 rounded-full min-w-4 h-6 w-6 text-xl font-semibold pt-px flex items-center justify-center w-[25px] w-[25px]",onClick:e=>{e.stopPropagation(),(e=>{var o;delete l.data.errors;const t=null===(o=p.statusWiseFlow)||void 0===o?void 0:o.filter(((o,t)=>t!==e)),s={...p,statusWiseFlow:t};y(s),n(l.id,s)})(o)},children:"\xd7"})}),(0,C.jsx)(a.h7,{type:"source",position:a.yX.Right,id:e.id})]},o))),(0,C.jsxs)("button",{className:"flex px-2 py-1 text-xs font-semibold text-white btn-primary-custom rounded items-center mb-2",onClick:()=>{delete l.data.errors;const e={id:(0,Be.OX)(),statusCode:""},o={...p,statusWiseFlow:[...p.statusWiseFlow||[],e]};y(o),n(l.id,o)},children:[(0,C.jsx)("svg",{className:"w-3 h-3 text-white font-semibold cursor-pointer hover:text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:(0,C.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M12 4v16m8-8H4"})}),"Add More Status"]})]}),(0,C.jsx)(a.h7,{type:"target",position:a.yX.Top,id:r})]}),(0,C.jsx)(Fe.l,{header:"Edit HTTP Params",visible:g,style:{width:"600px"},onHide:x,children:(0,C.jsx)(qe,{save:e=>{delete l.data.errors;const o={...p,params:e};y(o),n(l.id,o)},paramsData:p.params||[],close:x})})]})},We=(0,s.memo)(Re);function Ue(e){let{id:o,sourceX:t,sourceY:s,targetX:r,targetY:i,sourcePosition:l,targetPosition:d,style:n={}}=e;const{setEdges:m}=(0,a.VH)(),[c,u,p]=(0,a.oN)({sourceX:t,sourceY:s,sourcePosition:l,targetX:r,targetY:i,targetPosition:d});return(0,C.jsxs)(C.Fragment,{children:[(0,C.jsx)("svg",{style:{position:"absolute"},children:(0,C.jsx)("defs",{children:(0,C.jsx)("marker",{id:"arrowhead",viewBox:"0 0 10 10",refX:"10",refY:"5",markerWidth:"6",markerHeight:"6",orient:"auto",children:(0,C.jsx)("path",{d:"M 0 0 L 10 5 L 0 10 z",fill:"#ff0073"})})})}),(0,C.jsx)(a.tE,{path:c,markerEnd:"url(#arrowhead)",style:n}),(0,C.jsx)(a.rV,{children:(0,C.jsx)("div",{style:{position:"absolute",transform:`translate(-50%, -50%) translate(${u}px,${p}px)`,fontSize:12,pointerEvents:"all"},className:"nodrag nopan",children:(0,C.jsx)("button",{className:"w-4 h-4 bg-gray-300 border border-gray-500 rounded-full text-xs font-bold text-gray-800 flex items-baseline justify-center hover:bg-red-600 hover:border-red-700 hover:text-white hover:shadow-md",onClick:()=>{m((e=>e.filter((e=>e.id!==o))))},children:"\xd7"})})})]})}const Ve=e=>{let{flowList:o,value:t,onChange:r}=e;(0,s.useEffect)((()=>{if(!t&&null!==o&&void 0!==o&&o.length){const e=o.find((e=>e.label.includes("Draft")));e&&r(e.value)}}),[t,o,r]);return(0,C.jsxs)("div",{className:"pb-3",children:[(0,C.jsx)("label",{htmlFor:"dropdown",className:"text-xs",children:"Flows"}),(0,C.jsxs)("select",{id:"dropdown",className:"border w-full","aria-label":"Select Draft or Version to View and Modify",onChange:e=>r(e.target.value),value:t||"",children:[(0,C.jsx)("option",{value:"",children:"Select a flow"}),null===o||void 0===o?void 0:o.map((e=>(0,C.jsx)("option",{value:e.value,children:e.label},e.value)))]})]})},Xe=(0,s.memo)(Ve),_e=e=>{let{onDragStart:o,clearFlow:t,onSave:s,errors:r,nodes:a,flowList:i,onFlowSelectionChange:l,onDelete:d,flowId:n,isSaveDisabled:m}=e;return(0,C.jsxs)(C.Fragment,{children:[(0,C.jsxs)("div",{className:"flow-tools",children:[(0,C.jsx)("button",{className:"button",onDragStart:e=>o(e,"message"),draggable:!0,children:"Message"}),(0,C.jsx)("button",{className:"button",onDragStart:e=>o(e,"options"),draggable:!0,children:"Options"}),(0,C.jsx)("button",{className:"button",onDragStart:e=>o(e,"leadForm"),draggable:!0,children:"Lead Form"}),(0,C.jsx)("button",{className:"button",onDragStart:e=>o(e,"file"),draggable:!0,children:"File"}),(0,C.jsx)("button",{className:"button",onDragStart:e=>o(e,"map"),draggable:!0,children:"Maps"}),(0,C.jsx)("button",{className:"button",onDragStart:e=>o(e,"question"),draggable:!0,children:"Question"}),(0,C.jsx)("button",{className:"button",onDragStart:e=>o(e,"http"),draggable:!0,children:"HTTP"}),(0,C.jsx)("button",{className:"button",onDragStart:e=>o(e,"gpt"),draggable:!0,children:"GPT Handler"}),(0,C.jsx)("button",{className:"button",onDragStart:e=>o(e,"stop"),draggable:!0,children:"Stop"})]}),(0,C.jsxs)("div",{className:"flow-actions",children:[(0,C.jsx)(Xe,{flowList:i,onChange:l,value:n}),(0,C.jsx)("button",{disabled:m,className:"px-2 py-2 bg-green-500 hover:bg-green-700 text-white font-bold rounded items-center text-center",onClick:()=>s(),children:"Save"}),(0,C.jsx)("button",{disabled:Object.keys(r).length>0||a.length<2,className:"px-2 py-2 bg-blue-500 hover:bg-blue-700 text-white font-bold rounded items-center text-center",onClick:()=>s(!0),children:"Deploy"}),(0,C.jsx)("button",{disabled:a.length<2,title:"Clear Board - Will delete all Nodes and Edges",className:"text-white bg-red-500 hover:bg-red-700 rounded h-8 w-8 flex items-center justify-center",onClick:()=>t(),children:"Clear"}),(0,C.jsx)("button",{disabled:!n,title:"Delete Flow",className:"text-white bg-red-500 hover:bg-red-700 rounded h-8 w-8 flex items-center justify-center hidden",onClick:()=>d(n),children:"Delete"})]})]})},Qe=s.memo(_e),Ge=(e,o)=>{const t=o.find((o=>o.sourceHandle===e));return(null===t||void 0===t?void 0:t.target)||""},Je=(e,o)=>"number"===e?Number(o):"date"===e?new Date(e):o;var Ye=t(28535);const Ze=e=>{let{onAccept:o,onReject:t}=e;return(0,C.jsxs)("div",{className:"flex justify-end space-x-2",children:[(0,C.jsx)("button",{className:"text-white px-2 bg-green-500 hover:bg-green-700 rounded h-8 flex items-center justify-center",onClick:t,children:"No"}),(0,C.jsx)("button",{className:"text-white bg-red-500 px-2 hover:bg-red-700 rounded h-8 flex items-center justify-center",onClick:o,autoFocus:!0,children:"Yes"})]})},Ke=e=>{let{flowData:o,flowList:t,onSave:r,onVersionSelected:d,onDelete:n}=e;const m=(0,s.useMemo)((()=>({start:z,message:F,options:$e,leadForm:I,leadFlow:$,gpt:P,stop:H,file:se,map:ae,question:He,http:We})),[]),c=(0,s.useMemo)((()=>({custom:Ue})),[]),[u,p]=(0,s.useState)([]),[y,x]=(0,s.useState)([]),[b,f]=(0,s.useState)({}),[T,E]=(0,s.useState)(!0),[O,S]=(0,s.useState)(!1),M=(0,s.useRef)(null),L=(0,s.useRef)(!1),D=()=>{f({})};(0,s.useEffect)((()=>{L.current&&o&&(L.current=!1,M.current&&M.current.show({severity:"success",summary:"Chatbot Flow",detail:"Chatbot Flow Design has been saved successfully",life:5e3}));const{flowNodes:e,flowEdges:t}=ce(o);p(e),x(t)}),[o]),(0,s.useEffect)((()=>{E(u.length<2||Object.keys(b).length>0)}),[u,b,y]);const A=(0,s.useCallback)((e=>{D(),p((o=>(0,a._0)(e,o)))}),[]),B=(0,s.useCallback)((e=>{D(),x((o=>(0,a.zW)(e,o)))}),[]),q=e=>{D(),x((o=>(0,a.zW)(e,o)))},R=(0,s.useCallback)((e=>{e.preventDefault(),e.dataTransfer.dropEffect="move"}),[]),W=(0,s.useCallback)((e=>{if(D(),e.preventDefault(),!e.dataTransfer.getData("application/reactflow"))return;const o=(e=>{const o=e.currentTarget.getBoundingClientRect(),t=e.dataTransfer.getData("application/reactflow"),s={x:e.clientX-o.left,y:e.clientY-o.top};return{id:me(),type:t,position:s,data:{message:""},..."options"===t&&{data:{fieldLabel:"",property:"",message:"",fallback:"",subOptions:[{id:me(),title:"",subTitle:"",value:"",leadEmailTo:"",leadEmailCc:[],category:"",isCollapsed:!0}]}},..."file"===t&&{data:{message:"",fileType:"pdf",urls:[],files:[]}},..."map"===t&&{data:{message:"",url:""}},..."leadForm"===t&&{data:{message:"This will display lead form for the visitor"}},..."gpt"===t&&{data:{message:"From here on visitors would be handled by GPT"}},..."question"===t&&{data:{message:"",fieldLabel:"",property:"",type:"",meta:{min:"",max:"",regex:""}}},..."http"===t&&{data:{propertyName:"",displayText:"",url:"",requestType:"",params:[{key:"",valueType:"",value:""}],successFlowId:me(),failureFlowId:me(),statusWiseFlow:[]}}}})(e);p((e=>e.concat(o)))}),[]),U=(0,s.useCallback)((e=>{D(),p((o=>o.filter((o=>o.id!==e)))),x((o=>o.filter((o=>o.source!==e&&o.target!==e))))}),[]),V=(0,s.useCallback)((e=>{if("Delete"===e.key){const e=u.filter((e=>e.selected)),o=y.filter((e=>e.selected));e.length>0&&(U(e[0].id),x((o=>o.filter((o=>!e.some((e=>e.id===o.source||e.id===o.target))))))),o.length>0&&x((e=>e.filter((e=>!o.includes(e)))))}}),[u,y,U]),X=(0,s.useCallback)((e=>{D(),x(e.reduce(((e,o)=>{const t=(0,a.FB)(o,u,y),s=(0,a.RM)(o,u,y),r=(0,a.AX)([o],y);return[...e.filter((e=>!r.includes(e))),...t.flatMap((e=>{let{id:o}=e;return s.map((e=>{let{id:t}=e;return{id:`${o}->${t}`,source:o,target:t}}))}))]}),y))}),[u,y]),_=e=>{if(u.length<2){const e={MinNodes:"Minimum 2 nodes required for a valid flow"};return f(e),!1}let t={};for(const o of u)if("message"===o.type){const e=g(o.data);t={...t,...e}}else if("options"===o.type){const e=h(o.data);t={...t,...e}}else if("file"===o.type){const e=w(o.data);t={...t,...e}}else if("map"===o.type){const e=j(o.data);t={...t,...e}}else if("question"===o.type){const e=k(o.data);t={...t,...e}}else if("http"===o.type){const e=v(o.data);t={...t,...e}}if(Object.keys(t).length>0){f(t);const e=Object.values(t);return M.current&&M.current.show(e.map((e=>({severity:"error",summary:"Error",detail:e,life:3100})))),p(u),void E(!0)}const s={nodes:u,edges:y},a=(e=>e.map((e=>{let{id:o,type:t,data:s,position:r}=e;return s.subOptions&&(s.subOptions=s.subOptions.map((e=>{const{isCollapsed:o,...t}=e;return t}))),{id:o,type:t,data:s,position:r}})))(u);s.nodes=a;const i=function(e,o){let t=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const s=e.slice(1);let r=[];const a=e.find((e=>"start"===e.type)),i=o.find((e=>e.source===(null===a||void 0===a?void 0:a.id))),l=i?i.target:"",d=s.map((e=>{var t;const s=o.find((o=>o.source===e.id)),a=s?s.target:null,i={flowId:e.id,nextFlowId:"options"!==e.type&&"http"!==e.type?a:"",type:e.type,content:(null===(t=e.data.message)||void 0===t?void 0:t.trim())||""};var l,d,n,m,c;if("options"!==e.type&&"question"!==e.type||(i.fieldLabel=null===(l=e.data.fieldLabel)||void 0===l?void 0:l.trim()),"options"!==e.type&&"question"!==e.type&&"http"!==e.type||(i.property=null===(d=e.data.property)||void 0===d?void 0:d.trim()),"options"===e.type&&(i.meta={fallback:null===(n=e.data.fallback)||void 0===n?void 0:n.trim()}),"file"===e.type){const o=(e=>"application/pdf"===e||"pdf"===e?"pdf":e.startsWith("image/")?"image":e.startsWith("video/")?"video":"unknown")(e.data.fileType);e.data.files.length>0?i.meta={type:o,media:e.data.files.map((e=>{var o,t;return{name:e.name||"Unnamed file",url:(null===(o=e.url)||void 0===o?void 0:o.trim())||"",type:fe(null===(t=e.url)||void 0===t?void 0:t.trim())}}))}:i.meta={type:o,media:e.data.urls.map((e=>({url:(null===e||void 0===e?void 0:e.trim())||"",type:fe(null===e||void 0===e?void 0:e.trim())})))}}if("map"===e.type&&e.data.url&&(i.meta={url:null===(m=e.data.url)||void 0===m?void 0:m.trim()}),"question"===e.type&&("number"!==e.data.fieldType&&"string"!==e.data.fieldType&&"age"!==e.data.fieldType||(i.meta={min:e.data.min?parseInt(e.data.min):e.data.min,max:e.data.max?parseInt(e.data.max):e.data.max,type:e.data.fieldType}),"date"===e.data.fieldType&&(i.meta={min:e.data.min?Te(e.data.min,!0):e.data.min,max:e.data.max?Te(e.data.max,!1,!0):e.data.min,type:e.data.fieldType}),"datetime"===e.data.fieldType&&(i.meta={min:e.data.min?Te(e.data.min):e.data.min,max:e.data.max?Te(e.data.max):e.data.min,type:e.data.fieldType}),"time"===e.data.fieldType&&(i.meta={min:Ce(e.data.min),max:Ce(e.data.max),type:e.data.fieldType}),"custom"===e.data.fieldType&&(i.meta={custom:null===(c=e.data.custom)||void 0===c?void 0:c.trim(),type:e.data.fieldType})),e.data.subOptions&&(i.children=e.data.subOptions.map((e=>{var t,s,r,a,i;const l=o.find((o=>o.sourceHandle===e.id));return{flowId:e.id,title:null===(t=e.title)||void 0===t?void 0:t.trim(),subTitle:null===(s=e.subTitle)||void 0===s?void 0:s.trim(),value:null===(r=e.value)||void 0===r?void 0:r.trim(),category:null===(a=e.category)||void 0===a?void 0:a.trim(),leadEmailTo:null===(i=e.leadEmailTo)||void 0===i?void 0:i.trim(),leadEmailCc:e.leadEmailCc?[...e.leadEmailCc]:[],nextFlowId:l?l.target:void 0}}))),"http"===e.type){if(i.meta={displayText:e.data.displayText,requestType:e.data.requestType,url:e.data.url,successFlowId:Ge(e.data.successFlowId,o),failureFlowId:Ge(e.data.failureFlowId,o)},e.data.params.length>0){const o=e.data.params.map((e=>({key:e.key,valueType:e.valueType,value:Je(e.valueType,e.value)})));i.meta.params=o}if(e.data.statusWiseFlow.length>0){const t=e.data.statusWiseFlow.map((e=>{const t=o.find((o=>o.sourceHandle===e.id));return{statusCode:e.statusCode,flowId:e.id,nextFlowId:t?t.target:void 0}}));i.meta.statusWiseFlowId=t}}return r.push({nodeId:e.id,position:e.position}),i}));return{_id:t._id||"",organizationId:t.organizationId||"",botId:t.botId||"",createdAt:(new Date).toISOString(),version:0,startFlowId:l,flows:d,__v:0,deployedAt:(new Date).toISOString(),modifiedAt:(new Date).toISOString(),positions:r}}(a,y,o);L.current=!0,r(i,e)};return(0,s.useEffect)((()=>{const e=document.getElementById("reactflow-wrap");return e&&e.addEventListener("keydown",V),()=>{e&&e.removeEventListener("keydown",V)}}),[V]),(0,C.jsxs)(Ye.mD,{children:[(0,C.jsxs)("div",{className:"flow-diagram",children:[(0,C.jsx)("div",{id:"reactflow-wrap",className:"reactflow-wrapper",children:(0,C.jsx)("div",{className:"flex flex-col h-full",children:(0,C.jsx)("div",{className:"reactflow-box",onDrop:W,onDragOver:R,children:(0,C.jsx)(a.Ln,{children:(0,C.jsxs)(a.Gc,{nodes:u.map((e=>({...e,data:{node:e,nodes:u,handleChange:(e,o)=>((e,o)=>{D();const t=u.map((t=>t.id===e?{...t,selected:!1,data:{...t.data,...o}}:{...t,selected:!1}));p(t),console.log("updatedNodes",t)})(e,o),onDelete:U,edges:y,updateEdges:q,setNodes:p}}))),edges:y,onNodesChange:A,onEdgesChange:B,onConnect:e=>{D(),x((o=>{const t=o.filter((o=>{const t=o.source===e.source,s=o.sourceHandle===e.sourceHandle;return!t||o.sourceHandle&&!s}));return(0,a.rN)({...e,type:"custom"},t)}))},nodeTypes:m,edgeTypes:c,onNodesDelete:X,children:[(0,C.jsx)(i.H,{}),(0,C.jsx)(l.V,{})]})})})})}),(0,C.jsx)(N.y,{ref:M}),(0,C.jsx)("div",{className:"toolbar",children:(0,C.jsx)(Qe,{onDragStart:(e,o)=>{e.dataTransfer.setData("application/reactflow",o)},clearFlow:()=>{S(!0)},onSave:e=>_(e),errors:b,nodes:u,flowList:t,onFlowSelectionChange:d,flowId:null===o||void 0===o?void 0:o._id,onDelete:()=>{n(o)},flowData:o,isSaveDisabled:T})})]}),(0,C.jsx)(Fe.l,{header:"Confirmation",visible:O,style:{width:"25vw"},onHide:()=>S(!1),footer:(0,C.jsx)(Ze,{onAccept:()=>{let{flowNodes:e}=ce();p([e[0]]),x([]),S(!1)},onReject:()=>S(!1)}),children:(0,C.jsx)("p",{className:"mb-3 text-red",children:"Are you Sure that you want to proceed?"})})]})};var eo=t(47014),oo=t(70855),to=t(46704),so=t(31739),ro=t(4709);const ao=()=>{};const io=function(e){let{flowId:o,flow:t}=e;const[,a]=(0,oo.G)(),[i,l]=s.useState();return s.useEffect((()=>{if(o)return async function(){const e=await(0,r.Jc)(o);l(e)}(),()=>(0,ro.oy)();l(null)}),[o,t]),a?(0,C.jsx)(eo.A,{botDetails:a,botDesign:a.botDesign,startupFlow:i,autoLaunch:!1,recipientId:(0,so.J)(),onReceiveChatResponse:ao,onCallback:so.u}):(0,C.jsx)(to.A,{})};t(73907),t(63363);function lo(){const[e,o]=s.useState(null),[t,a]=s.useState(),[i,l]=s.useState(""),d=s.useRef({flow:t});d.current.flow=t;const n=s.useCallback((()=>{(0,r.Ek)().then((e=>{var t;o(e),l((null===(t=e[0])||void 0===t?void 0:t.value)||"")}))}),[]);s.useEffect(n,[n]),s.useEffect((()=>{var e;i&&(null===(e=d.current.flow)||void 0===e?void 0:e._id)!==i&&(0,r.EO)(i).then(a)}),[i]);const m=s.useCallback((async(e,o)=>{const t=await(0,r.EZ)(e.organizationId,e.botId,e,!0===o);l(t._id),a(t),n()}),[n]),c=s.useCallback((async e=>{await(0,r.C7)(e.organizationId,e.botId,e._id)&&(o(null),l(""),n())}),[n]);return(0,C.jsxs)(C.Fragment,{children:[(0,C.jsx)(Ke,{flowData:t,flowList:e,onSave:m,onVersionSelected:l,onDelete:c}),(0,C.jsx)(io,{flowId:i,flow:t})]})}},28564:(e,o,t)=>{t.d(o,{C7:()=>n,CC:()=>c,EO:()=>a,EZ:()=>d,Ek:()=>m,Gl:()=>i,Jc:()=>l});var s=t(33340),r=t(8478);async function a(e){const{selectedBotId:o,organizationId:t}=s.nc.getState();return await i(t,o,e)}async function i(e,o,t){return await r.Jt(`/bot/${e}/${o}/chat-flow/${t}`)}async function l(e){try{const{selectedBotId:o,organizationId:t}=s.nc.getState(),a=await r.Jt(`/bot/${t}/${o}/chat-flow/${e}/startup`);if("string"===typeof a&&a.startsWith("<"))throw new Error("Invalid JSON response, received HTML");return a}catch(o){return console.error("Error fetching startup with Flow ID:",o),null}}async function d(e,o,t){let a=arguments.length>3&&void 0!==arguments[3]&&arguments[3];const i=s.nc.getState();e||(e=i.organizationId),o||(o=i.selectedBotId);const l=`/bot/${e}/${o}/chat-flow${a?"?deploy=true":""}`;return await r.bE(l,t)}async function n(e,o,t){return await r.TF(`/bot/${e}/${o}/chat-flow/${t}`)}async function m(){const{selectedBotId:e,organizationId:o}=s.nc.getState();return(await r.Jt(`/bot/${o}/${e}/chat-flow`)).map(c).sort(((e,o)=>e.label.includes("Draft")?-1:o.label.includes("Draft")?1:0))}function c(e){return{value:e._id,label:`v${e.version} - ${e.deployedAt?"Deployed":"Draft"}`}}}}]);