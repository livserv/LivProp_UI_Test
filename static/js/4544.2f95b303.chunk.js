"use strict";(self.webpackChunklib_prop_ui=self.webpackChunklib_prop_ui||[]).push([[4544],{32829:(e,t,n)=>{n.d(t,{A:()=>o});var i=n(79875),r=n(44414);function o(e){let{children:t,type:n}=e;return(0,r.jsx)(i.P.div,{whileHover:{scale:1},whileTap:{scale:.9},children:t})}o.defaultProps={type:"scale"}},92728:(e,t,n)=>{n.d(t,{A:()=>s});var i=n(89379),r=n(9950),o=n(48205),a=n(44414);const s=r.forwardRef((function(e,t){return(0,a.jsx)(o.A,(0,i.A)({direction:"up",ref:t},e))}))},15744:(e,t,n)=>{n.d(t,{A:()=>d});var i=n(42074),r=n(24184);const o=n.p+"static/media/logo-dark.d226cf818f1e58f97ab4.png";var a=n(16243),s=n(49556),l=n(33340),c=n(44414);const d=e=>{let{sx:t,to:n}=e;const d=(0,l.C$)((e=>e.defaultId));return(0,c.jsx)(r.A,{disableRipple:!0,component:i.N_,onClick:()=>(0,s.G8)([d]),to:n||a.Ay.defaultPath,sx:t,children:(0,c.jsx)("img",{src:o,alt:"LivServ",width:"100"})})}},51637:(e,t,n)=>{n.d(t,{A:()=>p});var i=n(89379),r=n(80045),o=n(9950),a=n(14857),s=n(48089),l=n(45180),c=n(82053),d=n(50704),u=n(44414);const h=["border","boxShadow","children","content","contentSX","darkTitle","elevation","secondary","shadow","sx","title"],m={p:2.5,"& .MuiCardHeader-action":{m:"0px auto",alignSelf:"center"}},p=(0,o.forwardRef)(((e,t)=>{let{border:n=!0,boxShadow:o,children:p,content:x=!0,contentSX:g={},darkTitle:A,elevation:f,secondary:b,shadow:j,sx:y={},title:v}=e,w=(0,r.A)(e,h);const S=(0,a.A)();return o="dark"===S.palette.mode?o||!0:o,(0,u.jsxs)(s.A,(0,i.A)((0,i.A)({elevation:f||0,ref:t},w),{},{sx:(0,i.A)({border:n?"1px solid":"none",borderRadius:2,borderColor:"dark"===S.palette.mode?S.palette.divider:S.palette.grey.A800,boxShadow:!o||n&&"dark"!==S.palette.mode?"inherit":j||S.customShadows.z1,":hover":{boxShadow:o?j||S.customShadows.z1:"inherit"},"& pre":{m:0,p:"16px !important",fontFamily:S.typography.fontFamily,fontSize:"0.75rem"}},y),children:[!A&&v&&(0,u.jsx)(l.A,{sx:m,titleTypographyProps:{variant:"subtitle1"},title:v,action:b}),A&&v&&(0,u.jsx)(l.A,{sx:m,title:(0,u.jsx)(c.A,{variant:"h3",children:v}),action:b}),x&&(0,u.jsx)(d.A,{sx:g,children:p}),!x&&p]}))}))},26092:(e,t,n)=>{n.d(t,{A:()=>m});n(9950);var i=n(92728),r=n(63464),o=n(40033),a=n(28170),s=n(96319),l=n(59254),c=n(14857),d=n(25333),u=n(44414);const h=(0,l.Ay)(r.A)((e=>{let{theme:t}=e;return{"& .MuiDialogContent-root":{padding:t.spacing(2)},"& .MuiDialogActions-root":{padding:t.spacing(1)},zIndex:11010}}));function m(e){const t=(0,c.A)(),{breakpoints:n}=t,{openPopUpDialog:r,setPopUpDialog:l,setFieldsValues:m,onClose:p=()=>(l(!1),null===m||void 0===m?void 0:m({})),title:x,width:g="70%"}=e;return(0,u.jsxs)(h,{TransitionComponent:i.A,"aria-labelledby":"customized-dialog-title",open:r,PaperProps:{sx:{width:{width:g},[n.down("sm")]:{width:"90%"}}},children:[(0,u.jsx)(o.A,{sx:{m:0,p:2},id:"customized-dialog-title",children:x}),(0,u.jsx)(d.A,{"aria-label":"close",onClick:p,sx:{position:"absolute",right:8,top:8},children:(0,u.jsx)(s.A,{})}),(0,u.jsx)(a.A,{dividers:!0,children:e.children})]})}},16243:(e,t,n)=>{n.d(t,{Ay:()=>i,Y7:()=>r});const i={defaultPath:"/dashboard/default",fontFamily:"'Public Sans', sans-serif",i18n:"en",miniDrawer:!1,container:!0,mode:"light",presetColor:"default",themeDirection:"ltr"},r=260},93383:(e,t,n)=>{n.d(t,{A:()=>d});var i=n(89379),r=n(80045),o=n(9950),a=n(10226),s=n(46639),l=n(44414);const c=["onClick","disabled","isLoading","children"];const d=function(e){let{onClick:t,disabled:n,isLoading:d,children:u}=e,h=(0,r.A)(e,c);const[m,p]=o.useState(d);return(0,l.jsxs)(a.A,(0,i.A)((0,i.A)({onClick:e=>{if(!t)return;const n=t(e);"function"===typeof(null===n||void 0===n?void 0:n.finally)&&(p(!0),n.finally((()=>p(!1))))},disabled:m||d||n},h),{},{children:[(m||d)&&(0,l.jsx)(s.A,{size:16,color:"primary",style:{marginRight:"10px"}}),u]}))}},6832:(e,t,n)=>{n.r(t),n.d(t,{default:()=>Bt});var i=n(9950),r=n(28429),o=n(14857),a=n(72930),s=n(78317),l=n(83239),c=n(71525),d=n(81616),u=n(89379),h=n(59254);const m=(0,h.Ay)(s.A,{shouldForwardProp:e=>"open"!==e})((e=>{let{theme:t,open:n}=e;return(0,u.A)((0,u.A)({},t.mixins.toolbar),{},{display:"flex",alignItems:"center",justifyContent:n?"flex-start":"center",paddingLeft:t.spacing(n?3:0)})}));var p=n(15744),x=n(44414);const g=e=>{let{open:t}=e;const n=(0,o.A)();return(0,x.jsx)(m,{theme:n,open:t,children:(0,x.jsx)(d.A,{direction:"row",spacing:1,alignItems:"center",children:(0,x.jsx)(p.A,{})})})};var A=n(82053),f=n(249),b=n(33340),j=n(42074),y=n(70855),v=n(84707),w=n(14195),S=n(83563),z=n(25277),C=n(99779),P=n(96319),_=n(49556),E=n(53065);const I=e=>{let{item:t,level:n,urlPrefix:a}=e;const s=(0,o.A)(),{pathname:l}=(0,r.zy)(),c=(0,b.C$)((e=>e.drawerOpen)),d=(0,b.C$)((e=>e.openItem));let h="_self";t.target&&(h="_blank");let m={component:(0,i.forwardRef)(((e,n)=>(0,x.jsx)(j.N_,(0,u.A)((0,u.A)({ref:n},e),{},{to:"".concat(a||"").concat(t.url),target:h}))))};null!==t&&void 0!==t&&t.external&&(m={component:"a",href:t.url,target:h});const p=t.icon,g=!!t.icon&&(0,x.jsx)(p,{style:{fontSize:c?"1rem":"1.25rem"}}),f=d.findIndex((e=>e===t.id))>-1;(0,i.useEffect)((()=>{l.includes(t.url)&&(0,_.G8)([t.id])}),[l]);const[I,N]=(0,y.G)(),k=null===N||void 0===N?void 0:N.conversationMedia,T=null===N||void 0===N?void 0:N.trainingMedia,O=(0,b.nc)((e=>e.kbDocs));let D=0;void 0!==O&&(D=O[I]?O[I].length:0);const R={conversationMedia:{status:k&&k.length>0,successMessage:"Conversation media added",failureMessage:"Conversation media not added"},training:{status:T&&T.length>0,successMessage:"Training documents added",failureMessage:"Training documents not added"},cannedResponse:{status:D>0,successMessage:"FAQ content added",failureMessage:"FAQ content not available"}},M="text.primary",F="primary.main";return(0,x.jsxs)(v.A,(0,u.A)((0,u.A)({className:"btn-menu-item"},m),{},{disabled:t.disabled,onClick:()=>{return e=t.id,void(0,_.G8)([e]);var e},selected:f,sx:(0,u.A)((0,u.A)({zIndex:1201,pl:c?"".concat(28*n,"px"):1.5,py:c||1!==n?1:1.25},c&&{"&:hover":{bgcolor:"primary.lighter"},"&.Mui-selected":{bgcolor:"primary.lighter",borderRight:"2px solid ".concat(s.palette.primary.main),color:F,"&:hover":{color:F,bgcolor:"primary.lighter"}}}),!c&&{"&:hover":{bgcolor:"transparent"},"&.Mui-selected":{"&:hover":{bgcolor:"transparent"},bgcolor:"transparent"}}),children:[g&&(0,x.jsx)(w.A,{sx:(0,u.A)((0,u.A)({minWidth:28,color:f?F:M},!c&&{borderRadius:1.5,width:36,height:36,alignItems:"center",justifyContent:"center","&:hover":{bgcolor:"secondary.lighter"}}),!c&&f&&{bgcolor:"primary.lighter","&:hover":{bgcolor:"primary.lighter"}}),children:g}),(c||!c&&1!==n)&&(0,x.jsx)(S.A,{primary:(0,x.jsx)(A.A,{variant:"h6",sx:{color:f?F:M},children:t.title})}),R[t.id]&&(0,x.jsx)(z.A,{style:{backgroundColor:"transparent"},icon:R[t.id].status?(0,x.jsx)(E.A,{title:R[t.id].successMessage,children:(0,x.jsx)(C.A,{style:{color:"#33cc33",marginRight:-10}})}):(0,x.jsx)(E.A,{title:R[t.id].failureMessage,children:(0,x.jsx)(P.A,{style:{color:"#ff0000",marginRight:-10}})})})]}))},N=e=>{var t;let{item:n,urlPrefix:i,settings:r}=e;const o=(0,b.C$)((e=>e.drawerOpen)),a=null===(t=n.children)||void 0===t?void 0:t.map((e=>"item"===e.type?e.displayProp&&!0===(null===r||void 0===r?void 0:r[e.displayProp])?null:(0,x.jsx)(I,{item:e,level:1,urlPrefix:i},e.id):(0,x.jsx)(A.A,{variant:"h6",color:"error",align:"center",children:"Fix - Group Collapse or Items"},e.id)));return(0,x.jsx)(f.A,{subheader:n.title&&o&&(0,x.jsx)(s.A,{sx:{pl:3,mb:1.5},children:(0,x.jsx)(A.A,{variant:"subtitle2",color:"textSecondary",children:n.title})}),sx:{mb:o?1.5:0,py:0,zIndex:0},children:a})};var k=n(39742),T=n(66276),O=n(58939),D=n(24258),R=n(90125);const M={FileWordOutlined:k.A,SettingOutlined:T.A,VideoCameraAddOutlined:O.A,BgColorsOutlined:D.A,WechatOutlined:R.A},F={id:"botDetails",title:"Bot Configuration",type:"group",children:[{id:"training",title:"Training Documents",type:"item",url:"/training-documents",displayProp:"hideTrainingTab",icon:M.FileWordOutlined},{id:"settings",title:"Settings",type:"item",url:"/settings",displayProp:"hideSettingsTab",icon:M.SettingOutlined},{id:"cannedResponse",title:"FAQ / Knowledge base",type:"item",url:"/canned-response",displayProp:"hideKBTab",icon:M.FileWordOutlined},{id:"conversationMedia",title:"Conversation Media",type:"item",url:"/conversation-media",displayProp:"hideMediaTab",icon:M.VideoCameraAddOutlined},{id:"flowDesigner",title:"Design Bot Flow",type:"item",url:"/flow-designer",displayProp:"hideFlowDesignTab",icon:M.BgColorsOutlined},{id:"chatDesign",title:"Design & Deploy Bot",type:"item",url:"/bot-design",displayProp:"hideDesignTab",icon:M.BgColorsOutlined},{id:"callConnect",title:"Call Connect",type:"item",url:"/call-connect",displayProp:"hideFlowDesignTab",icon:M.BgColorsOutlined}]};const W={id:"group-dashboard",title:"Analytics",type:"group",children:[{id:"dashboard",title:"Dashboard",type:"item",url:"/dashboard",icon:{DashboardOutlined:n(58203).A}.DashboardOutlined,breadcrumbs:!1,status:!0}]};const L={id:"integrations",title:"Bot Integrations",type:"group",children:[{id:"view-integrations",title:"All Integrations",type:"item",url:"/integrations",icon:n(26142).A}]};var B=n(18411);const U={id:"billing",title:"Billing",type:"group",children:[{id:"view-billing",title:"Billing",type:"item",url:"/billing",icon:B.A}]};var Y=n(52699),G=n(60899),K=n(26762),q=n(60469),H=n(41507),J=n(17239),V=n(23266),X=n(57191);function $(e){let{anchorEl:t,botsList:n,onChange:i}=e;return(0,x.jsx)(J.A,{id:"bot-list-menu",anchorEl:t,open:!0,onClose:i,TransitionComponent:X.A,children:n.map((e=>(0,x.jsx)(V.A,{onClick:()=>i(e._id),children:e.botName},e._id)))})}const Z=function(e){let{item:{children:t},navComponent:n}=e;const o=(0,b.nc)((e=>e.botsList)),a=(0,b.nc)((e=>{var t;return!e.isSuperUser&&(null===(t=e.organization)||void 0===t?void 0:t.settings)}))||{},{pathname:s}=(0,r.zy)(),l=(0,r.Zp)(),{botId:c}=(0,r.g)(),[d,u]=(0,y.G)(c),[h,m]=i.useState(null),p=i.useRef({});p.current.botId=d,p.current.pathname=s;const g=e=>{m(e.currentTarget)},A=i.useCallback((e=>{if(m(null),"string"===typeof e){const{pathname:t,botId:n}=p.current;if(t&&t.includes(n)){const i=t.replace(n,e);l(i)}(0,H.qb)(e)}}),[l]);return i.useEffect((()=>{c&&c!==p.current.botId&&(0,H.qb)(c)}),[c]),null!==o&&void 0!==o&&o.length?(0,x.jsxs)(x.Fragment,{children:[(0,x.jsx)("h6",{style:{padding:"2px 0 5px 20px",margin:"0px",fontSize:"0.80rem",fontWeight:600,lineHeight:1.66,fontFamily:'"Public Sans", sans-serif',color:"#44546f"},children:"Select and Configure Bot"}),(0,x.jsxs)("div",{className:"bot-menus",children:[(0,x.jsxs)("div",{children:[(0,x.jsxs)(G.Ay,{container:!0,className:"bot-menu-block",mb:.8,tabIndex:0,onClick:g,children:[(0,x.jsx)(G.Ay,{item:!0,xs:11,md:11,px:2,py:1,children:(0,x.jsxs)(G.Ay,{container:!0,children:[(0,x.jsx)(G.Ay,{item:!0,xs:1,md:1,children:(0,x.jsx)(q.A,{style:{cursor:"pointer",color:"#2f7ce9"}})}),(0,x.jsx)(G.Ay,{item:!0,xs:11,md:11,px:1.2,id:"bot-selector-name","aria-controls":"bot-list-menu","aria-haspopup":"true",style:{cursor:"pointer",color:"#2f7ce9"},children:(0,x.jsx)("h6",{style:{margin:0,fontWeight:600,fontSize:"0.875rem",lineHeight:"1.57",fontFamily:"Public Sans,sans-serif",color:"#2f7ce9"},children:null===u||void 0===u?void 0:u.botName})})]})}),(0,x.jsx)(G.Ay,{item:!0,xs:1,md:1,py:1,id:"bot-selector-arrow","aria-controls":"bot-list-menu","aria-haspopup":"true",onClick:g,style:{cursor:"pointer",color:"#2f7ce9"},children:(0,x.jsx)(K.A,{})})]}),h&&(0,x.jsx)($,{botsList:o,anchorEl:h,onChange:A})]}),t.map((e=>(0,x.jsx)(n,{item:e,urlPrefix:"/bot/".concat(d),settings:a},e.id)))]})]}):null},Q={items:[{id:"group-org-details",title:"Navigation",type:"group",children:[{id:"bots",title:"Bots List",type:"item",url:"/bots",icon:Y.A,breadcrumbs:!1}]},{id:"group-choose-bot",title:"Choose Bot",type:"component",component:Z,children:[W,F,L,U]}]},ee=()=>{if(!(0,b.nc)((e=>e.organizationId)))return null;const e=Q.items.map((e=>(0,x.jsx)(te,{item:e},e.id)));return(0,x.jsx)(s.A,{sx:{pt:2},children:e})};function te(e){let{item:t,urlPrefix:n,settings:i}=e;const r=t.component;switch(t.type){case"group":return(0,x.jsx)(N,{item:t,urlPrefix:n,settings:i});case"component":return(0,x.jsx)(r,{item:t,navComponent:te,settings:i});default:return(0,x.jsx)(A.A,{variant:"h6",color:"error",align:"center",children:"Fix - Navigation Group"})}}var ne=n(80045),ie=n(81532),re=n(63344),oe=n(41377);const ae=["children","sx"],se=(0,h.Ay)(oe.S7)({flexGrow:1,height:"100%",overflow:"hidden"}),le=(0,h.Ay)(re.A)((e=>{let{theme:t}=e;return{maxHeight:"100%","& .simplebar-scrollbar":{"&:before":{backgroundColor:(0,ie.X4)(t.palette.grey[500],.48)},"&.simplebar-visible:before":{opacity:1}},"& .simplebar-track.simplebar-vertical":{width:10},"& .simplebar-track.simplebar-horizontal .simplebar-scrollbar":{height:6},"& .simplebar-mask":{zIndex:"inherit"}}}));function ce(e){let{children:t,sx:n}=e,i=(0,ne.A)(e,ae);return(0,x.jsxs)(x.Fragment,{children:[(0,x.jsx)(se,{children:(0,x.jsx)(le,(0,u.A)((0,u.A)({timeout:500,clickOnTrack:!1,sx:n},i),{},{children:t}))}),(0,x.jsx)(oe.IM,{children:(0,x.jsx)(s.A,(0,u.A)((0,u.A)({sx:(0,u.A)({overflowX:"auto"},n)},i),{},{children:t}))})]})}const de=()=>(0,x.jsx)(ce,{sx:{"& .simplebar-content":{display:"flex",flexDirection:"column"}},children:(0,x.jsx)(ee,{})});var ue=n(16243);const he=e=>({width:ue.Y7,borderRight:"1px solid ".concat(e.palette.divider),transition:e.transitions.create("width",{easing:e.transitions.easing.sharp,duration:e.transitions.duration.enteringScreen}),overflowX:"hidden",boxShadow:"none"}),me=e=>({transition:e.transitions.create("width",{easing:e.transitions.easing.sharp,duration:e.transitions.duration.leavingScreen}),overflowX:"hidden",width:0,borderRight:"none",boxShadow:e.customShadows.z1}),pe=(0,h.Ay)(c.Ay,{shouldForwardProp:e=>"open"!==e})((e=>{let{theme:t,open:n}=e;return(0,u.A)((0,u.A)({width:ue.Y7,flexShrink:0,whiteSpace:"nowrap",boxSizing:"border-box"},n&&(0,u.A)((0,u.A)({},he(t)),{},{"& .MuiDrawer-paper":he(t)})),!n&&(0,u.A)((0,u.A)({},me(t)),{},{"& .MuiDrawer-paper":me(t)}))})),xe=e=>{let{open:t,handleDrawerToggle:n,window:r}=e;const l=(0,o.A)(),d=(0,a.A)(l.breakpoints.down("lg")),u=void 0!==r?()=>r().document.body:void 0,h=(0,i.useMemo)((()=>(0,x.jsx)(de,{})),[]),m=(0,i.useMemo)((()=>(0,x.jsx)(g,{open:t})),[t]);return(0,x.jsx)(s.A,{component:"nav",sx:{flexShrink:{md:0},zIndex:1300},"aria-label":"mailbox folders",children:d?(0,x.jsxs)(c.Ay,{container:u,variant:"temporary",open:t,onClose:n,ModalProps:{keepMounted:!0},sx:{display:{xs:"block",lg:"none"},"& .MuiDrawer-paper":{boxSizing:"border-box",width:ue.Y7,borderRight:"1px solid ".concat(l.palette.divider),backgroundImage:"none",boxShadow:"inherit"}},children:[t&&m,t&&h]}):(0,x.jsxs)(pe,{variant:"permanent",open:t,children:[m,h]})})};var ge=n(25333),Ae=n(88060);const fe=(0,h.Ay)(Ae.A,{shouldForwardProp:e=>"open"!==e})((e=>{let{theme:t,open:n}=e;return(0,u.A)({zIndex:t.zIndex.drawer+1,transition:t.transitions.create(["width","margin"],{easing:t.transitions.easing.sharp,duration:t.transitions.duration.leavingScreen})},n&&{marginLeft:ue.Y7,width:"calc(100% - ".concat(ue.Y7,"px)"),transition:t.transitions.create(["width","margin"],{easing:t.transitions.easing.sharp,duration:t.transitions.duration.enteringScreen})})}));var be=n(24184),je=n(1849),ye=n(2235),ve=n(39325),we=n(50704),Se=n(11966),ze=n(84142),Ce=n(51637),Pe=n(40165);const _e=["children","position","type"],Ee=(0,i.forwardRef)(((e,t)=>{let{children:n,position:i,type:r}=e,o=(0,ne.A)(e,_e),a={transformOrigin:"0 0 0"};return a={transformOrigin:"0 0 0"},(0,x.jsxs)(s.A,{ref:t,children:["grow"===r&&(0,x.jsx)(Pe.A,(0,u.A)((0,u.A)({},o),{},{children:(0,x.jsx)(s.A,{sx:a,children:n})})),"fade"===r&&(0,x.jsx)(X.A,(0,u.A)((0,u.A)({},o),{},{timeout:{appear:0,enter:300,exit:150},children:(0,x.jsx)(s.A,{sx:a,children:n})}))]})}));Ee.defaultProps={type:"grow",position:"top-left"};const Ie=Ee;var Ne=n(63464),ke=n(40033),Te=n(28170),Oe=n(3788),De=n(2660),Re=n(24516),Me=n(32829),Fe=n(93383),We=n(92728),Le=n(29714),Be=n(61467),Ue=n(21788),Ye=n(8478);const Ge=(0,h.Ay)(Ne.A)((e=>{let{theme:t}=e;return{"& .MuiDialogContent-root":{padding:t.spacing(2)},"& .MuiDialogActions-root":{padding:t.spacing(1)}}}));function Ke(e){const t=(0,o.A)(),{breakpoints:n}=t,{openUserProfile:r,setOpenUserProfile:a}=e,l=(0,b.nc)((e=>e.organization)),c=(0,b.nc)((e=>e.userDetails)),h=(0,b.nc)((e=>e.userName)),m=(0,b.nc)((e=>e.organizationId));i.useEffect((()=>{c||async function(e){const t=await Ye.Jt("/organization/".concat(e,"/member-details"));b.nc.setState({userDetails:t,loadingBackdropStatus:!1})}(m).catch((e=>{console.error("Error fetching organization details:",e),(0,Ue.i)(!0,"Not able to fetch organization details. Try after sometime!","error")}))}),[m,h,c]);return(0,x.jsxs)(Ge,{TransitionComponent:We.A,"aria-labelledby":"customized-dialog-title",open:r,PaperProps:{sx:{width:"40%",[n.down("sm")]:{width:"90%"}}},children:[(0,x.jsx)(ke.A,{sx:{m:0,p:2},id:"customized-dialog-title",children:"Profile"}),(0,x.jsx)(ge.A,{"aria-label":"close",onClick:()=>{a(!1)},sx:{position:"absolute",right:8,top:8},children:(0,x.jsx)(P.A,{})}),(0,x.jsxs)(Te.A,{dividers:!0,children:[(0,x.jsx)(s.A,{sx:{textAlign:"center",m:3},children:(0,x.jsx)("label",{className:"me-1",children:null===c||void 0===c?void 0:c.adminEmail})}),(0,x.jsx)(s.A,{sx:{display:"grid",gap:1,gridTemplateColumns:"repeat(2, 1fr)"}}),(0,x.jsx)(Be.l1,{initialValues:{organizationName:null===l||void 0===l?void 0:l.organizationName,organizationWebsiteUrl:null===l||void 0===l?void 0:l.websiteUrl,adminName:null===c||void 0===c?void 0:c.adminName,phoneNumber:null===c||void 0===c?void 0:c.phoneNumber.number,code:null===c||void 0===c?void 0:c.phoneNumber.code,email:null===c||void 0===c?void 0:c.adminEmail},validationSchema:Le.Ik().shape({organizationName:Le.Yj().max(255).required("Organization Name is required"),organizationWebsiteUrl:Le.Yj().max(255).required("Organization Website url is required"),adminName:Le.Yj().max(255).required("Name is required"),email:Le.Yj().email("Must be a valid email").max(255).required("Email is required"),code:Le.Yj().matches(/^\+[1-9]\d{0,3}$/,"Invalid country code, start with +").required("Country code is required"),phoneNumber:Le.ai().min(5e9,"Must be a valid mobile number").max(9999999999,"Must be a valid mobile number").required("Phone Number is required")}),onSubmit:async(e,t)=>{let{setErrors:n,setStatus:i,setSubmitting:r}=t;try{const t={organizationId:m,data:e};await async function(e){const t=await Ye.bE("/organization/update-organization-details",e),{adminEmail:n,adminName:i,phoneNumber:r}=t,o={adminEmail:n,adminName:i,phoneNumber:r};b.nc.setState({userDetails:o});const{organizationName:a,organizationWebsiteUrl:s}=t;b.nc.setState((e=>({organization:(0,u.A)((0,u.A)({},e.organization),{},{organizationName:a,websiteUrl:s})})))}(t),i({success:!1}),r(!1),a(!1),(0,Ue.i)(!0,"Profile updated successfully","success")}catch(o){i({success:!1}),n({submit:o.message}),r(!1),(0,Ue.i)(!0,"Not able to update the profile. Try after sometime!","error")}},children:e=>{let{errors:t,handleBlur:n,handleChange:i,handleSubmit:r,isSubmitting:o,touched:a,values:s}=e;return(0,x.jsx)("form",{noValidate:!0,onSubmit:r,children:(0,x.jsxs)(G.Ay,{container:!0,spacing:1,children:[(0,x.jsx)(G.Ay,{item:!0,xs:12,md:12,children:(0,x.jsxs)(d.A,{spacing:1,children:[(0,x.jsx)(Oe.A,{htmlFor:"organizationName",children:"Organization Name"}),(0,x.jsx)(De.A,{id:"organizationName",type:"organizationName",defaultValue:s.organizationName,name:"organizationName",onBlur:n,onChange:i,fullWidth:!0,autoComplete:"off",error:Boolean(a.organizationName&&t.organizationName)}),a.organizationName&&t.organizationName&&(0,x.jsx)(Re.A,{error:!0,id:"helper-text-organization-name",children:t.organizationName})]})}),(0,x.jsx)(G.Ay,{item:!0,xs:12,md:12,children:(0,x.jsxs)(d.A,{spacing:1,children:[(0,x.jsx)(Oe.A,{htmlFor:"organizationWebsiteUrl",children:"Organization Website url"}),(0,x.jsx)(De.A,{id:"organizationWebsiteUrl",type:"organizationWebsiteUrl",defaultValue:s.organizationWebsiteUrl,name:"organizationWebsiteUrl",onBlur:n,onChange:i,fullWidth:!0,autoComplete:"off",error:Boolean(a.organizationWebsiteUrl&&t.organizationWebsiteUrl)}),a.organizationWebsiteUrl&&t.organizationWebsiteUrl&&(0,x.jsx)(Re.A,{error:!0,id:"helper-text-organization-website-url",children:t.organizationWebsiteUrl})]})}),(0,x.jsx)(G.Ay,{item:!0,xs:12,md:12,children:(0,x.jsxs)(d.A,{spacing:1,children:[(0,x.jsx)(Oe.A,{htmlFor:"adminName",children:"Name"}),(0,x.jsx)(De.A,{id:"adminName",type:"adminName",defaultValue:s.adminName,name:"adminName",autoComplete:"off",onBlur:n,onChange:i,fullWidth:!0,error:Boolean(a.adminName&&t.adminName)}),a.adminName&&t.adminName&&(0,x.jsx)(Re.A,{error:!0,id:"helper-text-adminame",children:t.adminName})]})}),(0,x.jsx)(G.Ay,{item:!0,xs:12,md:6,children:(0,x.jsxs)(d.A,{spacing:1,children:[(0,x.jsx)(Oe.A,{htmlFor:"code",children:"ISD Code (eg:- +91)"}),(0,x.jsx)(De.A,{id:"code",type:"code",defaultValue:s.code,name:"code",autoComplete:"off",onBlur:n,onChange:i,fullWidth:!0,error:Boolean(a.code&&t.code)}),a.code&&t.code&&(0,x.jsx)(Re.A,{error:!0,id:"helper-text-country-code",children:t.code})]})}),(0,x.jsx)(G.Ay,{item:!0,xs:12,md:6,children:(0,x.jsxs)(d.A,{spacing:1,children:[(0,x.jsx)(Oe.A,{htmlFor:"phoneNumber",children:"Phone Number"}),(0,x.jsx)(De.A,{id:"phoneNumber",type:"number",defaultValue:s.phoneNumber,name:"phoneNumber",onBlur:n,onChange:i,autoComplete:"off",fullWidth:!0,error:Boolean(a.phoneNumber&&t.phoneNumber)}),a.phoneNumber&&t.phoneNumber&&(0,x.jsx)(Re.A,{error:!0,id:"helper-text-phone-number",children:t.phoneNumber})]})}),t.submit&&(0,x.jsx)(G.Ay,{item:!0,xs:12,children:(0,x.jsx)(Re.A,{error:!0,children:t.submit})}),(0,x.jsx)(G.Ay,{item:!0,xs:12,container:!0,justifyContent:"flex-end",children:(0,x.jsx)(Me.A,{children:(0,x.jsx)(Fe.A,{isLoading:o,disabled:o,color:"primary",size:"large",type:"submit",variant:"contained",children:"Update"})})})]})})}})]})]})}var qe=n(24513),He=n(41095),Je=n(31170),Ve=n(26092),Xe=n(17530);const $e=e=>{let{handleLogout:t}=e;const n=(0,o.A)(),[r,a]=(0,i.useState)(!1),[s,l]=(0,i.useState)(!1);return(0,x.jsxs)(x.Fragment,{children:[(0,x.jsxs)(f.A,{component:"nav",sx:{p:0,"& .MuiListItemIcon-root":{minWidth:32,color:n.palette.grey[500]}},children:[(0,x.jsxs)(v.A,{onClick:()=>a(!0),children:[(0,x.jsx)(w.A,{children:(0,x.jsx)(qe.A,{})}),(0,x.jsx)(S.A,{primary:"Edit Profile"})]}),(0,x.jsxs)(v.A,{onClick:()=>l(!0),children:[(0,x.jsx)(w.A,{children:(0,x.jsx)(He.A,{})}),(0,x.jsx)(S.A,{primary:"Recharge"})]}),(0,x.jsxs)(v.A,{onClick:t,children:[(0,x.jsx)(w.A,{children:(0,x.jsx)(Je.A,{})}),(0,x.jsx)(S.A,{primary:"Logout"})]})]}),(0,x.jsx)(Ke,{openUserProfile:r,setOpenUserProfile:a}),(0,x.jsx)(Ve.A,{title:"Recharge Wallet",width:"350px",openPopUpDialog:s,onClose:()=>l(!1),children:(0,x.jsx)(Xe.default,{isDialog:!0})})]})};var Ze=n(98485),Qe=n(79378);const et=()=>{const e=(0,o.A)(),[t,n]=(0,i.useState)(0),r=(e,t)=>{0===t&&window.open("https://livserv.ai/contact-us/"),n(t)};return(0,x.jsxs)(f.A,{component:"nav",sx:{p:0,"& .MuiListItemIcon-root":{minWidth:32,color:e.palette.grey[500]}},children:[(0,x.jsxs)(v.A,{selected:0===t,onClick:e=>r(0,0),children:[(0,x.jsx)(w.A,{children:(0,x.jsx)(Ze.A,{})}),(0,x.jsx)(S.A,{primary:"Support"})]}),(0,x.jsxs)(v.A,{component:j.N_,to:"/account-settings",selected:1===t,onClick:e=>r(0,1),children:[(0,x.jsx)(w.A,{children:(0,x.jsx)(Qe.A,{})}),(0,x.jsx)(S.A,{primary:"Account Settings"})]})]})};var tt=n(31462);const nt=["children","value","index"];function it(e){let{children:t,value:n,index:i}=e,r=(0,ne.A)(e,nt);return(0,x.jsx)("div",(0,u.A)((0,u.A)({role:"tabpanel",hidden:n!==i,id:"profile-tabpanel-".concat(i),"aria-labelledby":"profile-tab-".concat(i)},r),{},{children:n===i&&t}))}function rt(e){return{id:"profile-tab-".concat(e),"aria-controls":"profile-tabpanel-".concat(e)}}const ot=()=>{var e;const t=(0,o.A)(),n=()=>{(0,tt.ri)()},r=(0,i.useRef)(null),[a,l]=(0,i.useState)(!1),c=e=>{r.current&&r.current.contains(e.target)||l(!1)},[h,m]=(0,i.useState)(0),p=(e,t)=>{m(t)},g=(0,b.nc)((e=>e.organization)),f=(0,b.nc)((e=>e.isSuperUser));return(0,x.jsxs)(s.A,{sx:{flexShrink:0,ml:.75},children:[f?(0,x.jsx)(A.A,{variant:"subtitle1",onClick:n,sx:{cursor:"pointer"},children:"Logout"}):(0,x.jsx)(be.A,{sx:{p:.25,bgcolor:a?"grey.300":"transparent",borderRadius:1,"&:hover":{bgcolor:"secondary.lighter"}},"aria-label":"open profile",ref:r,"aria-controls":a?"profile-grow":void 0,"aria-haspopup":"true",onClick:()=>{l((e=>!e))},children:(0,x.jsx)(d.A,{direction:"row",spacing:2,alignItems:"center",sx:{p:.5},children:(0,x.jsx)(A.A,{variant:"subtitle1",children:null===g||void 0===g||null===(e=g.admins[0])||void 0===e?void 0:e.adminName})})}),(0,x.jsx)(je.A,{placement:"bottom-end",open:a,anchorEl:r.current,role:void 0,transition:!0,disablePortal:!0,popperOptions:{modifiers:[{name:"offset",options:{offset:[0,9]}}]},children:e=>{var i,r,o,l;let{TransitionProps:m}=e;return(0,x.jsx)(Ie,(0,u.A)((0,u.A)({type:"fade",in:a},m),{},{children:a&&(0,x.jsx)(ye.A,{sx:{boxShadow:t.customShadows.z1,width:290,minWidth:240,maxWidth:290,[t.breakpoints.down("md")]:{maxWidth:250}},children:(0,x.jsx)(ve.x,{onClickAway:c,children:(0,x.jsxs)(Ce.A,{elevation:0,border:!1,content:!1,children:[(0,x.jsx)(we.A,{sx:{px:2.5,pt:3},children:(0,x.jsxs)(G.Ay,{container:!0,justifyContent:"space-between",alignItems:"center",children:[(0,x.jsx)(G.Ay,{item:!0,children:(0,x.jsx)(d.A,{direction:"row",spacing:1.25,alignItems:"center",children:(0,x.jsxs)(d.A,{children:[(0,x.jsx)(A.A,{variant:"h6",children:null===g||void 0===g||null===(i=g.admins[0])||void 0===i?void 0:i.adminName}),(0,x.jsx)(A.A,{variant:"body2",color:"textSecondary",children:null===g||void 0===g||null===(r=g.admins[0])||void 0===r?void 0:r.role}),(0,x.jsxs)(A.A,{variant:"body2",color:"textSecondary",children:["Balance :\xa0",(0,x.jsxs)(s.A,{fontWeight:"bold",display:"inline",color:(null===g||void 0===g||null===(o=g.availableCredits)||void 0===o?void 0:o.toFixed(3))<=5?"error.main":"success.main",children:[null===g||void 0===g||null===(l=g.availableCredits)||void 0===l?void 0:l.toFixed(3),"\xa0$"]})]})]})})}),(0,x.jsx)(G.Ay,{item:!0,children:(0,x.jsx)(ge.A,{size:"large",color:"secondary",onClick:n,children:(0,x.jsx)(Je.A,{})})})]})}),a&&(0,x.jsxs)(x.Fragment,{children:[(0,x.jsx)(s.A,{sx:{borderBottom:1,borderColor:"divider"},children:(0,x.jsxs)(Se.A,{variant:"fullWidth",value:h,onChange:p,"aria-label":"profile tabs",children:[(0,x.jsx)(ze.A,(0,u.A)({sx:{display:"flex",flexDirection:"row",justifyContent:"center",alignItems:"center",textTransform:"capitalize"},icon:(0,x.jsx)(Qe.A,{style:{marginBottom:0,marginRight:"10px"}}),label:"Profile"},rt(0))),(0,x.jsx)(ze.A,(0,u.A)({sx:{display:"flex",flexDirection:"row",justifyContent:"center",alignItems:"center",textTransform:"capitalize"},icon:(0,x.jsx)(T.A,{style:{marginBottom:0,marginRight:"10px"}}),label:"Setting"},rt(1)))]})}),(0,x.jsx)(it,{value:h,index:0,dir:t.direction,children:(0,x.jsx)($e,{handleLogout:n})}),(0,x.jsx)(it,{value:h,index:1,dir:t.direction,children:(0,x.jsx)(et,{})})]})]})})})}))}})]})};var at=n(28810),st=n(38614),lt=n(41413),ct=n(71378),dt=n(74745),ut=n(2886),ht=n(27379),mt=n(39786),pt=n(94118),xt=n(57560),gt=n(32026);const At={width:36,height:36,fontSize:"1rem"},ft={mt:"6px",ml:1,top:"auto",right:"auto",alignSelf:"flex-start",transform:"none"},bt=e=>{switch(e){case"no-credits":return(0,x.jsx)(B.A,{style:{color:"#EF5A28"}});case"low-credits":return(0,x.jsx)(ut.A,{style:{color:"#EF5A28"}});default:return(0,x.jsx)(ht.A,{style:{color:"#7A7573"}})}},jt=()=>{const e=(0,o.A)(),t=(0,a.A)(e.breakpoints.down("md")),n=(0,i.useRef)(null),[r,l]=(0,i.useState)(!1),c=()=>{l((e=>!e))},d=e=>{n.current&&n.current.contains(e.target)||l(!1)},h=(0,b.nc)((e=>e.organizationId)),[m,p]=(0,i.useState)(null),[g,j]=(0,i.useState)(!1),y=(0,i.useCallback)((async()=>{if(!g)try{const e=await async function(e){return await Ye.Jt("/notifications/".concat(e,"/list"))}(h);p(e)}catch(e){console.error("Error fetching notifications:",e),(0,Ue.i)(!0,"Not able to fetch notifications. Try after sometime!","error"),e&&"Unauthorized request"===e.message&&j(!0)}}),[h,g]);(0,i.useEffect)((()=>{y();const e=setInterval((()=>{y()}),6e5);return()=>clearInterval(e)}),[y]);const w=async e=>{const t={_id:e,notificationCloseStatus:!0},n=await async function(e,t){return await Ye.bE("/notifications/".concat(e),t)}(h,t);if(n){const e=m.filter((e=>e._id!==n._id));p(e),(0,Ue.i)(!0,"Notification closed successfully","success")}else(0,Ue.i)(!0,"Not able to close notification. Try after sometime!","error")};return(0,x.jsxs)(s.A,{sx:{flexShrink:0,ml:.75},children:[(0,x.jsx)(ge.A,{disableRipple:!0,color:"secondary",sx:{color:"text.primary",bgcolor:r?"grey.300":"grey.100"},"aria-label":"open profile",ref:n,"aria-controls":r?"profile-grow":void 0,"aria-haspopup":"true",onClick:c,children:(0,x.jsx)(at.A,{badgeContent:m?m.length:"",color:"primary",children:(0,x.jsx)(mt.A,{})})}),(0,x.jsx)(je.A,{placement:t?"bottom":"bottom-end",open:r,anchorEl:n.current,role:void 0,transition:!0,disablePortal:!0,popperOptions:{modifiers:[{name:"offset",options:{offset:[t?-5:0,9]}}]},children:t=>{let{TransitionProps:n}=t;return(0,x.jsx)(Ie,(0,u.A)((0,u.A)({type:"fade",in:r},n),{},{children:(0,x.jsx)(ye.A,{sx:{boxShadow:e.customShadows.z1,width:"100%",minWidth:285,maxWidth:420,[e.breakpoints.down("md")]:{maxWidth:285}},children:(0,x.jsx)(ve.x,{onClickAway:d,children:(0,x.jsx)(Ce.A,{title:"Notification",elevation:0,border:!1,content:!1,secondary:(0,x.jsx)(ge.A,{size:"small",onClick:c,children:(0,x.jsx)(pt.A,{})}),children:(0,x.jsx)(f.A,{component:"nav",sx:{p:0,maxHeight:"300px",overflowY:"auto","& .MuiListItemButton-root":{py:.5,"& .MuiAvatar-root":At,"& .MuiListItemSecondaryAction-root":(0,u.A)((0,u.A)({},ft),{},{position:"relative"})}},children:m&&m.map((e=>(0,x.jsxs)(i.Fragment,{children:[(0,x.jsxs)(v.A,{children:[(0,x.jsx)(st.A,{children:(0,x.jsx)(lt.A,{sx:{bgcolor:"success.lighter"},children:bt(null===e||void 0===e?void 0:e.notificationType)})}),(0,x.jsx)(S.A,{primary:(0,x.jsx)(A.A,{component:"span",variant:"subtitle1",children:e.notification}),secondary:(0,gt.Yq)(e.createdAt)}),(0,x.jsx)(ct.A,{style:{maxWidth:"15px"},children:(0,x.jsx)(E.A,{title:"close",children:(0,x.jsx)(ge.A,{size:"small",sx:{color:"#EF5A28"},onClick:()=>w(e._id),children:(0,x.jsx)(xt.A,{})})})})]}),(0,x.jsx)(dt.A,{})]},e._id)))})})})})}))}})]})};var yt=n(72906),vt=n(25979),wt=n(45735),St=n(8145),zt=n(2046),Ct=n(88521),Pt=n(60767);const _t=(0,Ct.Z)({matchFrom:"start",stringify:e=>(e.organizationName||e._id).toLowerCase()});const Et=function(){const e=(0,b.nc)((e=>e.isSuperUser)),t=(0,b.nc)((e=>e.organizationId)),n=(0,b.nc)((e=>e.organizationList)),o=i.useRef({}),{pathname:a}=(0,r.zy)(),l=(0,r.Zp)(),{botId:c}=(0,r.g)();o.current.navigate=l,o.current.pathname=a,o.current.botId=c;const d=i.useMemo((()=>null===n||void 0===n?void 0:n.filter((e=>e._id===t))[0]),[t,n]),h=e&&(null===n||void 0===n?void 0:n.length)>0,m=i.useCallback((async(e,t)=>{const n=t._id;b.nc.setState({organization:t,organizationId:n,selectedBotId:null}),sessionStorage.setItem("orgId",n);const i=await(0,H.Ds)(n),{botId:r,pathname:a,navigate:s}=o.current;i?r&&a&&s(a.replace(r,i)):s("/")}),[]);return(0,x.jsx)(s.A,{sx:{width:"100%",ml:{xs:0,md:1}},children:h&&(0,x.jsx)(vt.A,{sx:{width:{xs:"100%",md:224}},children:(0,x.jsx)(wt.A,{disablePortal:!0,openOnFocus:!0,disableClearable:!0,options:n,onChange:m,defaultValue:d,filterOptions:_t,renderOption:(e,t)=>{var n;return(0,i.createElement)("li",(0,u.A)((0,u.A)({},e),{},{key:t._id,style:{display:"flex",justifyContent:"space-between"}}),(0,x.jsx)(S.A,{children:t.organizationName||"(".concat(t._id,")")}),(0,x.jsxs)(S.A,{sx:{textAlign:"right",color:(null===(n=t.availableCredits)||void 0===n?void 0:n.toFixed(1))<=5?"error.main":"success.main"},children:["$",t.availableCredits?t.availableCredits.toFixed(1):0]}))},getOptionLabel:e=>e.organizationName||"(".concat(e._id,")"),sx:{width:300},renderInput:e=>(0,x.jsx)(St.A,(0,u.A)({size:"small",startAdornment:(0,x.jsx)(zt.A,{position:"start",sx:{mr:-.5},children:(0,x.jsx)(Pt.A,{})}),placeholder:"Ctrl + K"},e))})})})},It=()=>{const e=(0,o.A)(),[t,n]=(0,i.useState)(!1),r=(0,i.useRef)(null),a=e=>{r.current&&r.current.contains(e.target)||n(!1)},c=(0,i.useRef)(t);return(0,i.useEffect)((()=>{!0===c.current&&!1===t&&r.current.focus(),c.current=t}),[t]),(0,x.jsxs)(x.Fragment,{children:[(0,x.jsx)(s.A,{sx:{flexShrink:0,ml:.75},children:(0,x.jsx)(ge.A,{component:"span",disableRipple:!0,sx:{bgcolor:t?"grey.300":"grey.100"},ref:r,"aria-controls":t?"menu-list-grow":void 0,"aria-haspopup":"true",onClick:()=>{n((e=>!e))},color:"inherit",children:(0,x.jsx)(yt.A,{})})}),(0,x.jsx)(je.A,{placement:"bottom-end",open:t,anchorEl:r.current,role:void 0,transition:!0,disablePortal:!0,style:{width:"100%"},popperOptions:{modifiers:[{name:"offset",options:{offset:[0,9]}}]},children:n=>{let{TransitionProps:i}=n;return(0,x.jsx)(Ie,(0,u.A)((0,u.A)({type:"fade",in:t},i),{},{children:(0,x.jsx)(ye.A,{sx:{boxShadow:e.customShadows.z1},children:(0,x.jsx)(ve.x,{onClickAway:a,children:(0,x.jsx)(Ae.A,{color:"inherit",children:(0,x.jsxs)(l.A,{children:[(0,x.jsx)(Et,{}),(0,x.jsx)(ot,{})]})})})})}))}})]})},Nt=()=>{const e=(0,a.A)((e=>e.breakpoints.down("md")));return(0,x.jsxs)(x.Fragment,{children:[!e&&(0,x.jsx)(Et,{}),e&&(0,x.jsx)(s.A,{sx:{width:"100%",ml:1}}),(0,x.jsx)(jt,{}),!e&&(0,x.jsx)(ot,{}),e&&(0,x.jsx)(It,{})]})};var kt=n(29205),Tt=n(96185);const Ot=e=>{let{open:t,handleDrawerToggle:n}=e;const i=(0,o.A)(),r=(0,a.A)(i.breakpoints.down("lg")),s=(0,x.jsxs)(l.A,{children:[(0,x.jsx)(ge.A,{disableRipple:!0,"aria-label":"open drawer",onClick:n,edge:"start",color:"secondary",sx:{color:"text.primary",bgcolor:t?"grey.200":"grey.100",ml:{xs:0,lg:-2}},children:t?(0,x.jsx)(Tt.A,{}):(0,x.jsx)(kt.A,{})}),(0,x.jsx)(Nt,{})]}),c={position:"fixed",color:"inherit",elevation:0,sx:{borderBottom:"1px solid ".concat(i.palette.divider)}};return(0,x.jsx)(x.Fragment,{children:r?(0,x.jsx)(Ae.A,(0,u.A)((0,u.A)({},c),{},{children:s})):(0,x.jsx)(fe,(0,u.A)((0,u.A)({open:t},c),{},{children:s}))})};var Dt=n(52432);const Rt=["navigation","title"],Mt=e=>{let{navigation:t,title:n}=e,o=(0,ne.A)(e,Rt);const a=(0,r.zy)(),[s,l]=(0,i.useState)(),[c,d]=(0,i.useState)(),h=e=>{e.children&&e.children.filter((t=>(t.type&&"collapse"===t.type?h(t):t.type&&"item"===t.type&&a.pathname===t.url&&(l(e),d(t)),!1)))};let m,p;(0,i.useEffect)((()=>{var e;null===t||void 0===t||null===(e=t.items)||void 0===e||e.map((e=>(e.type&&"group"===e.type&&h(e),!1)))})),"/breadcrumbs"===a.pathname&&(a.pathname="/dashboard/analytics");let g=(0,x.jsx)(A.A,{}),f="";return s&&"collapse"===s.type&&(m=(0,x.jsx)(A.A,{component:j.N_,to:document.location.pathname,variant:"h6",sx:{textDecoration:"none"},color:"textSecondary",children:s.title})),c&&"item"===c.type&&(f=c.title,p=(0,x.jsx)(A.A,{variant:"subtitle1",color:"textPrimary",children:f}),!1!==c.breadcrumbs&&(g=(0,x.jsx)(Ce.A,(0,u.A)((0,u.A)({border:!1,sx:{mb:3,bgcolor:"transparent"}},o),{},{content:!1,children:(0,x.jsxs)(G.Ay,{container:!0,direction:"column",justifyContent:"flex-start",alignItems:"flex-start",spacing:1,children:[(0,x.jsx)(G.Ay,{item:!0,children:(0,x.jsxs)(Dt.A,{"aria-label":"breadcrumb",children:[(0,x.jsx)(A.A,{component:j.N_,to:"/",color:"textSecondary",variant:"h6",sx:{textDecoration:"none"},children:"Home"}),m,p]})}),n&&(0,x.jsx)(G.Ay,{item:!0,sx:{mt:2},children:(0,x.jsx)(A.A,{variant:"h5",children:c.title})})]})})))),g};var Ft=n(28689),Wt=n(11003);const Lt={id:"organizationsList",title:"Organizations List",type:"group",children:[{id:"view-all-organizations",title:"All Organizations",type:"item",url:"/organizations-list",icon:Ft.A,breadcrumbs:!1},{id:"view-organizations-invoice",title:"Organizations Invoice",type:"item",url:"/organizations-invoice",icon:Wt.A,breadcrumbs:!1}]},Bt=()=>{const[e,t]=(0,i.useState)(!1),{organizationId:n,botId:c}=(0,r.g)(),d=(0,o.A)(),u=(0,a.A)(d.breakpoints.down("lg")),h=(0,b.nc)((e=>e.isSuperUser));(0,i.useEffect)((()=>{const e=Q.items.some((e=>e===Lt));h?e||Q.items.unshift(Lt):e&&(Q.items=Q.items.filter((e=>e!==Lt)))}),[h]),(0,i.useEffect)((()=>{(0,H.YS)(n,c).then(t)}),[n]);const m=(0,b.C$)((e=>e.drawerOpen)),[p,g]=(0,i.useState)(m),A=()=>{g(!p),(0,_.sd)(!p)};return(0,i.useEffect)((()=>{g(!u),(0,_.sd)(!u)}),[u]),(0,i.useEffect)((()=>{p!==m&&g(m)}),[m]),e?(0,x.jsxs)(s.A,{sx:{display:"flex",width:"100%"},children:[(0,x.jsx)(Ot,{open:p,handleDrawerToggle:A}),(0,x.jsx)(xe,{open:p,handleDrawerToggle:A}),(0,x.jsxs)(s.A,{component:"main",sx:{width:"calc(100% - 270px)",flexGrow:1,p:{xs:2,sm:3}},children:[(0,x.jsx)(l.A,{}),(0,x.jsx)(Mt,{navigation:Q,title:!0}),(0,x.jsx)(Mt,{navigation:Q,title:!0}),(0,x.jsx)(r.sv,{},c)]})]}):null}},21537:(e,t,n)=>{n.d(t,{A:()=>b});var i=n(78317),r=n(60899),o=n(89379),a=n(80045),s=n(51637),l=n(44414);const c=["children"],d=e=>{let{children:t}=e,n=(0,a.A)(e,c);return(0,l.jsx)(s.A,(0,o.A)((0,o.A)({sx:{maxWidth:{xs:400,lg:475},margin:{xs:2.5,md:3},"& > *":{flexGrow:1,flexBasis:"50%"}},content:!1},n),{},{border:!1,boxShadow:!0,children:(0,l.jsx)(i.A,{sx:{p:{xs:2,sm:3,md:4,xl:5}},children:t})}))};var u=n(15744),h=n(72930),m=n(62999),p=n(81616),x=n(82053),g=n(36080);const A=()=>{const e=(0,h.A)((e=>e.breakpoints.down("sm")));return(0,l.jsx)(m.A,{maxWidth:"xl",children:(0,l.jsxs)(p.A,{direction:e?"column":"row",justifyContent:e?"center":"space-between",spacing:2,textAlign:e?"center":"inherit",children:[(0,l.jsxs)(x.A,{variant:"subtitle2",color:"secondary",component:"span",children:["\xa9 \xa0",(0,l.jsx)(x.A,{component:g.A,variant:"subtitle2",href:"https://livserv.ai/",target:"_blank",underline:"hover",children:"LivServ"}),"\xa0 2023"]}),(0,l.jsxs)(p.A,{direction:e?"column":"row",spacing:e?1:3,textAlign:e?"center":"inherit",children:[(0,l.jsx)(x.A,{variant:"subtitle2",color:"secondary",component:g.A,href:"https://livserv.com/livservprivacypolicy.html",target:"_blank",underline:"hover",children:"Privacy Policy"}),(0,l.jsx)(x.A,{variant:"subtitle2",color:"secondary",component:g.A,href:"https://livserv.ai/contact-us/",target:"_blank",underline:"hover",children:"Contact us"})]})]})})},f=()=>(0,l.jsx)(i.A,{sx:{position:"absolute",filter:"blur(18px)",zIndex:-1,bottom:0}}),b=e=>{let{children:t}=e;return(0,l.jsxs)(i.A,{sx:{minHeight:"100vh"},children:[(0,l.jsx)(f,{}),(0,l.jsxs)(r.Ay,{container:!0,direction:"column",justifyContent:"flex-end",sx:{minHeight:"100vh"},children:[(0,l.jsx)(r.Ay,{item:!0,xs:12,sx:{ml:3,mt:3},children:(0,l.jsx)(u.A,{})}),(0,l.jsx)(r.Ay,{item:!0,xs:12,children:(0,l.jsx)(r.Ay,{item:!0,xs:12,container:!0,justifyContent:"center",alignItems:"center",sx:{minHeight:{xs:"calc(100vh - 134px)",md:"calc(100vh - 112px)"}},children:(0,l.jsx)(r.Ay,{item:!0,children:(0,l.jsx)(d,{children:t})})})}),(0,l.jsx)(r.Ay,{item:!0,xs:12,sx:{m:3,mt:1},children:(0,l.jsx)(A,{})})]})]})}},17530:(e,t,n)=>{n.r(t),n.d(t,{default:()=>g});var i=n(9950),r=n(60899),o=n(81616),a=n(82053),s=n(3788),l=n(2660),c=n(24516),d=n(8478),u=n(21537),h=n(32829),m=n(93383),p=n(33340),x=n(44414);const g=function(e){let{isDialog:t}=e;const n=(0,p.nc)((e=>e.organizationId)),[g,A]=i.useState(20),[f]=i.useState(!1),b=(0,x.jsxs)(r.Ay,{container:!0,spacing:3,children:[!t&&(0,x.jsx)(r.Ay,{item:!0,xs:12,children:(0,x.jsx)(o.A,{direction:"row",justifyContent:"space-between",alignItems:"baseline",sx:{mb:{xs:-.5,sm:.5}},children:(0,x.jsx)(a.A,{variant:"h3",children:"Add credits"})})}),(0,x.jsxs)(r.Ay,{item:!0,xs:12,children:[(0,x.jsx)(r.Ay,{container:!0,spacing:3,children:(0,x.jsx)(r.Ay,{item:!0,xs:12,children:(0,x.jsxs)(o.A,{spacing:1,children:[(0,x.jsx)(s.A,{htmlFor:"email-login",children:"Amount in USD"}),(0,x.jsx)(l.A,{id:"amount",type:"amount",value:g,name:"amount",onChange:e=>{const t=e.target.value.replace(/[^0-9.]/g,"");t.split(".").length>2||A(t)},placeholder:"Enter email address",maxLength:7,fullWidth:!0}),!g&&(0,x.jsx)(c.A,{error:!0,id:"standard-weight-helper-text-email-login",children:"Provide the amount to be credited"}),!!g&&g<5&&(0,x.jsx)(c.A,{error:!0,id:"standard-weight-helper-text-email-login",children:"Amount is too low"})]})})}),(0,x.jsx)("br",{}),(0,x.jsx)("br",{}),(0,x.jsx)(r.Ay,{item:!0,xs:12,children:(0,x.jsx)(h.A,{children:(0,x.jsx)(m.A,{disableElevation:!0,isLoading:f,fullWidth:!0,size:"large",type:"submit",variant:"contained",color:"primary",onClick:async()=>{await async function(e){let t=document.querySelector('script[id="razorpay-script"]');if(t)return!0;return new Promise((n=>{t=document.createElement("script"),t.id="razorpay-script",t.src=e,t.onload=()=>{n(!0)},t.onerror=()=>{n(!1)},document.body.appendChild(t)}))}("https://checkout.razorpay.com/v1/checkout.js");const e=await d.bE("/organization/".concat(n,"/recharge-wallet"),{amount:parseFloat(g)});new window.Razorpay(e).open()},children:"Make Payment"})})})]})]});return t?b:(0,x.jsx)(u.A,{children:b})}},8478:(e,t,n)=>{n.d(t,{Jt:()=>c,TF:()=>h,bE:()=>d,yJ:()=>u});var i=n(89379),r=n(80045),o=n(32026),a=n(44364);const s=["headers","noAuth"],l=["data"];async function c(e,t){return m("GET",e,t,arguments.length>2&&void 0!==arguments[2]?arguments[2]:{})}async function d(e,t){return m("POST",e,t,arguments.length>2&&void 0!==arguments[2]?arguments[2]:{})}async function u(e,t){return m("PUT",e,t,arguments.length>2&&void 0!==arguments[2]?arguments[2]:{})}async function h(e,t){return m("DELETE",e,t,arguments.length>2&&void 0!==arguments[2]?arguments[2]:{})}async function m(e,t,n){let o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},{headers:a,noAuth:c}=o,d=(0,r.A)(o,s);const u="POST"===e||"PUT"===e||"DELETE"===e;t=function(e,t){if(!e)return e;const n=t&&Object.keys(t);if(null!==n&&void 0!==n&&n.length){const i=n.reduce(((e,n)=>{let i=t[n];return null===i||void 0===i?e:(i="".concat(n,"=").concat(encodeURIComponent(i)),e?"".concat(e,"&").concat(i):i)}),"");i&&(e="".concat(e).concat(e.includes("?")?"&":"?").concat(i))}if(e.startsWith("https://"))return e;return"".concat(p).concat(e)}(t,u?void 0:n);const h=n instanceof FormData;if(h||(n=n&&"object"===typeof n&&u?JSON.stringify(n):void 0),a||(a={}),h||(a["Content-Type"]="application/json"),a.Accept="application/json",!1!==c){const e=sessionStorage.getItem("token");e&&(a.Authorization="Bearer ".concat(e))}try{const o=await fetch(t,(0,i.A)((0,i.A)({},d),{},{headers:a,body:n,method:e})),s=await o.json();if(o.ok){const{data:e}=s,t=(0,r.A)(s,l);return delete t.status,e&&!Object.keys(t).length?e:s}throw s.message?new Error(s.message):s}catch(x){var m;throw console.error("Error calling API: ",x),null!==(m=x.message)&&void 0!==m&&m.includes("fetch")?new Error("Unable to reach server. Please check your network connectivity and try again."):new Error(x.message)}}const p=(0,o.s8)(a.jn,"/")},31462:(e,t,n)=>{n.d(t,{DY:()=>a,QF:()=>l,Yf:()=>s,ri:()=>c});var i=n(89379),r=n(8478),o=n(33340);async function a(e){return await r.bE("/organization/register",e,{noAuth:!0})}async function s(e){return await r.bE("/organization/verify-email",e,{noAuth:!0})}async function l(e,t){const n=await r.bE("/organization/login",{userName:e,password:t},{noAuth:!0}),{data:a,organizationList:s,jwt:l}=n;if(!l)throw new Error("Server Error. Unknown response!");sessionStorage.setItem("token",l);const c=(0,o.yV)();if(Array.isArray(s)&&s.length&&!c.organizationId){const e=s[0];c.organization=e,c.organizationId=e._id}return o.nc.setState((0,i.A)({organization:a,organizationList:s},c)),!0}function c(){sessionStorage.clear(),o.nc.setState((0,o.l1)(),!0)}},41507:(e,t,n)=>{n.d(t,{Ds:()=>c,L_:()=>s,NC:()=>l,YS:()=>a,cw:()=>u,qb:()=>d});var i=n(89379),r=n(8478),o=n(33340);async function a(e,t){const n=await async function(){const e=o.nc.getState();let{organizationList:t,organizationId:n,organization:i}=e;if(!e.isSuperUser||Array.isArray(t))return;if(t=await r.bE("/organization/list"),t.length)if(n=n||sessionStorage.getItem("orgId"),n){if(!i){var a;i=null===(a=t)||void 0===a?void 0:a.filter((e=>e._id===n))[0]}}else{const e=t[0];n=e._id,i=e}return o.nc.setState({organizationList:t,organizationId:n,organization:i}),!0}(),{organizationId:i}=o.nc.getState();return e?e!==i&&o.nc.setState({organizationId:e}):e=i,!e||(n||await async function(e){const t=await r.bE("/organization/get-organization-by-id",{organizationId:e});o.nc.setState({organization:t})}(e),await c(e,t),!0)}async function s(e,t){t||(t=o.nc.getState().organizationId);const n=await r.yJ("/organization/".concat(t),e);o.nc.setState((e=>{const{organizationList:r,organizationId:o,organization:a}=e,s={};return o===t&&(s.organization=(0,i.A)((0,i.A)({},a),n)),r&&(s.organizationList=r.map((e=>e._id===t?(0,i.A)((0,i.A)({},e),n):e))),s}))}function l(e){if(!e||"object"!==typeof e)return;let{organization:t}=o.nc.getState();t&&(t=(0,i.A)((0,i.A)({},t),e),o.nc.setState({organization:t}))}async function c(e,t){var n;const i=await r.Jt("/bot/".concat(e,"/list")),a=t||(null===(n=i[0])||void 0===n?void 0:n._id),s=i.reduce(((e,t)=>(e[t._id]=t,e)),{});return o.nc.setState({organizationId:e,botsList:i,botsMap:s,selectedBotId:a}),a}function d(e){o.nc.setState({selectedBotId:e})}async function u(){const e=await r.Jt("/organization/invoice/list");o.nc.setState({organizationsInvoiceList:e})}},49556:(e,t,n)=>{n.d(t,{G8:()=>r,sd:()=>o});var i=n(33340);function r(e){i.C$.setState({openItem:e})}function o(e){i.C$.setState({drawerOpen:e})}},70855:(e,t,n)=>{n.d(t,{G:()=>r});var i=n(33340);function r(e){const t=(0,i.nc)((e=>e.selectedBotId)),n=(0,i.nc)((n=>n.botsMap[e||t]));return[e||t,n]}},32026:(e,t,n)=>{n.d(t,{G6:()=>s,OX:()=>c,PE:()=>u,Yq:()=>a,do:()=>d,qW:()=>l,s8:()=>r});var i=n(89379);function r(e,t){return e.replace(new RegExp("".concat(o(t),"+$")),"")}function o(e){return e.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")}function a(e){const t=new Date(e),n=t.getDate(),i=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"][t.getMonth()],r=t.getFullYear();return"".concat(i," ").concat(n,", ").concat(r)}function s(e,t,n){if(!t&&!e)return n;e=e||{};const r=Array.isArray(e)?[...e]:(0,i.A)({},e);if(t.includes(".")){const i=t.indexOf("."),o=t.substring(0,i),a=t.substring(i+1);r[o]=s(e[o],a,n)}else r[t]=n;return r}function l(e,t){return btoa("".concat(e,"_").concat(t,"_whatsapp_int"))}function c(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:12;const t="abcdefghijklmnopqrstuvwxyz0123456789";let n="";for(let i=0;i<e;i++)n+=t.charAt(Math.floor(36*Math.random()));return n}function d(e,t,n){if(!t&&!e)return n;e=e||{};const r=Array.isArray(e)?[...e]:(0,i.A)({},e);if(t.includes(".")){const i=t.indexOf("."),o=t.substring(0,i),a=t.substring(i+1);r[o]=d(e[o],a,n)}else r[t]=n;return r}function u(e,t){const n=new Blob([e],{type:arguments.length>2&&void 0!==arguments[2]?arguments[2]:"text/csv"}),i=document.createElement("a");i.href=URL.createObjectURL(n),i.download=t,document.body.appendChild(i),i.click(),document.body.removeChild(i)}},44364:(e,t,n)=>{n.d(t,{DX:()=>l,Og:()=>o,jn:()=>i,mB:()=>s,pA:()=>a,pR:()=>r});const i="https://devbackend.livhousing.com:444",r="c17b949cf58c45cae47ce1cc65efc8240f77a2a69ca09ad4c4208852",o={NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0,REACT_APP_IP_DATA_API_KEY:"c17b949cf58c45cae47ce1cc65efc8240f77a2a69ca09ad4c4208852",REACT_APP_VERSION:"1",REACT_APP_GOOGLE_MAPS_API_KEY:"AIzaSyAQMYGdP2AmloNtJm4ZDrJxPuSfuo2RSXM",REACT_APP_BACKEND_URL:"https://devbackend.livhousing.com:444"}.TRAINING_MEDIA_MAXSIZE,a={NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0,REACT_APP_IP_DATA_API_KEY:"c17b949cf58c45cae47ce1cc65efc8240f77a2a69ca09ad4c4208852",REACT_APP_VERSION:"1",REACT_APP_GOOGLE_MAPS_API_KEY:"AIzaSyAQMYGdP2AmloNtJm4ZDrJxPuSfuo2RSXM",REACT_APP_BACKEND_URL:"https://devbackend.livhousing.com:444"}.CONVERSATION_MEDIA_MAXSIZE,s="AIzaSyAQMYGdP2AmloNtJm4ZDrJxPuSfuo2RSXM",l={NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0,REACT_APP_IP_DATA_API_KEY:"c17b949cf58c45cae47ce1cc65efc8240f77a2a69ca09ad4c4208852",REACT_APP_VERSION:"1",REACT_APP_GOOGLE_MAPS_API_KEY:"AIzaSyAQMYGdP2AmloNtJm4ZDrJxPuSfuo2RSXM",REACT_APP_BACKEND_URL:"https://devbackend.livhousing.com:444"}.REACT_APP_NGROK_BACKEND_URL||"https://devbackend.livhousing.com:444"}}]);