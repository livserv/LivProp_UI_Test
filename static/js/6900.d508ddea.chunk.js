"use strict";(self.webpackChunklib_prop_ui=self.webpackChunklib_prop_ui||[]).push([[6900],{32829:(e,t,n)=>{n.d(t,{A:()=>r});var i=n(25371),a=n(44414);function r(e){let{children:t,type:n}=e;return(0,a.jsx)(i.P.div,{whileHover:{scale:1},whileTap:{scale:.9},children:t})}r.defaultProps={type:"scale"}},92728:(e,t,n)=>{n.d(t,{A:()=>o});var i=n(9950),a=n(48205),r=n(44414);const o=i.forwardRef((function(e,t){return(0,r.jsx)(a.A,{direction:"up",ref:t,...e})}))},51637:(e,t,n)=>{n.d(t,{A:()=>u});var i=n(9950),a=n(14857),r=n(48089),o=n(45180),l=n(82053),s=n(50704),c=n(44414);const d={p:2.5,"& .MuiCardHeader-action":{m:"0px auto",alignSelf:"center"}},u=(0,i.forwardRef)(((e,t)=>{let{border:n=!0,boxShadow:i,children:u,content:h=!0,contentSX:m={},darkTitle:g,elevation:x,secondary:p,shadow:b,sx:A={},title:f,...v}=e;const y=(0,a.A)();return i="dark"===y.palette.mode?i||!0:i,(0,c.jsxs)(r.A,{elevation:x||0,ref:t,...v,sx:{border:n?"1px solid":"none",borderRadius:2,borderColor:"dark"===y.palette.mode?y.palette.divider:y.palette.grey.A800,boxShadow:!i||n&&"dark"!==y.palette.mode?"inherit":b||y.customShadows.z1,":hover":{boxShadow:i?b||y.customShadows.z1:"inherit"},"& pre":{m:0,p:"16px !important",fontFamily:y.typography.fontFamily,fontSize:"0.75rem"},...A},children:[!g&&f&&(0,c.jsx)(o.A,{sx:d,titleTypographyProps:{variant:"subtitle1"},title:f,action:p}),g&&f&&(0,c.jsx)(o.A,{sx:d,title:(0,c.jsx)(l.A,{variant:"h3",children:f}),action:p}),h&&(0,c.jsx)(s.A,{sx:m,children:u}),!h&&u]})}))},26092:(e,t,n)=>{n.d(t,{A:()=>m});n(9950);var i=n(92728),a=n(63464),r=n(40033),o=n(28170),l=n(96319),s=n(59254),c=n(14857),d=n(25333),u=n(44414);const h=(0,s.Ay)(a.A)((e=>{let{theme:t}=e;return{"& .MuiDialogContent-root":{padding:t.spacing(2)},"& .MuiDialogActions-root":{padding:t.spacing(1)}}}));function m(e){const t=(0,c.A)(),{breakpoints:n}=t,{openPopUpDialog:a,setPopUpDialog:s,onClose:m=(()=>s(!1)),title:g,width:x="60%"}=e;return(0,u.jsxs)(h,{TransitionComponent:i.A,"aria-labelledby":"customized-dialog-title",open:a,PaperProps:{sx:{width:{width:x},[n.down("sm")]:{width:"90%"}}},children:[(0,u.jsx)(r.A,{sx:{m:0,p:2},id:"customized-dialog-title",children:g}),(0,u.jsx)(d.A,{"aria-label":"close",onClick:m,sx:{position:"absolute",right:8,top:8},children:(0,u.jsx)(l.A,{})}),(0,u.jsx)(o.A,{dividers:!0,children:e.children})]})}},31408:(e,t,n)=>{n.d(t,{A:()=>r});var i=n(59051),a=n.n(i);const r=function(e){let{value:t,dateOnly:n}=e;return a()(t).format(n?"DD-MMM-YYYY":"DD-MMM-YYYY HH:mm:ss")}},3602:(e,t,n)=>{n.d(t,{Ay:()=>u});var i=n(9950),a=n(59051),r=n.n(a),o=n(32796),l=(n(52010),n(44414));const s=["This month","One month","Prev month","This week","Last 7 days","Prev week","Prev 2 weeks","Last 14 days"];function c(){return{"This month":[r()().startOf("month").toDate(),r()().endOf("month").toDate()],"One month":[r()().subtract(1,"months").toDate(),r()().toDate()],"Prev month":[r()().subtract(1,"months").startOf("month").toDate(),r()().subtract(1,"months").endOf("month").toDate()],"This week":[r()().startOf("week").toDate(),r()().endOf("week").toDate()],"Last 7 days":[r()().subtract(6,"days").toDate(),r()().toDate()],"Prev week":[r()().subtract(1,"weeks").startOf("week").toDate(),r()().subtract(1,"weeks").endOf("week").toDate()]}}function d(e){const t=i.useMemo(c,[]),{timePicker24Hour:n,displayFormat:a}=function(e){let t=d.defaultTimeFormat||" hh:mm tt";const n=-1===t.indexOf("tt");t=t.replace("tt","A").replace(".ss","").replace(":ss","");const i=e.dateFormat||"DD-MMM-YYYY".concat(e.showTime?t:"");return{timePicker24Hour:n,displayFormat:i}}(e),{value:u,range:x}=e,[p,b]=i.useState((()=>h(u,x,a))),A=i.useCallback((e=>b((t=>({...t,...e})))),[b]),f=i.useRef(),v=i.useRef({props:e,state:p,displayFormat:a});v.current.state=p,v.current.props=e,v.current.displayFormat=a;const y=i.useCallback((()=>A(h(u,x,v.current.displayFormat))),[u,x,A]);i.useEffect((()=>{y()}),[y]);const j=i.useCallback(((e,t)=>{var n,i;const{props:a,displayFormat:r}=v.current;v.current.manuallyEdited=!1;const{range:o,field:l,args:c}=a;let d=t.startDate,u=null===(n=d)||void 0===n?void 0:n.toDate(),h="";if(o){const{chosenLabel:e,startDate:n,endDate:i}=t;if(n&&i){u={fromDate:n.toDate(),toDate:i.toDate()};const t=s.indexOf(e);t>=0&&(u.quickDate=t),h="".concat(n.format(r)," - ").concat(i.format(r)),d=[u.fromDate,u.toDate]}}else null!==(i=d)&&void 0!==i&&i.isValid()&&(h=d.format(r));A({value:d,displayDate:h}),a.onChange(u,l,c)}),[A]),C=i.useCallback((e=>{const{manuallyEdited:t,props:n,state:i,displayFormat:a}=v.current;if(t){let{target:{value:t}}=e;if(t=t.trim(),!t&&!0===n.allowClear)return void j(null,{startDate:null});let o=r()(t,a);o.isValid()||(o=r()(t)),o.isValid()&&o.format(a)===t||(o=i.value),f.setStartDate(o),f.setEndDate(o),j(null,{fromDate:o})}else null!==e&&void 0!==e&&e.currentTarget&&n.onBlur&&n.onBlur(e)}),[j]),S=i.useCallback((e=>{const{props:t}=v.current,{keyCode:n}=e;13===n?C(e):t.onKeyDown&&(27===n&&(y(t),v.current.manuallyEdited=!1),t.onKeyDown(e))}),[C,y]),D=i.useCallback((()=>v.current.manuallyEdited=!0),[]),{disabled:I,style:T,className:w,autoFocus:z,fullWidth:P}=e,{displayDate:E}=p;return(0,l.jsx)("div",{className:"react-bootstrap-daterangepicker-container "+(w||""),children:(0,l.jsx)(o.A,{ref:f,style:T,className:w,disabled:I,initialSettings:g({timePicker24Hour:n,dateRange:t,props:e,state:p}),onApply:j,children:(0,l.jsx)("span",{children:(0,l.jsx)("input",{type:"text",className:"date-range-ctl",value:E,readOnly:x,placeholder:m(e),autoFocus:z,onChange:x?void 0:D,onBlur:x?void 0:C,onKeyDown:S,style:P?{width:"100%",height:"40px"}:null})})})})}const u=d;function h(e,t,n){const i={displayDate:""};return e?t?"object"===typeof e&&(e=e.quickDate>=0?function(e,t){if(0===e||e>0){const n=c(),i=s[e],a=i&&n[i]||[];return t?a.map((e=>r()(e))):a}}(e.quickDate,!0):"object"===typeof e&&e.fromDate?[r()(e.fromDate),r()(e.toDate)||null]:[],i.value=e,e[0]&&e[1]&&(i.displayDate="".concat(e[0].format(n)," - ").concat(e[1].format(n)))):(i.value=r()(e),i.displayDate=i.value.format(n)):t&&(i.value=[]),i}function m(e){const{range:t}=e;let{placeholder:n}=e;return!0===t&&(n=n||"Select a date range"),n||"Select a date"}function g(e){let{dateRange:t,timePicker24Hour:n,props:{showTime:i,range:a,minDate:r,maxDate:o,maxSpan:l=6},state:{value:s}}=e;const c={showDropdowns:!0,timePicker:i||!1,alwaysShowCalendars:!1,maxSpan:l,autoApply:!0,linkedCalendars:!1,autoUpdateInput:!1,minDate:r,maxDate:o};let d=null;return d=a?{...c,fromDate:s[0],toDate:s[1],ranges:t,singleDatePicker:!1,showCustomRangeLabel:!0}:{...c,singleDatePicker:!0,fromDate:s,toDate:s,timePicker24Hour:n},d}},93383:(e,t,n)=>{n.d(t,{A:()=>l});var i=n(9950),a=n(10226),r=n(46639),o=n(44414);const l=function(e){let{onClick:t,disabled:n,isLoading:l,children:s,...c}=e;const[d,u]=i.useState(l);return(0,o.jsxs)(a.A,{onClick:e=>{if(!t)return;const n=t(e);"function"===typeof(null===n||void 0===n?void 0:n.finally)&&(u(!0),n.finally((()=>u(!1))))},disabled:d||l||n,...c,children:[(d||l)&&(0,o.jsx)(r.A,{size:16,color:"primary",style:{marginRight:"10px"}}),s]})}},50889:(e,t,n)=>{n.r(t),n.d(t,{default:()=>J});var i=n(9950),a=n(33340),r=n(9213),o=n(21671),l=n(16491),s=n(1320),c=n(15769),d=n(69780),u=n(7251),h=n(34075),m=n(72595),g=n(6258),x=n(55858),p=n(49321),b=n(71295),A=n(31408),f=n(26092),v=n(61467),y=n(60899),j=n(82053),C=n(16497),S=n(37324),D=n(93383),I=n(32829),T=n(58178),w=n(41507),z=n(74745),P=n(44414);const E=function(e){var t;let{organizationId:n,consoleDisplaySettings:i={},onDone:a}=e;const r={hideTrainingTab:(null===i||void 0===i?void 0:i.hideTrainingTab)||!1,hideSettingsTab:(null===i||void 0===i?void 0:i.hideSettingsTab)||!1,hideKBTab:(null===i||void 0===i?void 0:i.hideKBTab)||!1,hideMediaTab:(null===i||void 0===i?void 0:i.hideMediaTab)||!1,hideDesignTab:(null===i||void 0===i?void 0:i.hideDesignTab)||!1,hideFlowDesignTab:null===(t=null===i||void 0===i?void 0:i.hideFlowDesignTab)||void 0===t||t};return(0,P.jsx)(v.l1,{initialValues:r,onSubmit:async e=>{try{await(0,w.L_)({settings:e},n),(0,T.i)(!0,"Console display settings updated successfully","success"),a()}catch(t){(0,T.i)(!0,"Not able to update the console display settings. Try after sometime!","error")}},children:e=>{let{values:t,handleChange:n,isSubmitting:i,handleSubmit:a}=e;return(0,P.jsx)("form",{onSubmit:a,children:(0,P.jsxs)(y.Ay,{container:!0,spacing:2,children:[(0,P.jsx)(z.A,{variant:"middle"}),(0,P.jsx)(y.Ay,{item:!0,xs:12,children:(0,P.jsx)(z.A,{children:(0,P.jsx)(j.A,{variant:"subtitle1",children:"Console Settings"})})}),(0,P.jsx)(y.Ay,{item:!0,xs:12,children:(0,P.jsxs)(y.Ay,{container:!0,justifyContent:"space-between",alignItems:"center",children:[(0,P.jsx)(y.Ay,{item:!0,children:(0,P.jsx)(j.A,{children:"Hide Training Tab"})}),(0,P.jsx)(y.Ay,{item:!0,children:(0,P.jsx)(C.A,{control:(0,P.jsx)(v.D0,{as:S.A,name:"hideTrainingTab",checked:t.hideTrainingTab,onChange:n}),label:"",labelPlacement:"start"})})]})}),(0,P.jsx)(y.Ay,{item:!0,xs:12,children:(0,P.jsxs)(y.Ay,{container:!0,justifyContent:"space-between",alignItems:"center",children:[(0,P.jsx)(y.Ay,{item:!0,children:(0,P.jsx)(j.A,{children:"Hide Settings Tab"})}),(0,P.jsx)(y.Ay,{item:!0,children:(0,P.jsx)(C.A,{control:(0,P.jsx)(v.D0,{as:S.A,name:"hideSettingsTab",checked:t.hideSettingsTab,onChange:n}),label:"",labelPlacement:"start"})})]})}),(0,P.jsx)(y.Ay,{item:!0,xs:12,children:(0,P.jsxs)(y.Ay,{container:!0,justifyContent:"space-between",alignItems:"center",children:[(0,P.jsx)(y.Ay,{item:!0,children:(0,P.jsx)(j.A,{children:"Hide FAQ / Knowledge base"})}),(0,P.jsx)(y.Ay,{item:!0,children:(0,P.jsx)(C.A,{control:(0,P.jsx)(v.D0,{as:S.A,name:"hideKBTab",checked:t.hideKBTab,onChange:n}),label:"",labelPlacement:"start"})})]})}),(0,P.jsx)(y.Ay,{item:!0,xs:12,children:(0,P.jsxs)(y.Ay,{container:!0,justifyContent:"space-between",alignItems:"center",children:[(0,P.jsx)(y.Ay,{item:!0,children:(0,P.jsx)(j.A,{children:"Hide Conversation Media"})}),(0,P.jsx)(y.Ay,{item:!0,children:(0,P.jsx)(C.A,{control:(0,P.jsx)(v.D0,{as:S.A,name:"hideMediaTab",checked:t.hideMediaTab,onChange:n}),label:"",labelPlacement:"start"})})]})}),(0,P.jsx)(y.Ay,{item:!0,xs:12,children:(0,P.jsxs)(y.Ay,{container:!0,justifyContent:"space-between",alignItems:"center",children:[(0,P.jsx)(y.Ay,{item:!0,children:(0,P.jsx)(j.A,{children:"Hide Design Tab"})}),(0,P.jsx)(y.Ay,{item:!0,children:(0,P.jsx)(C.A,{control:(0,P.jsx)(v.D0,{as:S.A,name:"hideDesignTab",checked:t.hideDesignTab,onChange:n}),label:"",labelPlacement:"start"})})]})}),(0,P.jsx)(y.Ay,{item:!0,xs:12,children:(0,P.jsxs)(y.Ay,{container:!0,justifyContent:"space-between",alignItems:"center",children:[(0,P.jsx)(y.Ay,{item:!0,children:(0,P.jsx)(j.A,{children:"Hide Flow Designer"})}),(0,P.jsx)(y.Ay,{item:!0,children:(0,P.jsx)(C.A,{control:(0,P.jsx)(v.D0,{as:S.A,name:"hideFlowDesignTab",checked:t.hideFlowDesignTab,onChange:n}),label:"",labelPlacement:"start"})})]})}),(0,P.jsx)(y.Ay,{item:!0,xs:12,container:!0,justifyContent:"flex-end",children:(0,P.jsx)(I.A,{children:(0,P.jsx)(D.A,{isLoading:i,disabled:i,color:"primary",size:"large",type:"submit",variant:"contained",children:"Update"})})})]})})}})};var _=n(29714),k=n(93230),B=n(3788),O=n(2660),R=n(24516),F=n(70006),M=n(23266),L=n(3602),N=n(8478);const q=function(e){let{organizationId:t,onDone:n}=e;const r=(0,a.nc)((e=>e.organizationSettings));i.useEffect((()=>{(async function(e){const t=await N.Jt("/organization-settings/".concat(e,"/"));a.nc.setState({organizationSettings:t})})(t).catch((e=>{console.error("Error fetching organization settings details:",e),(0,T.i)(!0,"Not able to fetch organization settings details. Try after sometime!","error")}))}),[t]);const o={_id:(null===r||void 0===r?void 0:r._id)||void 0,customerId:(null===r||void 0===r?void 0:r.customerId)||"",organizationId:(null===r||void 0===r?void 0:r.organizationId)||t,billingStartDate:(null===r||void 0===r?void 0:r.billingStartDate)||"",lastModified:(null===r||void 0===r?void 0:r.lastModified)||"",freeChatsCount:(null===r||void 0===r?void 0:r.freeChatsCount)||"",pricePerChat:(null===r||void 0===r?void 0:r.pricePerChat)||"",maxBotCount:(null===r||void 0===r?void 0:r.maxBotCount)||"",amount:(null===r||void 0===r?void 0:r.amount)||"",billingInterval:(null===r||void 0===r?void 0:r.billingInterval)||"",billingEmail:(null===r||void 0===r?void 0:r.billingEmail)||"",currency:(null===r||void 0===r?void 0:r.currency)||""};return(0,P.jsx)(v.l1,{initialValues:o,enableReinitialize:!0,validationSchema:_.Ik().shape({customerId:_.Yj().required("Customer id is required"),organizationId:_.Yj().required("Organization Id is required"),billingStartDate:_.p6().required("Billing Start Date is required"),freeChatsCount:_.ai().min(0,"Free chats count must be 0 or greater than 0").max(99999,"Free chats count must be less than or equal to 99999").required("Free chats count is required"),pricePerChat:_.ai().min(0,"Price per chat must be 0 or greater than 0").max(99999,"Price per chat must be less than or equal to 99999").required("Price per chat is required"),maxBotCount:_.ai().min(0,"Maximum bot count must be 0 or greater than 0").max(99999,"Maximum bot count must be less than or equal to 99999").required("Maximum bot count must is required"),billingInterval:_.ai().min(1,"Billing interval must be between 1 to 12").max(12,"Billing interval must be between 1 to 12").required("Free Chats Count is required"),amount:_.ai().min(0,"Monthly Rent must be 0 or greater than 0").max(99999,"Monthly Rent must be less than or equal to 99999").required("Monthly Rent is required"),currency:_.Yj().required("Currency Type is required"),billingEmail:_.Yj().test("is-emails","Billing email must be valid",(e=>{if(!e)return!0;return e.split(",").map((e=>e.trim())).every((e=>{if(!e)return!1;return/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(e)&&_.Yj().email().isValidSync(e)}))})).max(1e3,"Billing email must be at most 255 characters").required("Billing Email is required")}),onSubmit:async(e,t)=>{let{setErrors:i,setStatus:r,setSubmitting:o}=t;try{await async function(e){const t=await N.bE("/organization-settings/".concat(e.organizationId,"/"),e);a.nc.setState({organizationSettings:t})}(e),r({success:!1}),o(!1),n(),(0,T.i)(!0,"Organization billing settings updated successfully.","success")}catch(l){r({success:!1}),i({submit:l.message}),o(!1),(0,T.i)(!0,"not able to update organization billing settings. Try after sometime!","error")}},children:e=>{let{errors:t,handleBlur:n,handleChange:i,handleSubmit:a,isSubmitting:r,touched:o,setFieldValue:l,values:s}=e;return(0,P.jsx)("form",{noValidate:!0,onSubmit:a,children:(0,P.jsxs)(y.Ay,{container:!0,spacing:2,children:[(0,P.jsx)(y.Ay,{item:!0,xs:12,md:12,children:(0,P.jsxs)(k.A,{spacing:1,children:[(0,P.jsx)(B.A,{htmlFor:"customerId",children:"Customer Id (Id from Tally)"}),(0,P.jsx)(O.A,{id:"customerId",type:"customerId",value:s.customerId,name:"customerId",onBlur:n,onChange:i,fullWidth:!0,autoComplete:"off",error:Boolean(o.customerId&&t.customerId)}),o.customerId&&t.customerId&&(0,P.jsx)(R.A,{error:!0,id:"helper-text-customer-id",children:t.customerId})]})}),(0,P.jsx)(y.Ay,{item:!0,xs:12,md:6,children:(0,P.jsxs)(k.A,{spacing:1,children:[(0,P.jsx)(B.A,{htmlFor:"organizationId",children:"Organization Id"}),(0,P.jsx)(O.A,{id:"organizationId",type:"organizationId",value:s.organizationId,name:"organizationId",onBlur:n,onChange:i,fullWidth:!0,autoComplete:"off",disabled:!0,error:Boolean(o.organizationId&&t.organizationId)}),o.organizationId&&t.organizationId&&(0,P.jsx)(R.A,{error:!0,id:"helper-text-organization-id",children:t.organizationId})]})}),(0,P.jsx)(y.Ay,{item:!0,xs:12,md:6,children:(0,P.jsxs)(k.A,{spacing:1,children:[(0,P.jsx)(B.A,{htmlFor:"billingStartDate",children:"Billing Start Date"}),(0,P.jsx)(L.Ay,{id:"billingStartDate",type:"billingStartDate",value:s.billingStartDate,name:"billingStartDate",onChange:e=>l("billingStartDate",e),fullWidth:!0,autoComplete:"off",error:Boolean(o.billingStartDate&&t.billingStartDate)}),o.billingStartDate&&t.billingStartDate&&(0,P.jsx)(R.A,{error:!0,id:"helper-text-billing-start-date",children:t.billingStartDate})]})}),(0,P.jsx)(y.Ay,{item:!0,xs:12,md:6,children:(0,P.jsxs)(k.A,{spacing:1,children:[(0,P.jsx)(B.A,{htmlFor:"freeChatsCount",children:"Free Chats Count"}),(0,P.jsx)(O.A,{id:"freeChatsCount",type:"Number",value:s.freeChatsCount,name:"freeChatsCount",onBlur:n,onChange:i,fullWidth:!0,autoComplete:"off",error:Boolean(o.freeChatsCount&&t.freeChatsCount)}),o.freeChatsCount&&t.freeChatsCount&&(0,P.jsx)(R.A,{error:!0,id:"helper-text-free-chats-count",children:t.freeChatsCount})]})}),(0,P.jsx)(y.Ay,{item:!0,xs:12,md:6,children:(0,P.jsxs)(k.A,{spacing:1,children:[(0,P.jsx)(B.A,{htmlFor:"pricePerChat",children:"Price Per Chat"}),(0,P.jsx)(O.A,{id:"pricePerChat",type:"Number",value:s.pricePerChat,name:"pricePerChat",onBlur:n,onChange:i,fullWidth:!0,autoComplete:"off",error:Boolean(o.pricePerChat&&t.pricePerChat)}),o.pricePerChat&&t.pricePerChat&&(0,P.jsx)(R.A,{error:!0,id:"helper-text-price-per-chat",children:t.pricePerChat})]})}),(0,P.jsx)(y.Ay,{item:!0,xs:12,md:6,children:(0,P.jsxs)(k.A,{spacing:1,children:[(0,P.jsx)(B.A,{htmlFor:"maxBotCount",children:"Maximum Bot Count"}),(0,P.jsx)(O.A,{id:"maxBotCount",type:"Number",value:s.maxBotCount,name:"maxBotCount",onBlur:n,onChange:i,fullWidth:!0,autoComplete:"off",error:Boolean(o.maxBotCount&&t.maxBotCount)}),o.maxBotCount&&t.maxBotCount&&(0,P.jsx)(R.A,{error:!0,id:"helper-text-max-bot-count",children:t.maxBotCount})]})}),(0,P.jsx)(y.Ay,{item:!0,xs:12,md:3,children:(0,P.jsxs)(k.A,{spacing:1,children:[(0,P.jsx)(B.A,{htmlFor:"amount",children:"Monthly Rent"}),(0,P.jsx)(O.A,{id:"amount",type:"Number",value:s.amount,name:"amount",onBlur:n,onChange:i,fullWidth:!0,autoComplete:"off",error:Boolean(o.amount&&t.amount)}),o.amount&&t.amount&&(0,P.jsx)(R.A,{error:!0,id:"helper-text-amount",children:t.amount})]})}),(0,P.jsx)(y.Ay,{item:!0,xs:12,md:3,children:(0,P.jsxs)(k.A,{spacing:1,children:[(0,P.jsx)(B.A,{htmlFor:"currencyType",children:"Currency Type"}),(0,P.jsxs)(F.A,{id:"currency",type:"currency",value:s.currency,name:"currency",label:"Currency Type",onBlur:n,onChange:i,children:[(0,P.jsx)(M.A,{value:"INR",children:"INR"}),(0,P.jsx)(M.A,{value:"USD",children:"USD"})]}),o.currency&&t.currency&&(0,P.jsx)(R.A,{error:!0,id:"helper-text-currency",children:t.currency})]})}),(0,P.jsx)(y.Ay,{item:!0,xs:12,md:6,children:(0,P.jsxs)(k.A,{spacing:1,children:[(0,P.jsx)(B.A,{htmlFor:"billingInterval",children:"Billing Interval (No of months)"}),(0,P.jsx)(O.A,{id:"billingInterval",type:"Number",value:s.billingInterval,name:"billingInterval",onBlur:n,onChange:i,fullWidth:!0,autoComplete:"off",error:Boolean(o.billingInterval&&t.billingInterval)}),o.billingInterval&&t.billingInterval&&(0,P.jsx)(R.A,{error:!0,id:"helper-text-billing-interval",children:t.billingInterval})]})}),(0,P.jsx)(y.Ay,{item:!0,xs:12,md:6,children:(0,P.jsxs)(k.A,{spacing:1,children:[(0,P.jsx)(B.A,{htmlFor:"billingEmail",children:"Billing Email"}),(0,P.jsx)(O.A,{id:"billingEmail",type:"billingEmail",value:s.billingEmail,name:"billingEmail",onBlur:n,onChange:i,fullWidth:!0,autoComplete:"off",error:Boolean(o.billingEmail&&t.billingEmail)}),o.billingEmail&&t.billingEmail&&(0,P.jsx)(R.A,{error:!0,id:"helper-text-billing-email",children:t.billingEmail})]})}),(0,P.jsx)(y.Ay,{item:!0,xs:12,container:!0,justifyContent:"flex-end",children:(0,P.jsx)(I.A,{children:(0,P.jsx)(D.A,{isLoading:r,disabled:r,color:"primary",size:"large",type:"submit",variant:"contained",children:"Update"})})})]})})}})};var H=n(90587);const U=[{id:"organizationName",label:"Name"},{id:"websiteUrl",label:"Website"},{id:"admins",label:"Email",sortable:!1},{id:"registeredAt",label:"Registered Date"},{id:"availableCredits",label:"Credits"},{id:"handledByLivServ",label:"Handled By LivServ"},{id:"consoleSettings",label:"Console Settings"},{id:"billingSettings",label:"Billing Settings"}];function K(e){const t=[];return e.map((e=>{t.push(function(e){const t=e.admins.map((e=>e.email)).join(",");return{organizationId:e._id,organizationName:e.organizationName,websiteUrl:e.websiteUrl,admins:t,registeredAt:e.registeredAt,availableCredits:e.availableCredits,handledByLivServ:e.handledByLivServ,settings:e.settings}}(e))})),t}function W(e){var t,n;let{row:i,index:a,isSelected:s,openSettingsDialog:c,openOrganizationBillingSettingsDialog:d,handleChange:u}=e;const h="enhanced-table-checkbox-".concat(a);return(0,P.jsxs)(r.A,{hover:!0,role:"checkbox",sx:{"&:last-child td, &:last-child th":{border:0},backgroundColor:i.handledByLivServ?"#F1EEED":"#fff"},"aria-checked":s,tabIndex:-1,selected:s,children:[(0,P.jsx)(o.A,{component:"th",id:h,scope:"row",align:"left",children:i.organizationName}),(0,P.jsx)(o.A,{align:"left",children:(0,P.jsx)("a",{href:i.websiteUrl,target:"_blank",rel:"noopener noreferrer",children:i.websiteUrl})}),(0,P.jsx)(o.A,{align:"left",children:i.admins.split(",").map(((e,t)=>(0,P.jsx)(l.A,{children:e},t)))}),(0,P.jsx)(o.A,{align:"left",children:(0,P.jsx)(A.A,{value:i.registeredAt})}),(0,P.jsxs)(o.A,{align:"left",sx:{color:(null===(t=i.availableCredits)||void 0===t?void 0:t.toFixed(3))<=5?"error.main":"success.main"},children:["$",i.availableCredits?null===(n=i.availableCredits)||void 0===n?void 0:n.toFixed(3):0]}),(0,P.jsx)(o.A,{align:"center",children:(0,P.jsx)(S.A,{checked:i.handledByLivServ,id:i.organizationId,onChange:u})}),(0,P.jsx)(o.A,{align:"center",children:(0,P.jsx)(x.A,{onClick:()=>c(i.organizationId,i.settings),sx:{color:i.settings?"#32b332":"#090a09",cursor:"pointer"},fontSize:"small"})}),(0,P.jsx)(o.A,{align:"center",sx:{cursor:"pointer"},children:(0,P.jsx)(p.A,{onClick:()=>d(i.organizationId),fontSize:"small"})})]},"row"+i.organizationId)}const Y=function(e){let{defaultOrder:t,defaultOrderBy:n}=e;const[x,p]=(0,i.useState)(t),[A,v]=(0,i.useState)(n),[y]=(0,i.useState)([]),j=(0,a.nc)((e=>e.organizationList)),C=j.length,[S,D]=i.useState(0),[I,z]=i.useState(10),[_,k]=i.useState(!1),[B,O]=i.useState(),[R,F]=i.useState(),M=()=>k(!1),L=(e,t)=>{O(e),F(t),k(!0)},[N,Y]=i.useState(!1),V=e=>{Y(!0),O(e)},J=()=>Y(!1),X=async e=>{const t=e.target.checked,n=e.target.id;try{const e={handledByLivServ:t};await(0,w.L_)(e,n),(0,T.i)(!0,"Handled by Livserv updated successfully","success")}catch(i){(0,T.i)(!0,"Not able to update the Handled by Livserv. Try after sometime!","error")}};return(0,P.jsxs)(l.A,{children:[(0,P.jsx)(s.A,{sx:{width:"100%",overflowX:"auto",position:"relative",display:"block",maxWidth:"100%","& td, & th":{whiteSpace:"nowrap"}},children:(0,P.jsxs)(c.A,{"aria-labelledby":"organizationsList",sx:{"& .MuiTableCell-root:first-of-type":{pl:2},"& .MuiTableCell-root:last-of-type":{pr:3}},children:[(0,P.jsx)(d.A,{children:(0,P.jsx)(r.A,{children:U.map((e=>(0,P.jsxs)(o.A,{align:e.align||"left",padding:e.disablePadding?"none":"normal",sortDirection:A===e.id&&("desc"===x?"asc":"desc"),children:[!1===e.sortable&&e.label,!1!==e.sortable&&(0,P.jsxs)(u.A,{active:A===e.id,direction:A===e.id?"desc"===x?"asc":"desc":"asc",onClick:()=>((e,t)=>{p("asc"===t?"desc":"asc"),v(e)})(e.id,x),children:[e.label,A===e.id?(0,P.jsx)(l.A,{component:"span",sx:b.A,children:"desc"===x?"sorted descending":"sorted ascending"}):null]})]},e.id)))})}),(0,P.jsx)(h.A,{sx:{overflowY:"auto",maxHeight:"200px"},children:(I>0?(0,H.q)(K(j),(0,H.h)(x,A)).slice(S*I,S*I+I):K(j)).map(((e,t)=>{return(0,P.jsx)(W,{row:e,index:t,isSelected:(n=e._id,-1!==y.indexOf(n)),openSettingsDialog:L,openOrganizationBillingSettingsDialog:V,handleChange:X},t);var n}))}),(0,P.jsx)(m.A,{children:(0,P.jsx)(r.A,{children:(0,P.jsx)(o.A,{colSpan:U.length,children:(0,P.jsx)(g.A,{component:"div",count:C,page:S,rowsPerPage:I,onPageChange:(e,t)=>D(t),onRowsPerPageChange:e=>{z(parseInt(e.target.value,10)),D(0)}})})})})]})}),(0,P.jsx)(f.A,{openPopUpDialog:_,onClose:M,title:"Console Display Settings",width:"300px",children:(0,P.jsx)(E,{organizationId:B,consoleDisplaySettings:R,onDone:M})}),(0,P.jsx)(f.A,{openPopUpDialog:N,onClose:J,title:"Organization Billing Settings",children:(0,P.jsx)(q,{organizationId:B,onDone:J})})]})};var V=n(51637);const J=function(){return(0,P.jsxs)(y.Ay,{container:!0,rowSpacing:4.5,columnSpacing:2.75,children:[(0,P.jsx)(y.Ay,{item:!0,xs:12,sx:{mb:-2.25},children:(0,P.jsx)(y.Ay,{container:!0,alignItems:"center",justifyContent:"space-between",children:(0,P.jsx)(y.Ay,{item:!0,xs:12,lg:6,md:6,children:(0,P.jsx)(j.A,{variant:"h5",children:"All Organizations"})})})}),(0,P.jsx)(y.Ay,{item:!0,xs:12,zeroMinWidth:!0,children:(0,P.jsx)(V.A,{sx:{mt:2},content:!1,children:(0,P.jsx)(Y,{defaultOrder:"asc",defaultOrderBy:"organizationName"})})})]})}},8478:(e,t,n)=>{n.d(t,{Jt:()=>r,Ne:()=>u,TF:()=>s,bE:()=>o,yJ:()=>l});var i=n(32026),a=n(44364);async function r(e,t){return c("GET",e,t,arguments.length>2&&void 0!==arguments[2]?arguments[2]:{})}async function o(e,t){return c("POST",e,t,arguments.length>2&&void 0!==arguments[2]?arguments[2]:{})}async function l(e,t){return c("PUT",e,t,arguments.length>2&&void 0!==arguments[2]?arguments[2]:{})}async function s(e,t){return c("DELETE",e,t,arguments.length>2&&void 0!==arguments[2]?arguments[2]:{})}async function c(e,t,n){let{headers:i,noAuth:a,...r}=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};const o="POST"===e||"PUT"===e||"DELETE"===e;t=u(t,o?void 0:n);const l=n instanceof FormData;if(l||(n=n&&"object"===typeof n&&o?JSON.stringify(n):void 0),i||(i={}),l||(i["Content-Type"]="application/json"),i.Accept="application/json",!1!==a){const e=sessionStorage.getItem("token");e&&(i.Authorization="Bearer ".concat(e))}try{const a=await fetch(t,{...r,headers:i,body:n,method:e}),o=await a.json();if(a.ok){const{data:e,...t}=o;return delete t.status,e&&!Object.keys(t).length?e:o}throw o.message?new Error(o.message):o}catch(c){var s;throw console.error("Error calling API: ",c),null!==(s=c.message)&&void 0!==s&&s.includes("fetch")?new Error("Unable to reach server. Please check your network connectivity and try again."):new Error(c.message)}}const d=(0,i.s8)(a.jn,"/");function u(e,t){if(!e)return e;const n=t&&Object.keys(t);if(null!==n&&void 0!==n&&n.length){const i=n.reduce(((e,n)=>{let i=t[n];return null===i||void 0===i?e:(i="".concat(n,"=").concat(encodeURIComponent(i)),e?"".concat(e,"&").concat(i):i)}),"");i&&(e="".concat(e).concat(e.includes("?")?"&":"?").concat(i))}return e.startsWith("https://")?e:"".concat(d).concat(e)}},41507:(e,t,n)=>{n.d(t,{Ds:()=>s,L_:()=>o,NC:()=>l,YS:()=>r,cw:()=>d,qb:()=>c});var i=n(8478),a=n(33340);async function r(e,t){const n=await async function(){const e=a.nc.getState();let{organizationList:t,organizationId:n,organization:r}=e;if(!e.isSuperUser||Array.isArray(t))return;if(t=await i.bE("/superAdmin/get-all-organization"),t.length)if(n=n||sessionStorage.getItem("orgId"),n){if(!r){var o;r=null===(o=t)||void 0===o?void 0:o.filter((e=>e._id===n))[0]}}else{const e=t[0];n=e._id,r=e}return a.nc.setState({organizationList:t,organizationId:n,organization:r}),!0}(),{organizationId:r}=a.nc.getState();return e?e!==r&&a.nc.setState({organizationId:e}):e=r,!e||(n||await async function(e){const t=await i.bE("/organization/get-organization-by-id",{organizationId:e});a.nc.setState({organization:t})}(e),await s(e,t),!0)}async function o(e,t){t||(t=a.nc.getState().organizationId);const n=await i.yJ("/organization/".concat(t),e);a.nc.setState((e=>{const{organizationList:i,organizationId:a,organization:r}=e,o={};return a===t&&(o.organization={...r,...n}),i&&(o.organizationList=i.map((e=>e._id===t?{...e,...n}:e))),o}))}function l(e){if(!e||"object"!==typeof e)return;let{organization:t}=a.nc.getState();t&&(t={...t,...e},a.nc.setState({organization:t}))}async function s(e,t){var n;const r=await i.bE("/bot/get-all-bots",{organizationId:e}),o=t||(null===(n=r[0])||void 0===n?void 0:n._id),l=r.reduce(((e,t)=>(e[t._id]=t,e)),{});return a.nc.setState({organizationId:e,botsList:r,botsMap:l,selectedBotId:o}),o}function c(e){a.nc.setState({selectedBotId:e})}async function d(){const e=await i.Jt("/organization/invoice/list");a.nc.setState({organizationsInvoiceList:e})}},32026:(e,t,n)=>{function i(e,t){return e.replace(new RegExp("".concat(a(t),"+$")),"")}function a(e){return e.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")}function r(e){const t=new Date(e),n=t.getDate(),i=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"][t.getMonth()],a=t.getFullYear();return"".concat(i," ").concat(n,", ").concat(a)}function o(e,t,n){if(!t&&!e)return n;e=e||{};const i=Array.isArray(e)?[...e]:{...e};if(t.includes(".")){const a=t.indexOf("."),r=t.substring(0,a),l=t.substring(a+1);i[r]=o(e[r],l,n)}else i[t]=n;return i}function l(e,t){return btoa("".concat(e,"_").concat(t,"_whatsapp_int"))}function s(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:12;const t="abcdefghijklmnopqrstuvwxyz0123456789";let n="";for(let i=0;i<e;i++)n+=t.charAt(Math.floor(36*Math.random()));return n}function c(e,t,n){if(!t&&!e)return n;e=e||{};const i=Array.isArray(e)?[...e]:{...e};if(t.includes(".")){const a=t.indexOf("."),r=t.substring(0,a),o=t.substring(a+1);i[r]=c(e[r],o,n)}else i[t]=n;return i}n.d(t,{G6:()=>o,OX:()=>s,Yq:()=>r,do:()=>c,qW:()=>l,s8:()=>i})},44364:(e,t,n)=>{n.d(t,{DX:()=>l,Og:()=>r,jn:()=>i,pA:()=>o,pR:()=>a});const i="https://devbackend.livhousing.com",a="c17b949cf58c45cae47ce1cc65efc8240f77a2a69ca09ad4c4208852",r={NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0,REACT_APP_IP_DATA_API_KEY:"c17b949cf58c45cae47ce1cc65efc8240f77a2a69ca09ad4c4208852",REACT_APP_VERSION:"1",REACT_APP_BACKEND_URL:"https://devbackend.livhousing.com"}.TRAINING_MEDIA_MAXSIZE,o={NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0,REACT_APP_IP_DATA_API_KEY:"c17b949cf58c45cae47ce1cc65efc8240f77a2a69ca09ad4c4208852",REACT_APP_VERSION:"1",REACT_APP_BACKEND_URL:"https://devbackend.livhousing.com"}.CONVERSATION_MEDIA_MAXSIZE,l={NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0,REACT_APP_IP_DATA_API_KEY:"c17b949cf58c45cae47ce1cc65efc8240f77a2a69ca09ad4c4208852",REACT_APP_VERSION:"1",REACT_APP_BACKEND_URL:"https://devbackend.livhousing.com"}.REACT_APP_NGROK_BACKEND_URL||"https://devbackend.livhousing.com"},90587:(e,t,n)=>{function i(e,t){return"desc"===e?(e,n)=>a(e,n,t):(e,n)=>-a(e,n,t)}function a(e,t,n){return t[n]<e[n]?-1:t[n]>e[n]?1:0}function r(e,t){const n=e.map(((e,t)=>[e,t]));return n.sort(((e,n)=>{const i=t(e[0],n[0]);return 0!==i?i:e[1]-n[1]})),n.map((e=>e[0]))}n.d(t,{h:()=>i,q:()=>r})},49321:(e,t,n)=>{var i=n(24994);t.A=void 0;var a=i(n(79526)),r=n(44414);t.A=(0,a.default)([(0,r.jsx)("path",{d:"M19.5 3.5 18 2l-1.5 1.5L15 2l-1.5 1.5L12 2l-1.5 1.5L9 2 7.5 3.5 6 2v14H3v3c0 1.66 1.34 3 3 3h12c1.66 0 3-1.34 3-3V2zM19 19c0 .55-.45 1-1 1s-1-.45-1-1v-3H8V5h11z"},"0"),(0,r.jsx)("path",{d:"M9 7h6v2H9zm7 0h2v2h-2zm-7 3h6v2H9zm7 0h2v2h-2z"},"1")],"ReceiptLong")},55858:(e,t,n)=>{var i=n(24994);t.A=void 0;var a=i(n(79526)),r=n(44414);t.A=(0,a.default)((0,r.jsx)("path",{d:"M19.14 12.94c.04-.3.06-.61.06-.94 0-.32-.02-.64-.07-.94l2.03-1.58c.18-.14.23-.41.12-.61l-1.92-3.32c-.12-.22-.37-.29-.59-.22l-2.39.96c-.5-.38-1.03-.7-1.62-.94l-.36-2.54c-.04-.24-.24-.41-.48-.41h-3.84c-.24 0-.43.17-.47.41l-.36 2.54c-.59.24-1.13.57-1.62.94l-2.39-.96c-.22-.08-.47 0-.59.22L2.74 8.87c-.12.21-.08.47.12.61l2.03 1.58c-.05.3-.09.63-.09.94s.02.64.07.94l-2.03 1.58c-.18.14-.23.41-.12.61l1.92 3.32c.12.22.37.29.59.22l2.39-.96c.5.38 1.03.7 1.62.94l.36 2.54c.05.24.24.41.48.41h3.84c.24 0 .44-.17.47-.41l.36-2.54c.59-.24 1.13-.56 1.62-.94l2.39.96c.22.08.47 0 .59-.22l1.92-3.32c.12-.22.07-.47-.12-.61zM12 15.6c-1.98 0-3.6-1.62-3.6-3.6s1.62-3.6 3.6-3.6 3.6 1.62 3.6 3.6-1.62 3.6-3.6 3.6"}),"Settings")}}]);