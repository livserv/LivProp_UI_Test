"use strict";(self.webpackChunklib_prop_ui=self.webpackChunklib_prop_ui||[]).push([[468],{25040:(e,t,n)=>{n.d(t,{c:()=>a});var o=n(74836),r=n(97884);function a(e){let{children:t,type:n}=e;return(0,r.jsx)(o.q.div,{whileHover:{scale:1},whileTap:{scale:.9},children:t})}a.defaultProps={type:"scale"}},1816:(e,t,n)=>{n.d(t,{c:()=>u});var o=n(99584),r=n(60392),a=n(65936),i=n(78640),l=n(43664),c=n(36744),s=n(97884);const d={p:2.5,"& .MuiCardHeader-action":{m:"0px auto",alignSelf:"center"}},u=(0,o.forwardRef)(((e,t)=>{let{border:n=!0,boxShadow:o,children:u,content:p=!0,contentSX:h={},darkTitle:m,elevation:x,secondary:f,shadow:g,sx:v={},title:b,...C}=e;const y=(0,r.c)();return o="dark"===y.palette.mode?o||!0:o,(0,s.jsxs)(a.c,{elevation:x||0,ref:t,...C,sx:{border:n?"1px solid":"none",borderRadius:2,borderColor:"dark"===y.palette.mode?y.palette.divider:y.palette.grey.A800,boxShadow:!o||n&&"dark"!==y.palette.mode?"inherit":g||y.customShadows.z1,":hover":{boxShadow:o?g||y.customShadows.z1:"inherit"},"& pre":{m:0,p:"16px !important",fontFamily:y.typography.fontFamily,fontSize:"0.75rem"},...v},children:[!m&&b&&(0,s.jsx)(i.c,{sx:d,titleTypographyProps:{variant:"subtitle1"},title:b,action:f}),m&&b&&(0,s.jsx)(i.c,{sx:d,title:(0,s.jsx)(l.c,{variant:"h3",children:b}),action:f}),p&&(0,s.jsx)(c.c,{sx:h,children:u}),!p&&u]})}))},62216:(e,t,n)=>{n.d(t,{c:()=>l});var o=n(99584),r=n(43924),a=n(49700),i=n(97884);const l=function(e){let{onClick:t,disabled:n,isLoading:l,children:c,...s}=e;const[d,u]=o.useState(l);return(0,i.jsxs)(r.c,{onClick:e=>{if(!t)return;const n=t(e);"function"===typeof(null===n||void 0===n?void 0:n.finally)&&(u(!0),n.finally((()=>u(!1))))},disabled:d||l||n,...s,children:[(d||l)&&(0,i.jsx)(a.c,{size:16,color:"primary",style:{marginRight:"10px"}}),c]})}},64468:(e,t,n)=>{n.r(t),n.d(t,{default:()=>pe});var o=n(99584),r=n(90760),a=n(86344),i=n(11968),l=n(43664),c=n(2496),s=n(59112),d=n(78192),u=n(40440),p=n(77676),h=n(95656),m=n(45072),x=n(11208),f=n(33656),g=n(35576),v=n(44676),b=n(63084),C=n(97884);const y=(0,b.c)((0,C.jsx)("path",{d:"M19 5v14H5V5h14m0-2H5c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2z"}),"CheckBoxOutlineBlank"),w=(0,b.c)((0,C.jsx)("path",{d:"M19 3H5c-1.11 0-2 .9-2 2v14c0 1.1.89 2 2 2h14c1.11 0 2-.9 2-2V5c0-1.1-.89-2-2-2zm-9 14l-5-5 1.41-1.41L10 14.17l7.59-7.59L19 8l-9 9z"}),"CheckBox"),j=(0,b.c)((0,C.jsx)("path",{d:"M19 3H5c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2zm-2 10H7v-2h10v2z"}),"IndeterminateCheckBox");var S=n(84892),E=n(47901),P=n(25496),A=n(42600),_=n(48504);function I(e){return(0,_.cp)("MuiCheckbox",e)}const k=(0,A.c)("MuiCheckbox",["root","checked","disabled","indeterminate","colorPrimary","colorSecondary","sizeSmall","sizeMedium"]),T=["checkedIcon","color","icon","indeterminate","indeterminateIcon","inputProps","size","className"],R=(0,P.cp)(v.c,{shouldForwardProp:e=>(0,P.CU)(e)||"classes"===e,name:"MuiCheckbox",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.root,n.indeterminate&&t.indeterminate,t["size".concat((0,S.c)(n.size))],"default"!==n.color&&t["color".concat((0,S.c)(n.color))]]}})((e=>{let{theme:t,ownerState:n}=e;return(0,m.c)({color:(t.vars||t).palette.text.secondary},!n.disableRipple&&{"&:hover":{backgroundColor:t.vars?"rgba(".concat("default"===n.color?t.vars.palette.action.activeChannel:t.vars.palette[n.color].mainChannel," / ").concat(t.vars.palette.action.hoverOpacity,")"):(0,g.W4)("default"===n.color?t.palette.action.active:t.palette[n.color].main,t.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:"transparent"}}},"default"!==n.color&&{["&.".concat(k.checked,", &.").concat(k.indeterminate)]:{color:(t.vars||t).palette[n.color].main},["&.".concat(k.disabled)]:{color:(t.vars||t).palette.action.disabled}})})),D=(0,C.jsx)(w,{}),O=(0,C.jsx)(y,{}),F=(0,C.jsx)(j,{}),N=o.forwardRef((function(e,t){var n,r;const a=(0,E.c)({props:e,name:"MuiCheckbox"}),{checkedIcon:i=D,color:l="primary",icon:c=O,indeterminate:s=!1,indeterminateIcon:d=F,inputProps:u,size:p="medium",className:g}=a,v=(0,h.c)(a,T),b=s?d:c,y=s?d:i,w=(0,m.c)({},a,{color:l,indeterminate:s,size:p}),j=(e=>{const{classes:t,indeterminate:n,color:o,size:r}=e,a={root:["root",n&&"indeterminate","color".concat((0,S.c)(o)),"size".concat((0,S.c)(r))]},i=(0,f.c)(a,I,t);return(0,m.c)({},t,i)})(w);return(0,C.jsx)(R,(0,m.c)({type:"checkbox",inputProps:(0,m.c)({"data-indeterminate":s},u),icon:o.cloneElement(b,{fontSize:null!=(n=b.props.fontSize)?n:p}),checkedIcon:o.cloneElement(y,{fontSize:null!=(r=y.props.fontSize)?r:p}),ownerState:w,ref:t,className:(0,x.c)(j.root,g)},v,{classes:j}))}));var M,K=n(25528),z=n(55056),B=n(86692),L=n(58632),W=n(86632),U=n(30856),V=n(62624),H=n(59996);const G={enter:"Enter",backspace:"Backspace"},J=229,X={ChipStyled:(0,P.cp)(L.c)((e=>{let{theme:t,size:n}=e;return"\n    max-width: 100%;\n    margin: 2px 4px;\n    height: ".concat("small"===n?"26px":"32px",';\n\n\n    &[aria-disabled="true"] > svg {\n      color: ').concat(t.palette.action.disabled,";\n      cursor: default;\n    }\n\n    &.MuiChipsInput-Chip-Editing {\n      background-color: ").concat(t.palette.primary.light,";\n      color: ").concat(t.palette.primary.contrastText,";\n    }\n  ")}))},$=e=>{let{className:t,index:n,onDelete:o,disabled:r,onEdit:a,isEditing:i,disableEdition:l,...c}=e;return(0,C.jsx)(X.ChipStyled,{className:"MuiChipsInput-Chip ".concat(i?"MuiChipsInput-Chip-Editing":""," ").concat(t||""),onKeyDown:e=>{e.key===G.enter&&o(n)},disabled:r,onDoubleClick:l?void 0:e=>{e.target.textContent===c.label&&(r||a(n))},tabIndex:r?-1:0,"aria-disabled":r,onDelete:e=>{var t,r;null!==e&&void 0!==e&&null!==(t=e.preventDefault)&&void 0!==t&&t.call(e),null!==e&&void 0!==e&&null!==(r=e.stopPropagation)&&void 0!==r&&r.call(e),o(n)},...c})};function Y(e,t){"function"==typeof t?t(e):t&&function(e){return"object"==typeof e&&!Array.isArray(e)&&null!==e}(t)&&"current"in t&&(t.current=e)}const Z=(0,P.cp)("div")(M||(M=(0,B.c)(["\n  top: 50%;\n  transform: translateY(-50%);\n  right: 10px;\n  position: absolute;\n"]))),q=(0,P.cp)(H.c)((e=>{var t;return"\n    max-width: 100%;\n\n    .MuiInputBase-root {\n      display: flex;\n      flex-wrap: wrap;\n      align-items: flex-start;\n      row-gap: 5px;\n      padding-top: ".concat("small"===e.size?"5px":"9px",";\n      padding-right: ").concat(null!==(t=e.InputProps)&&void 0!==t&&t.endAdornment?"30px":"9px",";\n      padding-bottom: ").concat("small"===e.size?"5px":"9px",";\n      padding-left: 10px;\n\n      input {\n        min-width: 30px;\n        width: auto;\n        flex-grow: 1;\n        text-overflow: ellipsis;\n        padding: ").concat("small"===e.size?"3.5px 4px":"7.5px 4px",";\n        align-self: center;\n      }\n    }\n  ")})),Q={ChipStyled:(0,P.cp)(L.c)((e=>{let{theme:t,size:n}=e;return"\n    max-width: 100%;\n    margin: 2px 4px;\n    height: ".concat("small"===n?"26px":"32px",';\n\n    &[aria-disabled="true"] > svg.MuiChip-deleteIcon {\n      color: ').concat(t.palette.action.disabled,";\n      cursor: default;\n    }\n  ")})),TextFieldStyled:q,EndAdornmentClose:Z},ee=o.forwardRef(((e,t)=>{let{chips:n,onAddChip:r,onEditChip:a,onDeleteChip:i,InputProps:l,onInputChange:c,disabled:s,clearInputOnBlur:d,addOnBlur:u,validate:p,error:h,helperText:m,hideClearAll:x,inputProps:f,size:g,disableDeleteOnBackspace:v,disableEdition:b,className:y,renderChip:w,addOnWhichKey:j,onFocus:S,onDeleteAllChips:E,inputRef:P,inputValue:A,..._}=e;const[I,k]=o.useState(""),[T,R]=o.useState(""),D=o.useRef(null),O=o.useRef(!1),F=o.useRef("string"==typeof A),[N,M]=o.useState(null),{onKeyDown:K,...z}=f||{},{inputRef:B,...L}=l||{},H=()=>{R("")},X=F.current,Z=X?A:I,q=e=>{null!==c&&void 0!==c&&c(e),X||k(e)},ee=()=>{M(null)},te=()=>{H(),q("")},ne=(e,t)=>n=>{if("function"==typeof p){const n=p(e);if(!1===n)return void(null===t||void 0===t||t.preventDefault());if(!function(e){return"boolean"==typeof e}(n)&&n.isError)return null!==t&&void 0!==t&&t.preventDefault(),void R(n.textError)}n()},oe=(e,t,n)=>{ne(e,n)((()=>{null!==a&&void 0!==a&&a(e,t),ee(),te()}))},re=(e,t)=>{ne(e,t)((()=>{null!==r&&void 0!==r&&r(Z.trim()),te()}))},ae=()=>{if(O.current){if(null!==N)ee(),te();else if(u){if(Z.length>0){const e=Z.trim();0===e.length?te():null!==N?oe(e,N):re(e)}}else d&&te();O.current=!1}},ie=e=>{var t;e===N?(te(),ee()):(e=>{q(n[e]),M(e),H()})(e),null===(t=D.current)||void 0===t||t.focus()},le=e=>{s||(null!==i&&void 0!==i&&i(e),null!==N&&(ee(),te()))},ce=n.length>0;return(0,C.jsx)(U.q,{onClickAway:ae,children:(0,C.jsx)(Q.TextFieldStyled,{value:Z,onChange:e=>{q(e.target.value)},ref:t,className:"MuiChipsInput-TextField ".concat(y||""),size:g,placeholder:"Type and press enter",onFocus:e=>{e.preventDefault(),null!==S&&void 0!==S&&S(e),O.current=!0},inputProps:{onKeyDown:e=>{const t=((e,t)=>t!==J&&(j?Array.isArray(j)?j.some((t=>t===e)):j===e:e===G.enter))(e.key,e.keyCode),o=e.key===G.backspace,r=Z.trim();if(t||"Tab"!==e.code){if(t&&e.preventDefault(),Z.length>0&&t)0===r.length?te():null!==N?oe(r,N,e):re(r,e);else if(o&&0===Z.length&&n.length>0&&!v){const e=n.length-1;null!==i&&void 0!==i&&i(e),N===e&&ee()}null===K||void 0===K||K(e)}else ae()},...z},disabled:s,error:!!T||h,helperText:T||m,InputProps:{inputRef:e=>{D.current=e,P&&Y(e,P),t&&Y(e,t)},startAdornment:ce?n.map(((e,t)=>{const n="chip-".concat(t),r={index:t,onEdit:ie,label:e,title:e,isEditing:t===N,size:g,disabled:s,disableEdition:b,onDelete:le};return w?w($,n,r):(0,o.createElement)($,{...r,key:n})})):null,endAdornment:x?null:(0,C.jsx)(Q.EndAdornmentClose,{style:{visibility:ce?"visible":"hidden"},children:(0,C.jsx)(V.c,{"aria-label":"Clear",title:"Clear",disabled:s,size:"small",onClick:e=>{e.preventDefault(),!x&&!s&&(null!==E&&void 0!==E&&E(),te(),ee())},children:(0,C.jsx)(W.c,{fontSize:"small"})})}),...L},..._})})}));const te=[],ne=o.forwardRef(((e,t)=>{let{value:n=te,onChange:o,onAddChip:r,onInputChange:a,onDeleteChip:i,disabled:l,validate:c,clearInputOnBlur:s,addOnBlur:d,hideClearAll:u,disableDeleteOnBackspace:p,onEditChip:h,renderChip:m,disableEdition:x,addOnWhichKey:f=G.enter,inputValue:g,...v}=e;return(0,C.jsx)(ee,{chips:n,onAddChip:e=>{if(l)return;const t=function(e,t){return[...e,t]}(n,e),a=t.length-1;null!==r&&void 0!==r&&r(e,a),null===o||void 0===o||o(t)},onInputChange:a,disableDeleteOnBackspace:p,onDeleteChip:e=>{if(l)return;const t=n[e];null!==o&&void 0!==o&&o(function(e,t){return e.filter(((e,n)=>t!==n))}(n,e)),null===i||void 0===i||i(t,e)},onEditChip:(e,t)=>{l||x||(null!==o&&void 0!==o&&o(function(e,t,n){return e.map(((e,o)=>t===o?n:e))}(n,t,e)),null===h||void 0===h||h(e,t))},renderChip:m,onDeleteAllChips:()=>{null===o||void 0===o||o([])},clearInputOnBlur:s,addOnBlur:d,disabled:l,disableEdition:x,validate:c,inputValue:g,hideClearAll:u,addOnWhichKey:f,...v,ref:t})}));var oe=n(12316),re=n(1816),ae=n(25040),ie=n(53632),le=n(8428),ce=n(62216),se=n(74996);const de={margin:{xs:2.5,md:3},"& > *":{flexGrow:1,flexBasis:"50%"}},ue={leadCaptureType:"flow",leadCaptureFormMode:"count",showFormAfterChats:3};const pe=function(){const[e,t]=(0,ie._)(),{botSettings:n=ue}=t;return(0,C.jsx)(re.c,{sx:de,content:!1,border:!1,boxShadow:!0,children:(0,C.jsx)(r.c,{sx:{p:{xs:2,sm:3,md:4,xl:5}},children:(0,C.jsx)(oe.QJ,{initialValues:n,onSubmit:async(t,n)=>{let{setErrors:o,setStatus:r,setSubmitting:a}=n;try{await(0,le.cn)(e,t),r({success:!1}),a(!1),(0,se.l)(!0,"Settings saved successfully!","success")}catch(i){console.error(i),(0,se.l)(!0,"Unable to save settings. Please try again later.","error"),r({success:!1}),o({submit:i.message}),a(!1)}},children:e=>(0,C.jsx)("form",{noValidate:!0,onSubmit:e.handleSubmit,children:(0,C.jsxs)(a.cp,{container:!0,spacing:3,children:[(0,C.jsx)(he,{...e}),(0,C.jsx)(me,{...e}),(0,C.jsx)(xe,{...e})]})})})})})};function he(e){let{values:t,touched:n,errors:o,handleBlur:r,handleChange:h,setFieldValue:m}=e;const x="form"===t.leadCaptureType,f="form"!==t.leadCaptureType||"keyword"===t.leadCaptureFormMode;return(0,C.jsxs)(C.Fragment,{children:[(0,C.jsx)(a.cp,{item:!0,xs:12,children:(0,C.jsx)(i.c,{children:(0,C.jsx)(l.c,{variant:"subtitle1",children:"Lead Capture Settings"})})}),(0,C.jsx)(a.cp,{item:!0,xs:12,md:6,children:(0,C.jsxs)(c.c,{spacing:1,children:[(0,C.jsx)(s.c,{htmlFor:"leadCaptureType",children:"Input Type"}),(0,C.jsxs)(d.c,{value:t.leadCaptureType,defaultValue:"flow",name:"leadCaptureType",onChange:h,children:[(0,C.jsx)(u.c,{value:"flow",control:(0,C.jsx)(p.c,{}),label:"Flow"}),(0,C.jsx)(u.c,{value:"form",control:(0,C.jsx)(p.c,{}),label:"Form"})]})]})}),x&&(0,C.jsx)(a.cp,{item:!0,xs:12,md:6,children:(0,C.jsxs)(c.c,{spacing:1,children:[(0,C.jsx)(s.c,{htmlFor:"leadCaptureFormMode",children:"When you want the form to be displayed?"}),(0,C.jsxs)(d.c,{value:t.leadCaptureFormMode,defaultValue:"count",id:"leadCaptureFormMode",name:"leadCaptureFormMode",onChange:h,children:[(0,C.jsx)(u.c,{value:"keyword",control:(0,C.jsx)(p.c,{}),label:"Show form when the keyword matches"}),(0,C.jsx)(u.c,{value:"count",control:(0,C.jsx)(p.c,{}),label:(0,C.jsxs)(C.Fragment,{children:["Show form after conversations:"," ",(0,C.jsx)("input",{value:t.showFormAfterChats,maxLength:2,style:{width:"50px"},disabled:"form"!==t.leadCaptureType||t.leadCaptureFormMode&&"count"!==t.leadCaptureFormMode,onChange:e=>console.log({showFormAfterChats:fe(e.target.value,t.showFormAfterChats)})})]})})]})]})}),!x&&(0,C.jsx)(a.cp,{item:!0,xs:12,md:6,children:(0,C.jsxs)(c.c,{spacing:1,children:[(0,C.jsx)(s.c,{htmlFor:"leadCaptureFlowMandatory",children:"Can user proceed without providing contact details?"}),(0,C.jsx)(u.c,{value:"keyword",control:(0,C.jsx)(N,{checked:t.leadCaptureFlowMandatory,name:"leadCaptureFlowMandatory",onChange:h}),label:"Make the input mandatory"})]})}),f&&(0,C.jsx)(a.cp,{item:!0,xs:12,children:(0,C.jsxs)(c.c,{spacing:1,children:[(0,C.jsx)(s.c,{htmlFor:"phoneNumberKeywords",children:"Keywords for Phone Number Collection *"}),(0,C.jsx)(ge,{name:"phoneNumberKeywords",value:t.phoneNumberKeywords||[],error:Boolean(n.phoneNumberKeywords&&o.phoneNumberKeywords),onBlur:r,onChange:m,placeholder:"Type keyword and press enter to add more...",inputProps:{maxLength:25}}),n.phoneNumberKeywords&&o.phoneNumberKeywords&&(0,C.jsx)(K.c,{error:!0,id:"helper-text-email-keywords",children:o.phoneNumberKeywords})]})}),f&&(0,C.jsx)(a.cp,{item:!0,xs:12,children:(0,C.jsxs)(c.c,{spacing:1,children:[(0,C.jsx)(s.c,{htmlFor:"emailKeywords",children:"Keywords for Email Address Collection *"}),(0,C.jsx)(ge,{name:"emailKeywords",value:t.emailKeywords||[],error:Boolean(n.emailKeywords&&o.emailKeywords),onBlur:r,onChange:m,placeholder:"Type keyword and press enter to add more...",inputProps:{maxLength:25}}),n.emailKeywords&&o.emailKeywords&&(0,C.jsx)(K.c,{error:!0,id:"helper-text-email-keywords",children:o.emailKeywords})]})})]})}function me(e){let{values:t,handleChange:n}=e;return(0,C.jsxs)(C.Fragment,{children:[(0,C.jsx)(a.cp,{item:!0,xs:12,children:(0,C.jsx)(i.c,{children:(0,C.jsx)(l.c,{variant:"subtitle1",children:"Allow / Block chat window"})})}),(0,C.jsx)(a.cp,{item:!0,xs:12,md:6,children:(0,C.jsxs)(c.c,{spacing:1,children:[(0,C.jsx)(s.c,{htmlFor:"allowedIP",children:"Allowed IP"}),(0,C.jsx)(z.c,{multiline:!0,id:"allowedIP",name:"allowedIP",value:t.allowedIP,onChange:n,"aria-label":"empty textarea",placeholder:"Ex: 192.167.22.340, 192.167.22.341"})]})}),(0,C.jsx)(a.cp,{item:!0,xs:12,md:6,children:(0,C.jsxs)(c.c,{spacing:1,children:[(0,C.jsx)(s.c,{htmlFor:"deniedIP",children:"Denied IP"}),(0,C.jsx)(z.c,{multiline:!0,id:"deniedIP",name:"deniedIP",defaultValue:t.deniedIP,onChange:n,"aria-label":"empty textarea",placeholder:"Ex: 192.167.22.340, 192.167.22.341"})]})}),(0,C.jsx)(a.cp,{item:!0,xs:12,md:6,children:(0,C.jsxs)(c.c,{spacing:1,children:[(0,C.jsx)(s.c,{htmlFor:"allowedPages",children:"Allowed Pages"}),(0,C.jsx)(z.c,{multiline:!0,id:"allowedPages",name:"allowedPages",defaultValue:t.allowedPages,onChange:n,"aria-label":"empty textarea",placeholder:"Ex: https://xyz.com, https://abc.com"})]})}),(0,C.jsx)(a.cp,{item:!0,xs:12,md:6,children:(0,C.jsxs)(c.c,{spacing:1,children:[(0,C.jsx)(s.c,{htmlFor:"deniedPages",children:"Denied Pages"}),(0,C.jsx)(z.c,{multiline:!0,id:"deniedPages",name:"deniedPages",defaultValue:t.deniedPages,onChange:n,"aria-label":"empty textarea",placeholder:"Ex: https://xyz.com, https://abc.com"})]})})]})}function xe(e){let{errors:t,isSubmitting:n}=e;return(0,C.jsxs)(C.Fragment,{children:[t.submit&&(0,C.jsx)(a.cp,{item:!0,xs:12,children:(0,C.jsx)(K.c,{error:!0,children:t.submit})}),(0,C.jsx)(a.cp,{item:!0,xs:12,mt:2,children:(0,C.jsx)(ae.c,{children:(0,C.jsx)(ce.c,{disableElevation:!0,isLoading:n,fullWidth:!0,size:"large",type:"submit",variant:"contained",color:"primary",children:"Save Settings"})})})]})}function fe(e,t){return e?isNaN(e)?t:Number(e):e}function ge(e){let{id:t,name:n,value:r,onChange:a,...i}=e;const l=o.useRef(),c=e=>a(n,e);return(0,C.jsx)(ne,{ref:l,id:t||n,name:n,addOnBlur:!0,value:r||[],onChange:c,onInputChange:e=>{e.endsWith(",")&&(r=[...r,e.substring(0,e.length-1)],c(r),l.current.value="")},...i})}},35240:(e,t,n)=>{n.d(t,{Aj:()=>l,_M:()=>a,aE:()=>c,s$:()=>i,wz:()=>u});var o=n(52216),r=n(79028);async function a(e,t){return s("GET",e,t,arguments.length>2&&void 0!==arguments[2]?arguments[2]:{})}async function i(e,t){return s("POST",e,t,arguments.length>2&&void 0!==arguments[2]?arguments[2]:{})}async function l(e,t){return s("PUT",e,t,arguments.length>2&&void 0!==arguments[2]?arguments[2]:{})}async function c(e,t){return s("DELETE",e,t,arguments.length>2&&void 0!==arguments[2]?arguments[2]:{})}async function s(e,t,n){let{headers:o,noAuth:r,...a}=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};const i="POST"===e||"PUT"===e||"DELETE"===e;if(t=u(t,i?void 0:n),n=n&&"object"===typeof n&&i?JSON.stringify(n):void 0,o||(o={}),o["Content-Type"]="application/json",o.Accept="application/json",!1!==r){const e=sessionStorage.getItem("token");e&&(o.Authorization="Bearer ".concat(e))}try{const r=await fetch(t,{...a,headers:o,body:n,method:e}),i=await r.json();if(r.ok){const{data:e,...t}=i;return delete t.status,e&&!Object.keys(t).length?e:i}throw i.message?new Error(i.message):i}catch(c){var l;throw console.error("Error calling API: ",c),null!==(l=c.message)&&void 0!==l&&l.includes("fetch")?new Error("Unable to reach server. Please check your network connectivity and try again."):new Error("Unknown server error")}}const d=(0,o.Sm)(r.UX,"/");function u(e,t){if(!e)return e;const n=t&&Object.keys(t);if(null!==n&&void 0!==n&&n.length){const o=n.reduce(((e,n)=>{let o=t[n];return null===o||void 0===o?e:(o="".concat(n,"=").concat(encodeURIComponent(o)),e?"".concat(e,"&").concat(o):o)}),"");o&&(e="".concat(e).concat(e.includes("?")?"&":"?").concat(o))}return e.startsWith("https://")?e:"".concat(d).concat(e)}},8428:(e,t,n)=>{n.d(t,{A1:()=>s,Jr:()=>i,WS:()=>c,aE:()=>l,cn:()=>d,y0:()=>a});var o=n(35240),r=n(76312);async function a(e){const{organization:{websiteUrl:t,_id:n}}=r.mW.getState(),a={organizationId:n,websiteUrl:t,botName:e,botDesign:{botLogo:{name:"",url:""},visitorMessageLogo:{name:"",url:""},botMessageLogo:{name:"",url:""},backgroundColor:"#e7a654",textColor:"#ffffff",dimensions:{heightInPixel:"500px",heightInPercent:"70%",widthInPixel:"350px",widthInPercent:"25%"},botLogoDimensions:{heightInPixel:"30px",heightInPercent:"100%",widthInPixel:"30px",widthInPercent:"100%"}}},i=await o.s$("/bot/initialize-create-bot",a),l=i._id;let{botsMap:c,botsList:s}=r.mW.getState();c={...c,[l]:i},s=[...s],s.push(i._doc),r.mW.setState({selectedBotId:l,botsMap:c,botsList:s})}async function i(e,t,n){const{organizationId:a}=r.mW.getState();if(!a||!e)throw new Error("Bot details not found");const i=await o.Aj("/bot/".concat(a,"/").concat(e),t);return u(i,n),i}async function l(e){const{organizationId:t,selectedBotId:n}=r.mW.getState();if(!t||!e)throw new Error("Bot details not found");const{deleted:a}=await o.aE("/bot/".concat(t,"/").concat(e));if(a){let{botsMap:e,botsList:t}=r.mW.getState();e={...e},t=[...t],delete e[a];const o=t.findIndex((e=>e._id===a));o>=0&&t.splice(o,1);const l={botsMap:e,botsList:t};var i;if(n===a)l.selectedBotId=(null===(i=t[0])||void 0===i?void 0:i._id)||null;r.mW.setState(l)}return!!a}function c(e,t){let{botDesign:n}=r.mW.getState();return n={...n,...t},i(e,{botDesign:n})}function s(e,t){return i(e,{botName:t})}function d(e,t){let{botSettings:n={}}=r.mW.getState();return n={...n,...t},i(e,{botSettings:n})}function u(e){let t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];const n=e._id;let{botsMap:o,botsList:a}=r.mW.getState();o={...o,[n]:e},a=[...a];const i=a.findIndex((e=>e._id===n));i>=0?a[i]=e:a.push(e);const l={botsMap:o,botsList:a};t&&(l.selectedBotId=n),r.mW.setState(l)}},53632:(e,t,n)=>{n.d(t,{_:()=>r});var o=n(76312);function r(e){const t=(0,o.mW)((e=>e.selectedBotId)),n=(0,o.mW)((n=>n.botsMap[e||t]));return[e||t,n]}},52216:(e,t,n)=>{function o(e,t){return e.replace(new RegExp("".concat(r(t),"+$")),"")}function r(e){return e.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")}function a(e){const t=new Date(e),n=t.getDate(),o=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"][t.getMonth()],r=t.getFullYear();return"".concat(o," ").concat(n,", ").concat(r)}n.d(t,{Sm:()=>o,_m:()=>a})},79028:(e,t,n)=>{n.d(t,{AZ:()=>r,So:()=>l,UX:()=>o,cX:()=>a,vc:()=>i});const o="https://devbackend.livhousing.com",r={NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0,REACT_APP_NGROK_BACKEND_URL:"https://60f1-203-192-224-75.ngrok-free.app",REACT_APP_VERSION:"1",REACT_APP_BACKEND_URL:"https://devbackend.livhousing.com"}.REACT_APP_IP_DATA_API_KEY||"d5f26b13e02d0e43f0870c726797b2c2f726b739a4c91bf9e4bb59c2",a={NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0,REACT_APP_NGROK_BACKEND_URL:"https://60f1-203-192-224-75.ngrok-free.app",REACT_APP_VERSION:"1",REACT_APP_BACKEND_URL:"https://devbackend.livhousing.com"}.TRAINING_MEDIA_MAXSIZE,i={NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0,REACT_APP_NGROK_BACKEND_URL:"https://60f1-203-192-224-75.ngrok-free.app",REACT_APP_VERSION:"1",REACT_APP_BACKEND_URL:"https://devbackend.livhousing.com"}.CONVERSATION_MEDIA_MAXSIZE,l="https://60f1-203-192-224-75.ngrok-free.app"}}]);