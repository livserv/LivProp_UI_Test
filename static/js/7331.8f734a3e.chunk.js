"use strict";(self.webpackChunklib_prop_ui=self.webpackChunklib_prop_ui||[]).push([[7331],{8478:(e,t,n)=>{n.d(t,{Jt:()=>i,TF:()=>s,bE:()=>r,yJ:()=>a});var c=n(32026),o=n(44364);async function i(e,t){return d("GET",e,t,arguments.length>2&&void 0!==arguments[2]?arguments[2]:{})}async function r(e,t){return d("POST",e,t,arguments.length>2&&void 0!==arguments[2]?arguments[2]:{})}async function a(e,t){return d("PUT",e,t,arguments.length>2&&void 0!==arguments[2]?arguments[2]:{})}async function s(e,t){return d("DELETE",e,t,arguments.length>2&&void 0!==arguments[2]?arguments[2]:{})}async function d(e,t,n){let{headers:c,noAuth:o,...i}=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};const r="POST"===e||"PUT"===e||"DELETE"===e;t=function(e,t){if(!e)return e;const n=t&&Object.keys(t);if(null!==n&&void 0!==n&&n.length){const c=n.reduce(((e,n)=>{let c=t[n];return null===c||void 0===c?e:(c=`${n}=${encodeURIComponent(c)}`,e?`${e}&${c}`:c)}),"");c&&(e=`${e}${e.includes("?")?"&":"?"}${c}`)}if(e.startsWith("https://"))return e;return`${u}${e}`}(t,r?void 0:n);const a=n instanceof FormData;if(a||(n=n&&"object"===typeof n&&r?JSON.stringify(n):void 0),c||(c={}),a||(c["Content-Type"]="application/json"),c.Accept="application/json",!1!==o){const e=sessionStorage.getItem("token");e&&(c.Authorization=`Bearer ${e}`)}try{const o=await fetch(t,{...i,headers:c,body:n,method:e}),r=await o.json();if(o.ok){const{data:e,...t}=r;return delete t.status,e&&!Object.keys(t).length?e:r}throw r.message?new Error(r.message):r}catch(d){var s;throw console.error("Error calling API: ",d),null!==(s=d.message)&&void 0!==s&&s.includes("fetch")?new Error("Unable to reach server. Please check your network connectivity and try again."):new Error(d.message)}}const u=(0,c.s8)(o.jn,"/")},32026:(e,t,n)=>{n.d(t,{G6:()=>a,Ke:()=>l,OX:()=>d,PE:()=>_,Yq:()=>r,do:()=>u,qW:()=>s,s8:()=>o});var c=n(44364);function o(e,t){return e.replace(new RegExp(`${i(t)}+$`),"")}function i(e){return e.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")}function r(e){const t=new Date(e),n=t.getDate();return`${["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"][t.getMonth()]} ${n}, ${t.getFullYear()}`}function a(e,t,n){if(!t&&!e)return n;e=e||{};const c=Array.isArray(e)?[...e]:{...e};if(t.includes(".")){const o=t.indexOf("."),i=t.substring(0,o),r=t.substring(o+1);c[i]=a(e[i],r,n)}else c[t]=n;return c}function s(e,t){return btoa(`${e}_${t}_whatsapp_int`)}function d(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:12;const t="abcdefghijklmnopqrstuvwxyz0123456789";let n="";for(let c=0;c<e;c++)n+=t.charAt(Math.floor(36*Math.random()));return n}function u(e,t,n){if(!t&&!e)return n;e=e||{};const c=Array.isArray(e)?[...e]:{...e};if(t.includes(".")){const o=t.indexOf("."),i=t.substring(0,o),r=t.substring(o+1);c[i]=u(e[i],r,n)}else c[t]=n;return c}function _(e,t){const n=new Blob([e],{type:arguments.length>2&&void 0!==arguments[2]?arguments[2]:"text/csv"}),c=document.createElement("a");c.href=URL.createObjectURL(n),c.download=t,document.body.appendChild(c),c.click(),document.body.removeChild(c)}function l(e,t){return!t||t.startsWith("http")?t:(t.startsWith("/")&&(t=t.substring(1)),`${c.J}/${e}/${t}`)}},32829:(e,t,n)=>{n.d(t,{A:()=>i});var c=n(25371),o=n(44414);function i(e){let{children:t,type:n}=e;return(0,o.jsx)(c.P.div,{whileHover:{scale:1},whileTap:{scale:.9},children:t})}i.defaultProps={type:"scale"}},44364:(e,t,n)=>{n.d(t,{DX:()=>d,J:()=>s,Og:()=>i,jn:()=>c,mB:()=>a,pA:()=>r,pR:()=>o});const c="https://devbackend.livhousing.com:444",o="c17b949cf58c45cae47ce1cc65efc8240f77a2a69ca09ad4c4208852",i={NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0,REACT_APP_IP_DATA_API_KEY:"c17b949cf58c45cae47ce1cc65efc8240f77a2a69ca09ad4c4208852",REACT_APP_VERSION:"1",REACT_APP_GOOGLE_MAPS_API_KEY:"AIzaSyAQMYGdP2AmloNtJm4ZDrJxPuSfuo2RSXM",REACT_APP_BACKEND_URL:"https://devbackend.livhousing.com:444"}.TRAINING_MEDIA_MAXSIZE,r={NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0,REACT_APP_IP_DATA_API_KEY:"c17b949cf58c45cae47ce1cc65efc8240f77a2a69ca09ad4c4208852",REACT_APP_VERSION:"1",REACT_APP_GOOGLE_MAPS_API_KEY:"AIzaSyAQMYGdP2AmloNtJm4ZDrJxPuSfuo2RSXM",REACT_APP_BACKEND_URL:"https://devbackend.livhousing.com:444"}.CONVERSATION_MEDIA_MAXSIZE,a="AIzaSyAQMYGdP2AmloNtJm4ZDrJxPuSfuo2RSXM",s={NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0,REACT_APP_IP_DATA_API_KEY:"c17b949cf58c45cae47ce1cc65efc8240f77a2a69ca09ad4c4208852",REACT_APP_VERSION:"1",REACT_APP_GOOGLE_MAPS_API_KEY:"AIzaSyAQMYGdP2AmloNtJm4ZDrJxPuSfuo2RSXM",REACT_APP_BACKEND_URL:"https://devbackend.livhousing.com:444"}.REACT_APP_AMAZON_S3_BUCKET,d={NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0,REACT_APP_IP_DATA_API_KEY:"c17b949cf58c45cae47ce1cc65efc8240f77a2a69ca09ad4c4208852",REACT_APP_VERSION:"1",REACT_APP_GOOGLE_MAPS_API_KEY:"AIzaSyAQMYGdP2AmloNtJm4ZDrJxPuSfuo2RSXM",REACT_APP_BACKEND_URL:"https://devbackend.livhousing.com:444"}.REACT_APP_NGROK_BACKEND_URL||"https://devbackend.livhousing.com:444"},57331:(e,t,n)=>{n.r(t),n.d(t,{default:()=>u});var c=n(9950),o=n(60899),i=n(8478),r=n(32829),a=n(93383),s=n(28429),d=n(44414);const u=function(){var e;const{invoiceId:t}=(0,s.g)(),[n,u]=c.useState(),[_,l]=c.useState();if(c.useEffect((()=>{!async function(e){let t=document.querySelector('script[id="razorpay-script"]');if(t)return!0;new Promise((n=>{t=document.createElement("script"),t.id="razorpay-script",t.src=e,t.onload=()=>{n(!0)},t.onerror=()=>{n(!1)},document.body.appendChild(t)}))}("https://checkout.razorpay.com/v1/checkout.js")}),[]),c.useEffect((()=>{i.Jt(`/organization/invoice/view/${t}`).then(u)}),[t]),n)return(0,d.jsxs)(o.Ay,{item:!0,xs:12,children:[(0,d.jsx)("div",{children:(0,d.jsx)("iframe",{src:n.pdfUrl,title:"View Invoice",style:{width:"100%",height:n.isPaid?"calc(100vh - 12px)":"calc(100vh - 60px)"}})}),!n.isPaid&&(0,d.jsx)(o.Ay,{item:!0,xs:12,children:(0,d.jsx)("div",{style:{width:"260px",marginLeft:"auto",padding:"5px 25px"},children:(0,d.jsx)(r.A,{children:(0,d.jsxs)(a.A,{disableElevation:!0,isLoading:_,fullWidth:!0,size:"large",type:"submit",variant:"contained",color:"primary",onClick:async()=>{l(!0);const e=await i.bE(`/organization/invoice/${n.invoiceId}/make-payment`);new window.Razorpay(e).open(),l(!1)},children:["Pay ",n.currencyPrefix," ",null===(e=n.amount)||void 0===e?void 0:e.toFixed(2)]})})})})]})}},93383:(e,t,n)=>{n.d(t,{A:()=>a});var c=n(9950),o=n(10226),i=n(46639),r=n(44414);const a=function(e){let{onClick:t,disabled:n,isLoading:a,children:s,...d}=e;const[u,_]=c.useState(a);return(0,r.jsxs)(o.A,{onClick:e=>{if(!t)return;const n=t(e);"function"===typeof(null===n||void 0===n?void 0:n.finally)&&(_(!0),n.finally((()=>_(!1))))},disabled:u||a||n,...d,children:[(u||a)&&(0,r.jsx)(i.A,{size:16,color:"primary",style:{marginRight:"10px"}}),s]})}}}]);