"use strict";(self.webpackChunklib_prop_ui=self.webpackChunklib_prop_ui||[]).push([[944],{82921:(t,e,n)=>{n.r(e),n.d(e,{default:()=>_});var o=n(9950),c=n(28429),r=n(32026),s=n(8478),a=n(15820),i=n(78023),d=n(44414);const _=function(){const{organizationId:t,botId:e,recipientId:n,chatId:_}=(0,c.g)(),[u,E]=o.useState();return o.useEffect((()=>{s.Jt("/bot/".concat(t,"/").concat(e,"/chat/history/").concat(n,"/").concat(_,"?includeBot=1")).then((t=>{var e;const n=(0,r.Yq)(null===(e=t.messages[0])||void 0===e?void 0:e.createdAt);t.botDesign=(0,i.Y)(t.botDesign,{window:{width:"600px",height:"calc(100vh - 120px)"},header:{titleText:n+" (".concat(t.titleText,")")}}),E(t)}),(t=>{console.error("Unable to load chat conversations:",t)}))}),[t,e,n,_]),u?(0,d.jsx)("div",{className:"conversation-history",children:(0,d.jsx)(a.A,{botDesign:u.botDesign,messages:u.messages,showTime:!0})}):(0,d.jsx)("div",{children:"Loading... Please wait..."})}},8478:(t,e,n)=>{n.d(e,{Jt:()=>r,Ne:()=>u,TF:()=>i,bE:()=>s,yJ:()=>a});var o=n(32026),c=n(44364);async function r(t,e){return d("GET",t,e,arguments.length>2&&void 0!==arguments[2]?arguments[2]:{})}async function s(t,e){return d("POST",t,e,arguments.length>2&&void 0!==arguments[2]?arguments[2]:{})}async function a(t,e){return d("PUT",t,e,arguments.length>2&&void 0!==arguments[2]?arguments[2]:{})}async function i(t,e){return d("DELETE",t,e,arguments.length>2&&void 0!==arguments[2]?arguments[2]:{})}async function d(t,e,n){let{headers:o,noAuth:c,...r}=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};const s="POST"===t||"PUT"===t||"DELETE"===t;e=u(e,s?void 0:n);const a=n instanceof FormData;if(a||(n=n&&"object"===typeof n&&s?JSON.stringify(n):void 0),o||(o={}),a||(o["Content-Type"]="application/json"),o.Accept="application/json",!1!==c){const t=sessionStorage.getItem("token");t&&(o.Authorization="Bearer ".concat(t))}try{const c=await fetch(e,{...r,headers:o,body:n,method:t}),s=await c.json();if(c.ok){const{data:t,...e}=s;return delete e.status,t&&!Object.keys(e).length?t:s}throw s.message?new Error(s.message):s}catch(d){var i;throw console.error("Error calling API: ",d),null!==(i=d.message)&&void 0!==i&&i.includes("fetch")?new Error("Unable to reach server. Please check your network connectivity and try again."):new Error(d.message)}}const _=(0,o.s8)(c.jn,"/");function u(t,e){if(!t)return t;const n=e&&Object.keys(e);if(null!==n&&void 0!==n&&n.length){const o=n.reduce(((t,n)=>{let o=e[n];return null===o||void 0===o?t:(o="".concat(n,"=").concat(encodeURIComponent(o)),t?"".concat(t,"&").concat(o):o)}),"");o&&(t="".concat(t).concat(t.includes("?")?"&":"?").concat(o))}return t.startsWith("https://")?t:"".concat(_).concat(t)}},32026:(t,e,n)=>{function o(t,e){return t.replace(new RegExp("".concat(c(e),"+$")),"")}function c(t){return t.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")}function r(t){const e=new Date(t),n=e.getDate(),o=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"][e.getMonth()],c=e.getFullYear();return"".concat(o," ").concat(n,", ").concat(c)}function s(t,e,n){if(!e&&!t)return n;t=t||{};const o=Array.isArray(t)?[...t]:{...t};if(e.includes(".")){const c=e.indexOf("."),r=e.substring(0,c),a=e.substring(c+1);o[r]=s(t[r],a,n)}else o[e]=n;return o}n.d(e,{G6:()=>s,Yq:()=>r,s8:()=>o})},44364:(t,e,n)=>{n.d(e,{DX:()=>a,Og:()=>r,jn:()=>o,pA:()=>s,pR:()=>c});const o="https://devbackend.livhousing.com",c={NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0,REACT_APP_NGROK_BACKEND_URL:"https://60f1-203-192-224-75.ngrok-free.app",REACT_APP_VERSION:"1",REACT_APP_BACKEND_URL:"https://devbackend.livhousing.com"}.REACT_APP_IP_DATA_API_KEY||"d5f26b13e02d0e43f0870c726797b2c2f726b739a4c91bf9e4bb59c2",r={NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0,REACT_APP_NGROK_BACKEND_URL:"https://60f1-203-192-224-75.ngrok-free.app",REACT_APP_VERSION:"1",REACT_APP_BACKEND_URL:"https://devbackend.livhousing.com"}.TRAINING_MEDIA_MAXSIZE,s={NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0,REACT_APP_NGROK_BACKEND_URL:"https://60f1-203-192-224-75.ngrok-free.app",REACT_APP_VERSION:"1",REACT_APP_BACKEND_URL:"https://devbackend.livhousing.com"}.CONVERSATION_MEDIA_MAXSIZE,a="https://60f1-203-192-224-75.ngrok-free.app"}}]);