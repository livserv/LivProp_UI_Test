"use strict";(self.webpackChunklib_prop_ui=self.webpackChunklib_prop_ui||[]).push([[174],{97316:(e,t,n)=>{n.d(t,{Z:()=>h});var o=n(47313),i=n(19860),a=n(73428),s=n(54641),r=n(61113),c=n(93405),l=n(46417);const d={p:2.5,"& .MuiCardHeader-action":{m:"0px auto",alignSelf:"center"}},h=(0,o.forwardRef)(((e,t)=>{let{border:n=!0,boxShadow:o,children:h,content:x=!0,contentSX:u={},darkTitle:p,elevation:g,secondary:m,shadow:_,sx:j={},title:S,...b}=e;const Z=(0,i.Z)();return o="dark"===Z.palette.mode?o||!0:o,(0,l.jsxs)(a.Z,{elevation:g||0,ref:t,...b,sx:{border:n?"1px solid":"none",borderRadius:2,borderColor:"dark"===Z.palette.mode?Z.palette.divider:Z.palette.grey.A800,boxShadow:!o||n&&"dark"!==Z.palette.mode?"inherit":_||Z.customShadows.z1,":hover":{boxShadow:o?_||Z.customShadows.z1:"inherit"},"& pre":{m:0,p:"16px !important",fontFamily:Z.typography.fontFamily,fontSize:"0.75rem"},...j},children:[!p&&S&&(0,l.jsx)(s.Z,{sx:d,titleTypographyProps:{variant:"subtitle1"},title:S,action:m}),p&&S&&(0,l.jsx)(s.Z,{sx:d,title:(0,l.jsx)(r.Z,{variant:"h3",children:S}),action:m}),x&&(0,l.jsx)(c.Z,{sx:u,children:h}),!x&&h]})}))},63089:(e,t,n)=>{n.d(t,{Z:()=>r});var o=n(47313),i=n(31095),a=n(85281),s=n(46417);const r=function(e){let{onClick:t,disabled:n,isLoading:r,children:c,...l}=e;const[d,h]=o.useState(r);return(0,s.jsxs)(i.Z,{onClick:e=>{if(!t)return;const n=t(e);"function"===typeof(null===n||void 0===n?void 0:n.finally)&&(h(!0),n.finally((()=>h(!1))))},disabled:d||r||n,...l,children:[(d||r)&&(0,s.jsx)(a.Z,{size:16,color:"primary",style:{marginRight:"10px"}}),c]})}},70174:(e,t,n)=>{n.r(t),n.d(t,{default:()=>T});var o=n(47313),i=n(9019),a=n(61113),s=n(42832),r=n(41806),c=n(50301),l=n(66149),d=n(33604),h=n(96467),x=n(37843),u=n(4117),p=n(31095),g=n(97316),m=n(42420),_=n(5211),j=n(65954),S=n(23509),b=n(63089),Z=n(45960),C=n(51997),f=n(47131),v=n(89994),E=n(11623),P=n(86043),A=n(70024),y=n(83929),N=n(46417);const T=()=>{const e=(0,S.tN)((e=>e.botsList)),[t,n]=o.useState({preSaleStatus:!1});return(0,N.jsxs)(i.ZP,{container:!0,rowSpacing:4.5,columnSpacing:2.75,children:[(0,N.jsx)(i.ZP,{item:!0,xs:12,sx:{mb:-2.25},children:(0,N.jsx)(a.Z,{children:"Bots List"})}),(0,N.jsx)(i.ZP,{item:!0,xs:12,children:(0,N.jsx)(y.Z,{style:{float:"right"},label:"Get Presale Lead",control:(0,N.jsx)(A.Z,{checked:t.preSaleStatus,onChange:e=>{n({[e.target.name]:e.target.checked})},name:"preSaleStatus"})})}),e.map(((e,t)=>(0,N.jsx)(i.ZP,{item:!0,xs:12,sm:6,md:4,lg:3,children:(0,N.jsx)(R,{bot:e})},t))),(0,N.jsx)(i.ZP,{item:!0,xs:12,sm:6,md:4,lg:3,children:(0,N.jsx)(I,{index:e.length})}),(0,N.jsx)(i.ZP,{item:!0,md:8,sx:{display:{sm:"none",md:"block",lg:"none"}}})]})},R=e=>{let{bot:t}=e;const{color:n,botName:o,createdAt:c}=t;return(0,N.jsxs)(g.Z,{contentSX:{p:2.25},children:[(0,N.jsxs)(s.Z,{spacing:.5,children:[(0,N.jsx)(a.Z,{variant:"h6",color:"textSecondary",children:"Bot Name"}),(0,N.jsx)(i.ZP,{container:!0,alignItems:"center",children:(0,N.jsx)(i.ZP,{item:!0,children:(0,N.jsx)(a.Z,{variant:"h4",color:"inherit",children:o})})}),(0,N.jsxs)(i.ZP,{alignItems:"right",children:[(0,N.jsx)(D,{bot:t}),(0,N.jsx)(O,{bot:t})]})]}),(0,N.jsx)(r.Z,{sx:{pt:2.25},children:(0,N.jsxs)(a.Z,{variant:"caption",color:"textSecondary",children:["Created on:"," ",(0,N.jsx)(a.Z,{component:"span",variant:"caption",sx:{color:"".concat(n||"primary",".main")},children:B(c)})]})})]})},I=e=>{let{index:t}=e;return(0,N.jsx)(g.Z,{contentSX:{p:2.25},style:{background:"#E0E0E0"},children:(0,N.jsxs)(s.Z,{spacing:.5,children:[(0,N.jsx)(a.Z,{color:"textSecondary",children:t?"Create a new Bot":"Create your first Bot"}),(0,N.jsx)(i.ZP,{container:!0,alignItems:"center",children:(0,N.jsx)(i.ZP,{item:!0,children:(0,N.jsx)(w,{})})})]})})},k=o.forwardRef((function(e,t){return(0,N.jsx)(c.Z,{direction:"up",ref:t,...e})}));function w(){const[e,t]=(0,o.useState)(""),[n,i]=o.useState(!1),s=()=>i(!1);return(0,N.jsxs)(N.Fragment,{children:[(0,N.jsx)(m.Z,{color:"primary","aria-label":"add",size:"medium",onClick:()=>i(!0),children:(0,N.jsx)(_.Z,{})}),(0,N.jsxs)(l.Z,{open:n,TransitionComponent:k,keepMounted:!0,onClose:s,maxWidth:"md",children:[(0,N.jsx)(d.Z,{style:{width:"400px"},children:(0,N.jsx)(a.Z,{color:"inherit",children:"Create New Bot"})}),(0,N.jsx)(h.Z,{children:(0,N.jsx)(x.Z,{fullWidth:!0,type:"text",id:"botName",name:"botName",onChange:e=>t(e.target.value),placeholder:"Bot Name",autoComplete:"off"})}),(0,N.jsxs)(u.Z,{children:[(0,N.jsx)(p.Z,{onClick:s,children:"Cancel"}),(0,N.jsx)(b.Z,{variant:"contained",disabled:(null===e||void 0===e?void 0:e.trim().length)<3,onClick:async()=>{await(0,Z.lz)(e),s(),(0,P.W)(!0,"New bot added successfully","success")},children:"Create"})]})]})]})}function D(e){let{bot:t}=e;const{_id:n,botName:i,organizationId:s}=t,[r,c]=(0,o.useState)(""),[g,m]=o.useState(!1),[_,S]=(0,o.useState)(),C=()=>{c(""),m(!1)};return(0,N.jsxs)(N.Fragment,{children:[(0,N.jsx)(f.Z,{"aria-label":"edit",sx:{color:v.Z[500]},onClick:()=>m(!0),children:(0,N.jsx)(j.Z,{})}),(0,N.jsxs)(l.Z,{open:g,TransitionComponent:k,keepMounted:!0,onClose:C,maxWidth:"md",children:[(0,N.jsx)(d.Z,{style:{width:"400px"},children:(0,N.jsx)(a.Z,{color:"inherit",children:"Edit Bot Name"})}),(0,N.jsx)(h.Z,{children:(0,N.jsx)(x.Z,{fullWidth:!0,type:"text",id:"editBotName",name:"editBotName",defaultValue:i,onChange:e=>{""===e.target.value?S("Invalid Bot Name"):(S(""),c(e.target.value))},placeholder:"Bot Name",autoComplete:"off"})}),(0,N.jsxs)(u.Z,{children:[_&&(0,N.jsxs)("div",{style:{color:"red"},children:[" *",_," "]}),(0,N.jsx)(p.Z,{onClick:C,children:"Cancel"}),(0,N.jsx)(b.Z,{variant:"contained",disabled:(null===r||void 0===r?void 0:r.trim().length)<3,onClick:async()=>{const e={botId:n,botName:r,organizationId:s};await(0,Z.Iz)(e),C(),(0,P.W)(!0,"Bot name updated successfully","success")},children:"Update"})]})]})]})}function O(e){let{bot:t}=e;const{_id:n}=t;console.log("--------",n);const[i,s]=o.useState(!1),r=()=>{s(!1)};return(0,N.jsxs)(N.Fragment,{children:[(0,N.jsx)(f.Z,{"aria-label":"delete",sx:{color:E.Z[500]},onClick:()=>{s(!0)},children:(0,N.jsx)(C.Z,{})}),(0,N.jsxs)(l.Z,{open:i,onClose:r,children:[(0,N.jsx)(d.Z,{id:"alert-dialog-title",children:(0,N.jsx)(a.Z,{gutterBottom:!0,children:"Are sure you want to delete the bot ?"})}),(0,N.jsxs)(u.Z,{children:[(0,N.jsx)(p.Z,{onClick:r,children:"Cancel"}),(0,N.jsx)(b.Z,{variant:"contained",onClick:async()=>{console.log("----delete----")},children:"Delete"})]})]})]})}function B(e){const t=new Date(e),n=t.getDate(),o=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"][t.getMonth()],i=t.getFullYear();return"".concat(o," ").concat(n,", ").concat(i)}},69753:(e,t,n)=>{function o(e){return e.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")}n.d(t,{U2:()=>a,v_:()=>s,TY:()=>h});var i=n(32203);async function a(e,t){return r("GET",e,t,arguments.length>2&&void 0!==arguments[2]?arguments[2]:{})}async function s(e,t){return r("POST",e,t,arguments.length>2&&void 0!==arguments[2]?arguments[2]:{})}async function r(e,t,n){let{headers:o,noAuth:i,...a}=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};const s="POST"===e||"PUT"===e||"DELETE"===e;if(t=h(t),n=n&&"object"===typeof n&&s?JSON.stringify(n):void 0,o||(o={}),o["Content-Type"]="application/json",o.Accept="application/json",!1!==i){const e=sessionStorage.getItem("token");e&&(o.Authorization="Bearer ".concat(e))}const r=await fetch(t,{...a,headers:o,body:n,method:e}),c=await r.json();if(r.ok){const{data:e,...t}=c;return delete t.status,e&&!Object.keys(t).length?e:c}throw c.message?new Error(c.message):c}const c=(l=i.Hi,d="/",l.replace(new RegExp("".concat(o(d),"+$")),""));var l,d;function h(e){return e?e.startsWith("https://")?e:"".concat(c).concat(e):e}},45960:(e,t,n)=>{n.d(t,{Bc:()=>s,Iz:()=>r,lz:()=>a,pb:()=>c});var o=n(69753),i=n(23509);async function a(e){const{organization:{websiteUrl:t,_id:n}}=i.tN.getState(),a={organizationId:n,websiteUrl:t,botName:e,botDesign:{botLogo:{name:"",url:""},backgroundColor:"coral",textColor:"#fff",dimensions:{heightInPixel:"500px",heightInPercent:"70%",widthInPixel:"350px",widthInPercent:"25%"},botLogoDimensions:{heightInPixel:"30px",heightInPercent:"100%",widthInPixel:"30px",widthInPercent:"100%"}}};l(await o.v_("/bot/initialize-create-bot",a))}async function s(e,t){let{botDesign:n}=i.tN.getState();n={...n,...t};l(await o.v_("/bot/save-bot-design",{botDesign:n},{headers:{botId:e}}))}async function r(e){l(await o.v_("/bot/edit-bot-details",e))}async function c(e,t){let{botSettings:n}=i.tN.getState();n={...botDesign,...t};l(await o.v_("/bot/save-bot-settings",{botSettings:n},{headers:{botId:e}}))}function l(e){const t=e._id;let{botsMap:n,botsList:o}=i.tN.getState();n={...n,[t]:e},o=[...o];const a=o.findIndex((e=>e._id===t));a>=0?o[a]=e:o.push(e),i.tN.setState({selectedBotId:t,botsMap:n,botsList:o})}},32203:(e,t,n)=>{n.d(t,{Hi:()=>o,LC:()=>r,lB:()=>i,rn:()=>s,yu:()=>a});const o="https://devbackend.livhousing.com",i={NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0,REACT_APP_NGROK_BACKEND_URL:"https://60f1-203-192-224-75.ngrok-free.app",REACT_APP_VERSION:"1",REACT_APP_BACKEND_URL:"https://devbackend.livhousing.com"}.REACT_APP_IP_DATA_API_KEY,a={NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0,REACT_APP_NGROK_BACKEND_URL:"https://60f1-203-192-224-75.ngrok-free.app",REACT_APP_VERSION:"1",REACT_APP_BACKEND_URL:"https://devbackend.livhousing.com"}.TRAINING_MEDIA_MAXSIZE,s={NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0,REACT_APP_NGROK_BACKEND_URL:"https://60f1-203-192-224-75.ngrok-free.app",REACT_APP_VERSION:"1",REACT_APP_BACKEND_URL:"https://devbackend.livhousing.com"}.CONVERSATION_MEDIA_MAXSIZE,r="https://60f1-203-192-224-75.ngrok-free.app"}}]);